(self.webpackChunkairbnb_team2=self.webpackChunkairbnb_team2||[]).push([[179],{2011:(It,_e,j)=>{"use strict";j.d(_e,{Dh:()=>ve,GT:()=>De,cc:()=>Ve,hO:()=>Je,on:()=>ne,pX:()=>ye,xv:()=>Se});var s=j(4650),L=j(127),U=j(5813);It=j.hmd(It);const pe=["ngOnDestroy"],ye=(be,Ze,ut,je={})=>new Proxy(be,{get:(Ue,ke)=>ut.runOutsideAngular(()=>{var st;if(be[ke])return!(null===(st=je?.spy)||void 0===st)&&st.get&&je.spy.get(ke,be[ke]),be[ke];if(pe.indexOf(ke)>-1)return()=>{};const de=Ze.toPromise().then(Ae=>{const Ee=Ae&&Ae[ke];return"function"==typeof Ee?Ee.bind(Ae):Ee&&Ee.then?Ee.then(re=>ut.run(()=>re)):ut.run(()=>Ee)});return new Proxy(()=>{},{get:(Ae,Ee)=>de[Ee],apply:(Ae,Ee,re)=>de.then(ce=>{var we;const fe=ce&&ce(...re);return!(null===(we=je?.spy)||void 0===we)&&we.apply&&je.spy.apply(ke,re,fe),fe})})})}),De=(be,Ze)=>{Ze.forEach(ut=>{Object.getOwnPropertyNames(ut.prototype||ut).forEach(je=>{Object.defineProperty(be.prototype,je,Object.getOwnPropertyDescriptor(ut.prototype||ut,je))})})};class ae{constructor(Ze){return Ze}}const ve=new s.OlP("angularfire2.app.options"),Se=new s.OlP("angularfire2.app.name");function ne(be,Ze,ut){const Ue="object"==typeof ut&&ut||{};Ue.name=Ue.name||"string"==typeof ut&&ut||"[DEFAULT]";const st=L.Z.apps.filter(de=>de&&de.name===Ue.name)[0]||Ze.runOutsideAngular(()=>L.Z.initializeApp(be,Ue));try{JSON.stringify(be)!==JSON.stringify(st.options)&&ee("error",`${st.name} Firebase App already initialized with different options${It.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ae(st)}const ee=(be,...Ze)=>{(0,s.X6Q)()&&typeof console<"u"&&console[be](...Ze)},oe={provide:ae,useFactory:ne,deps:[ve,s.R0b,[new s.FiY,Se]]};let Je=(()=>{class be{constructor(ut){L.Z.registerVersion("angularfire",U.q4.full,"core"),L.Z.registerVersion("angularfire",U.q4.full,"app-compat"),L.Z.registerVersion("angular",s.q4F.full,ut.toString())}static initializeApp(ut,je){return{ngModule:be,providers:[{provide:ve,useValue:ut},{provide:Se,useValue:je}]}}}return be.\u0275fac=function(ut){return new(ut||be)(s.LFG(s.Lbi))},be.\u0275mod=s.oAB({type:be}),be.\u0275inj=s.cJS({providers:[oe]}),be})();function Ve(be,Ze,ut,je,Ue){const[,ke,st]=globalThis.\u0275AngularfireInstanceCache.find(de=>de[0]===be)||[];if(ke)return function Oe(be,Ze){try{return be.toString()===Ze.toString()}catch{return be===Ze}}(Ue,st)||(Me("error",`${Ze} was already initialized on the ${ut} Firebase App with different settings.${rt?" You may need to reload as Firebase is not HMR aware.":""}`),Me("warn",{is:Ue,was:st})),ke;{const de=je();return globalThis.\u0275AngularfireInstanceCache.push([be,de,Ue]),de}}const rt=!!It.hot,Me=(be,...Ze)=>{(0,s.X6Q)()&&typeof console<"u"&&console[be](...Ze)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(It,_e,j)=>{"use strict";j.d(_e,{q4:()=>ot,iC:()=>Js,fc:()=>Si,HU:()=>ir,vb:()=>qa,JM:()=>Pc});var s=j(4650),L=j(5867),U=j(5861),pe=j(9681),ye=j(2090),De=j(4859),ae=j(1877),ve=j(8766);const Se="@firebase/installations",ne="0.5.16",oe=`w:${ne}`,Je="FIS_v2",Ze=new ye.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ut(x){return x instanceof ye.ZR&&x.code.includes("request-failed")}function je({projectId:x}){return`https://firebaseinstallations.googleapis.com/v1/projects/${x}/installations`}function Ue(x){return{token:x.token,requestStatus:2,expiresIn:ce(x.expiresIn),creationTime:Date.now()}}function ke(x,M){return st.apply(this,arguments)}function st(){return(st=(0,U.Z)(function*(x,M){const Y=(yield M.json()).error;return Ze.create("request-failed",{requestName:x,serverCode:Y.code,serverMessage:Y.message,serverStatus:Y.status})})).apply(this,arguments)}function de({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function Ae(x,{refreshToken:M}){const N=de(x);return N.append("Authorization",function we(x){return`${Je} ${x}`}(M)),N}function Ee(x){return re.apply(this,arguments)}function re(){return(re=(0,U.Z)(function*(x){const M=yield x();return M.status>=500&&M.status<600?x():M})).apply(this,arguments)}function ce(x){return Number(x.replace("s","000"))}function fe(x,M){return We.apply(this,arguments)}function We(){return(We=(0,U.Z)(function*({appConfig:x,heartbeatServiceProvider:M},{fid:N}){const Y=je(x),le=de(x),me=M.getImmediate({optional:!0});if(me){const Yt=yield me.getHeartbeatsHeader();Yt&&le.append("x-firebase-client",Yt)}const $e={method:"POST",headers:le,body:JSON.stringify({fid:N,authVersion:Je,appId:x.appId,sdkVersion:oe})},wt=yield Ee(()=>fetch(Y,$e));if(wt.ok){const Yt=yield wt.json();return{fid:Yt.fid||N,registrationStatus:2,refreshToken:Yt.refreshToken,authToken:Ue(Yt.authToken)}}throw yield ke("Create Installation",wt)})).apply(this,arguments)}function Qe(x){return new Promise(M=>{setTimeout(M,x)})}const An=/^[cdef][\w-]{21}$/;function lt(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const N=function Rn(x){return function Ct(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return An.test(N)?N:""}catch{return""}}function Fn(x){return`${x.appName}!${x.appId}`}const Dn=new Map;function un(x,M){const N=Fn(x);qi(N,M),function pi(x,M){const N=function Xn(){return!Zi&&"BroadcastChannel"in self&&(Zi=new BroadcastChannel("[Firebase] FID Change"),Zi.onmessage=x=>{qi(x.data.key,x.data.fid)}),Zi}();N&&N.postMessage({key:x,fid:M}),function Yr(){0===Dn.size&&Zi&&(Zi.close(),Zi=null)}()}(N,M)}function qi(x,M){const N=Dn.get(x);if(N)for(const Y of N)Y(M)}let Zi=null;const Ln="firebase-installations-store";let Wi=null;function Zn(){return Wi||(Wi=(0,ve.X3)("firebase-installations-database",1,{upgrade:(x,M)=>{0===M&&x.createObjectStore(Ln)}})),Wi}function nt(x,M){return bi.apply(this,arguments)}function bi(){return(bi=(0,U.Z)(function*(x,M){const N=Fn(x),le=(yield Zn()).transaction(Ln,"readwrite"),me=le.objectStore(Ln),Le=yield me.get(N);return yield me.put(M,N),yield le.done,(!Le||Le.fid!==M.fid)&&un(x,M.fid),M})).apply(this,arguments)}function ti(x){return dn.apply(this,arguments)}function dn(){return(dn=(0,U.Z)(function*(x){const M=Fn(x),Y=(yield Zn()).transaction(Ln,"readwrite");yield Y.objectStore(Ln).delete(M),yield Y.done})).apply(this,arguments)}function Bi(x,M){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,U.Z)(function*(x,M){const N=Fn(x),le=(yield Zn()).transaction(Ln,"readwrite"),me=le.objectStore(Ln),Le=yield me.get(N),$e=M(Le);return void 0===$e?yield me.delete(N):yield me.put($e,N),yield le.done,$e&&(!Le||Le.fid!==$e.fid)&&un(x,$e.fid),$e})).apply(this,arguments)}function zn(x){return jn.apply(this,arguments)}function jn(){return(jn=(0,U.Z)(function*(x){let M;const N=yield Bi(x.appConfig,Y=>{const le=Gn(Y),me=St(x,le);return M=me.registrationPromise,me.installationEntry});return""===N.fid?{installationEntry:yield M}:{installationEntry:N,registrationPromise:M}})).apply(this,arguments)}function Gn(x){return Ut(x||{fid:lt(),registrationStatus:0})}function St(x,M){if(0===M.registrationStatus){if(!navigator.onLine)return{installationEntry:M,registrationPromise:Promise.reject(Ze.create("app-offline"))};const N={fid:M.fid,registrationStatus:1,registrationTime:Date.now()},Y=function Xe(x,M){return qt.apply(this,arguments)}(x,N);return{installationEntry:N,registrationPromise:Y}}return 1===M.registrationStatus?{installationEntry:M,registrationPromise:ur(x)}:{installationEntry:M}}function qt(){return(qt=(0,U.Z)(function*(x,M){try{const N=yield fe(x,M);return nt(x.appConfig,N)}catch(N){throw ut(N)&&409===N.customData.serverCode?yield ti(x.appConfig):yield nt(x.appConfig,{fid:M.fid,registrationStatus:0}),N}})).apply(this,arguments)}function ur(x){return gi.apply(this,arguments)}function gi(){return(gi=(0,U.Z)(function*(x){let M=yield er(x.appConfig);for(;1===M.registrationStatus;)yield Qe(100),M=yield er(x.appConfig);if(0===M.registrationStatus){const{installationEntry:N,registrationPromise:Y}=yield zn(x);return Y||N}return M})).apply(this,arguments)}function er(x){return Bi(x,M=>{if(!M)throw Ze.create("installation-not-found");return Ut(M)})}function Ut(x){return function mi(x){return 1===x.registrationStatus&&x.registrationTime+1e4<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function Jt(x,M){return gr.apply(this,arguments)}function gr(){return(gr=(0,U.Z)(function*({appConfig:x,heartbeatServiceProvider:M},N){const Y=gn(x,N),le=Ae(x,N),me=M.getImmediate({optional:!0});if(me){const Yt=yield me.getHeartbeatsHeader();Yt&&le.append("x-firebase-client",Yt)}const $e={method:"POST",headers:le,body:JSON.stringify({installation:{sdkVersion:oe,appId:x.appId}})},wt=yield Ee(()=>fetch(Y,$e));if(wt.ok)return Ue(yield wt.json());throw yield ke("Generate Auth Token",wt)})).apply(this,arguments)}function gn(x,{fid:M}){return`${je(x)}/${M}/authTokens:generate`}function Ni(x){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,U.Z)(function*(x,M=!1){let N;const Y=yield Bi(x.appConfig,me=>{if(!_n(me))throw Ze.create("not-registered");const Le=me.authToken;if(!M&&te(Le))return me;if(1===Le.requestStatus)return N=pt(x,M),me;{if(!navigator.onLine)throw Ze.create("app-offline");const $e=ie(me);return N=Tt(x,$e),$e}});return N?yield N:Y.authToken})).apply(this,arguments)}function pt(x,M){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,U.Z)(function*(x,M){let N=yield mt(x.appConfig);for(;1===N.authToken.requestStatus;)yield Qe(100),N=yield mt(x.appConfig);const Y=N.authToken;return 0===Y.requestStatus?Ni(x,M):Y})).apply(this,arguments)}function mt(x){return Bi(x,M=>{if(!_n(M))throw Ze.create("not-registered");return function $(x){return 1===x.requestStatus&&x.requestTime+1e4<Date.now()}(M.authToken)?Object.assign(Object.assign({},M),{authToken:{requestStatus:0}}):M})}function Tt(x,M){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,U.Z)(function*(x,M){try{const N=yield Jt(x,M),Y=Object.assign(Object.assign({},M),{authToken:N});return yield nt(x.appConfig,Y),N}catch(N){if(!ut(N)||401!==N.customData.serverCode&&404!==N.customData.serverCode){const Y=Object.assign(Object.assign({},M),{authToken:{requestStatus:0}});yield nt(x.appConfig,Y)}else yield ti(x.appConfig);throw N}})).apply(this,arguments)}function _n(x){return void 0!==x&&2===x.registrationStatus}function te(x){return 2===x.requestStatus&&!function Q(x){const M=Date.now();return M<x.creationTime||x.creationTime+x.expiresIn<M+36e5}(x)}function ie(x){const M={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:M})}function W(){return(W=(0,U.Z)(function*(x){const M=x,{installationEntry:N,registrationPromise:Y}=yield zn(M);return Y?Y.catch(console.error):Ni(M).catch(console.error),N.fid})).apply(this,arguments)}function Ge(){return(Ge=(0,U.Z)(function*(x,M=!1){const N=x;return yield _t(N),(yield Ni(N,M)).token})).apply(this,arguments)}function _t(x){return yt.apply(this,arguments)}function yt(){return(yt=(0,U.Z)(function*(x){const{registrationPromise:M}=yield zn(x);M&&(yield M)})).apply(this,arguments)}function wi(x){return Ze.create("missing-app-config-values",{valueName:x})}const zo="installations",ao=x=>{const M=x.getProvider("app").getImmediate(),N=function Vn(x){if(!x||!x.options)throw wi("App Configuration");if(!x.name)throw wi("App Name");const M=["projectId","apiKey","appId"];for(const N of M)if(!x.options[N])throw wi(N);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(M);return{app:M,appConfig:N,heartbeatServiceProvider:(0,pe._getProvider)(M,"heartbeat"),_delete:()=>Promise.resolve()}},Bs=x=>{const M=x.getProvider("app").getImmediate(),N=(0,pe._getProvider)(M,zo).getImmediate();return{getId:()=>function V(x){return W.apply(this,arguments)}(N),getToken:le=>function he(x){return Ge.apply(this,arguments)}(N,le)}};(function yl(){(0,pe._registerComponent)(new De.wA(zo,ao,"PUBLIC")),(0,pe._registerComponent)(new De.wA("installations-internal",Bs,"PRIVATE"))})(),(0,pe.registerVersion)(Se,ne),(0,pe.registerVersion)(Se,ne,"esm2017");const bs="@firebase/remote-config",Ei=new ye.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class uo{constructor(M,N,Y,le){this.client=M,this.storage=N,this.storageCache=Y,this.logger=le}isCachedDataFresh(M,N){if(!N)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Y=Date.now()-N,le=Y<=M;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Y}. Cache max age millis (minimumFetchIntervalMillis setting): ${M}. Is cache hit: ${le}.`),le}fetch(M){var N=this;return(0,U.Z)(function*(){const[Y,le]=yield Promise.all([N.storage.getLastSuccessfulFetchTimestampMillis(),N.storage.getLastSuccessfulFetchResponse()]);if(le&&N.isCachedDataFresh(M.cacheMaxAgeMillis,Y))return le;M.eTag=le&&le.eTag;const me=yield N.client.fetch(M),Le=[N.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===me.status&&Le.push(N.storage.setLastSuccessfulFetchResponse(me)),yield Promise.all(Le),me})()}}function jo(x=navigator){return x.languages&&x.languages[0]||x.language}class ho{constructor(M,N,Y,le,me,Le){this.firebaseInstallations=M,this.sdkVersion=N,this.namespace=Y,this.projectId=le,this.apiKey=me,this.appId=Le}fetch(M){var N=this;return(0,U.Z)(function*(){var Y,le,me;const[Le,$e]=yield Promise.all([N.firebaseInstallations.getId(),N.firebaseInstallations.getToken()]),Yt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${N.projectId}/namespaces/${N.namespace}:fetch?key=${N.apiKey}`,Xt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":M.eTag||"*"},kt={sdk_version:N.sdkVersion,app_instance_id:Le,app_instance_id_token:$e,app_id:N.appId,language_code:jo()},Oi={method:"POST",headers:Xt,body:JSON.stringify(kt)},rr=fetch(Yt,Oi),Ll=new Promise((Bl,Wa)=>{M.signal.addEventListener(()=>{const Jr=new Error("The operation was aborted.");Jr.name="AbortError",Wa(Jr)})});let Co;try{yield Promise.race([rr,Ll]),Co=yield rr}catch(Bl){let Wa="fetch-client-network";throw"AbortError"===(null===(Y=Bl)||void 0===Y?void 0:Y.name)&&(Wa="fetch-timeout"),Ei.create(Wa,{originalErrorMessage:null===(le=Bl)||void 0===le?void 0:le.message})}let rn=Co.status;const Ms=Co.headers.get("ETag")||void 0;let Eo,Xs;if(200===Co.status){let Bl;try{Bl=yield Co.json()}catch(Wa){throw Ei.create("fetch-client-parse",{originalErrorMessage:null===(me=Wa)||void 0===me?void 0:me.message})}Eo=Bl.entries,Xs=Bl.state}if("INSTANCE_STATE_UNSPECIFIED"===Xs?rn=500:"NO_CHANGE"===Xs?rn=304:("NO_TEMPLATE"===Xs||"EMPTY_CONFIG"===Xs)&&(Eo={}),304!==rn&&200!==rn)throw Ei.create("fetch-status",{httpStatus:rn});return{status:rn,eTag:Ms,config:Eo}})()}}class Cs{constructor(M,N){this.client=M,this.storage=N}fetch(M){var N=this;return(0,U.Z)(function*(){const Y=(yield N.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return N.attemptFetch(M,Y)})()}attemptFetch(M,{throttleEndTimeMillis:N,backoffCount:Y}){var le=this;return(0,U.Z)(function*(){yield function Fr(x,M){return new Promise((N,Y)=>{const le=Math.max(M-Date.now(),0),me=setTimeout(N,le);x.addEventListener(()=>{clearTimeout(me),Y(Ei.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}(M.signal,N);try{const me=yield le.client.fetch(M);return yield le.storage.deleteThrottleMetadata(),me}catch(me){if(!function hh(x){if(!(x instanceof ye.ZR&&x.customData))return!1;const M=Number(x.customData.httpStatus);return 429===M||500===M||503===M||504===M}(me))throw me;const Le={throttleEndTimeMillis:Date.now()+(0,ye.$s)(Y),backoffCount:Y+1};return yield le.storage.setThrottleMetadata(Le),le.attemptFetch(M,Le)}})()}}class ld{constructor(M,N,Y,le,me){this.app=M,this._client=N,this._storageCache=Y,this._storage=le,this._logger=me,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Da(x,M){var N;const Y=x.target.error||void 0;return Ei.create(M,{originalErrorMessage:Y&&(null===(N=Y)||void 0===N?void 0:N.message)})}const Go="app_namespace_store";class lc{constructor(M,N,Y,le=function ph(){return new Promise((x,M)=>{var N;try{const Y=indexedDB.open("firebase_remote_config",1);Y.onerror=le=>{M(Da(le,"storage-open"))},Y.onsuccess=le=>{x(le.target.result)},Y.onupgradeneeded=le=>{0===le.oldVersion&&le.target.result.createObjectStore(Go,{keyPath:"compositeKey"})}}catch(Y){M(Ei.create("storage-open",{originalErrorMessage:null===(N=Y)||void 0===N?void 0:N.message}))}})}()){this.appId=M,this.appName=N,this.namespace=Y,this.openDbPromise=le}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(M){return this.set("last_fetch_status",M)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(M){return this.set("last_successful_fetch_timestamp_millis",M)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(M){return this.set("last_successful_fetch_response",M)}getActiveConfig(){return this.get("active_config")}setActiveConfig(M){return this.set("active_config",M)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(M){return this.set("active_config_etag",M)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(M){return this.set("throttle_metadata",M)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(M){var N=this;return(0,U.Z)(function*(){const Y=yield N.openDbPromise;return new Promise((le,me)=>{var Le;const wt=Y.transaction([Go],"readonly").objectStore(Go),Yt=N.createCompositeKey(M);try{const Xt=wt.get(Yt);Xt.onerror=kt=>{me(Da(kt,"storage-get"))},Xt.onsuccess=kt=>{const Oi=kt.target.result;le(Oi?Oi.value:void 0)}}catch(Xt){me(Ei.create("storage-get",{originalErrorMessage:null===(Le=Xt)||void 0===Le?void 0:Le.message}))}})})()}set(M,N){var Y=this;return(0,U.Z)(function*(){const le=yield Y.openDbPromise;return new Promise((me,Le)=>{var $e;const Yt=le.transaction([Go],"readwrite").objectStore(Go),Xt=Y.createCompositeKey(M);try{const kt=Yt.put({compositeKey:Xt,value:N});kt.onerror=Oi=>{Le(Da(Oi,"storage-set"))},kt.onsuccess=()=>{me()}}catch(kt){Le(Ei.create("storage-set",{originalErrorMessage:null===($e=kt)||void 0===$e?void 0:$e.message}))}})})()}delete(M){var N=this;return(0,U.Z)(function*(){const Y=yield N.openDbPromise;return new Promise((le,me)=>{var Le;const wt=Y.transaction([Go],"readwrite").objectStore(Go),Yt=N.createCompositeKey(M);try{const Xt=wt.delete(Yt);Xt.onerror=kt=>{me(Da(kt,"storage-delete"))},Xt.onsuccess=()=>{le()}}catch(Xt){me(Ei.create("storage-delete",{originalErrorMessage:null===(Le=Xt)||void 0===Le?void 0:Le.message}))}})})()}createCompositeKey(M){return[this.appId,this.appName,this.namespace,M].join()}}class qo{constructor(M){this.storage=M}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var M=this;return(0,U.Z)(function*(){const N=M.storage.getLastFetchStatus(),Y=M.storage.getLastSuccessfulFetchTimestampMillis(),le=M.storage.getActiveConfig(),me=yield N;me&&(M.lastFetchStatus=me);const Le=yield Y;Le&&(M.lastSuccessfulFetchTimestampMillis=Le);const $e=yield le;$e&&(M.activeConfig=$e)})()}setLastFetchStatus(M){return this.lastFetchStatus=M,this.storage.setLastFetchStatus(M)}setLastSuccessfulFetchTimestampMillis(M){return this.lastSuccessfulFetchTimestampMillis=M,this.storage.setLastSuccessfulFetchTimestampMillis(M)}setActiveConfig(M){return this.activeConfig=M,this.storage.setActiveConfig(M)}}function lp(){return fo.apply(this,arguments)}function fo(){return(fo=(0,U.Z)(function*(){if(!(0,ye.hl)())return!1;try{return yield(0,ye.eu)()}catch{return!1}})).apply(this,arguments)}!function au(){(0,pe._registerComponent)(new De.wA("remote-config",function x(M,{instanceIdentifier:N}){const Y=M.getProvider("app").getImmediate(),le=M.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ei.create("registration-window");if(!(0,ye.hl)())throw Ei.create("indexed-db-unavailable");const{projectId:me,apiKey:Le,appId:$e}=Y.options;if(!me)throw Ei.create("registration-project-id");if(!Le)throw Ei.create("registration-api-key");if(!$e)throw Ei.create("registration-app-id");const wt=new lc($e,Y.name,N=N||"firebase"),Yt=new qo(wt),Xt=new ae.Yd(bs);Xt.logLevel=ae.in.ERROR;const kt=new ho(le,pe.SDK_VERSION,N,me,Le,$e),Oi=new Cs(kt,wt),rr=new uo(Oi,wt,Yt,Xt),Ll=new ld(Y,rr,Yt,wt,Xt);return function bn(x){const M=(0,ye.m9)(x);M._initializePromise||(M._initializePromise=M._storageCache.loadFromStorage().then(()=>{M._isInitializationComplete=!0}))}(Ll),Ll},"PUBLIC").setMultipleInstances(!0)),(0,pe.registerVersion)(bs,"0.3.15"),(0,pe.registerVersion)(bs,"0.3.15","esm2017")}();const Yi="/firebase-messaging-sw.js",Zo="/firebase-cloud-messaging-push-scope",zs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",bl="google.c.a.c_id",cc="google.c.a.c_l",cu="google.c.a.ts",po="google.c.a.e";var vr=(()=>{return(x=vr||(vr={})).PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",vr;var x})();function Es(x){const M=new Uint8Array(x);return btoa(String.fromCharCode(...M)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ar(x){const N=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Y=atob(N),le=new Uint8Array(Y.length);for(let me=0;me<Y.length;++me)le[me]=Y.charCodeAt(me);return le}const go="fcm_token_details_db",Yo="fcm_token_object_Store";function gh(x){return js.apply(this,arguments)}function js(){return js=(0,U.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(me=>me.name).includes(go))return null;let M=null;return(yield(0,ve.X3)(go,5,{upgrade:(Y=(0,U.Z)(function*(le,me,Le,$e){var wt;if(me<2||!le.objectStoreNames.contains(Yo))return;const Yt=$e.objectStore(Yo),Xt=yield Yt.index("fcmSenderId").get(x);if(yield Yt.clear(),Xt)if(2===me){const kt=Xt;if(!kt.auth||!kt.p256dh||!kt.endpoint)return;M={token:kt.fcmToken,createTime:null!==(wt=kt.createTime)&&void 0!==wt?wt:Date.now(),subscriptionOptions:{auth:kt.auth,p256dh:kt.p256dh,endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:"string"==typeof kt.vapidKey?kt.vapidKey:Es(kt.vapidKey)}}}else if(3===me){const kt=Xt;M={token:kt.fcmToken,createTime:kt.createTime,subscriptionOptions:{auth:Es(kt.auth),p256dh:Es(kt.p256dh),endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:Es(kt.vapidKey)}}}else if(4===me){const kt=Xt;M={token:kt.fcmToken,createTime:kt.createTime,subscriptionOptions:{auth:Es(kt.auth),p256dh:Es(kt.p256dh),endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:Es(kt.vapidKey)}}}}),function(me,Le,$e,wt){return Y.apply(this,arguments)})})).close(),yield(0,ve.Lj)(go),yield(0,ve.Lj)("fcm_vapid_details_db"),yield(0,ve.Lj)("undefined"),li(M)?M:null;var Y}),js.apply(this,arguments)}function li(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:M}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof M.auth&&M.auth.length>0&&"string"==typeof M.p256dh&&M.p256dh.length>0&&"string"==typeof M.endpoint&&M.endpoint.length>0&&"string"==typeof M.swScope&&M.swScope.length>0&&"string"==typeof M.vapidKey&&M.vapidKey.length>0}const Lr="firebase-messaging-store";let Vi=null;function $o(){return Vi||(Vi=(0,ve.X3)("firebase-messaging-database",1,{upgrade:(x,M)=>{0===M&&x.createObjectStore(Lr)}})),Vi}function mo(x){return os.apply(this,arguments)}function os(){return(os=(0,U.Z)(function*(x){const M=Br(x),Y=yield(yield $o()).transaction(Lr).objectStore(Lr).get(M);if(Y)return Y;{const le=yield gh(x.appConfig.senderId);if(le)return yield Sn(x,le),le}})).apply(this,arguments)}function Sn(x,M){return uc.apply(this,arguments)}function uc(){return(uc=(0,U.Z)(function*(x,M){const N=Br(x),le=(yield $o()).transaction(Lr,"readwrite");return yield le.objectStore(Lr).put(M,N),yield le.done,M})).apply(this,arguments)}function Gs(x){return dc.apply(this,arguments)}function dc(){return(dc=(0,U.Z)(function*(x){const M=Br(x),Y=(yield $o()).transaction(Lr,"readwrite");yield Y.objectStore(Lr).delete(M),yield Y.done})).apply(this,arguments)}function Br({appConfig:x}){return x.appId}const ci=new ye.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function zt(x,M){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,U.Z)(function*(x,M){var N;const Y=yield Ma(x),le=He(M),me={method:"POST",headers:Y,body:JSON.stringify(le)};let Le;try{Le=yield(yield fetch(_o(x.appConfig),me)).json()}catch($e){throw ci.create("token-subscribe-failed",{errorInfo:null===(N=$e)||void 0===N?void 0:N.toString()})}if(Le.error)throw ci.create("token-subscribe-failed",{errorInfo:Le.error.message});if(!Le.token)throw ci.create("token-subscribe-no-token");return Le.token})).apply(this,arguments)}function Sa(x,M){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,U.Z)(function*(x,M){var N;const Y=yield Ma(x),le=He(M.subscriptionOptions),me={method:"PATCH",headers:Y,body:JSON.stringify(le)};let Le;try{Le=yield(yield fetch(`${_o(x.appConfig)}/${M.token}`,me)).json()}catch($e){throw ci.create("token-update-failed",{errorInfo:null===(N=$e)||void 0===N?void 0:N.toString()})}if(Le.error)throw ci.create("token-update-failed",{errorInfo:Le.error.message});if(!Le.token)throw ci.create("token-update-no-token");return Le.token})).apply(this,arguments)}function du(x,M){return xa.apply(this,arguments)}function xa(){return(xa=(0,U.Z)(function*(x,M){var N;const le={method:"DELETE",headers:yield Ma(x)};try{const Le=yield(yield fetch(`${_o(x.appConfig)}/${M}`,le)).json();if(Le.error)throw ci.create("token-unsubscribe-failed",{errorInfo:Le.error.message})}catch(me){throw ci.create("token-unsubscribe-failed",{errorInfo:null===(N=me)||void 0===N?void 0:N.toString()})}})).apply(this,arguments)}function _o({projectId:x}){return`https://fcmregistrations.googleapis.com/v1/projects/${x}/registrations`}function Ma(x){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,U.Z)(function*({appConfig:x,installations:M}){const N=yield M.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${N}`})})).apply(this,arguments)}function He({p256dh:x,auth:M,endpoint:N,vapidKey:Y}){const le={web:{endpoint:N,auth:M,p256dh:x}};return Y!==zs&&(le.web.applicationPubKey=Y),le}const pn=6048e5;function ud(x){return qs.apply(this,arguments)}function qs(){return(qs=(0,U.Z)(function*(x){const M=yield hc(x.swRegistration,x.vapidKey),N={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:M.endpoint,auth:Es(M.getKey("auth")),p256dh:Es(M.getKey("p256dh"))},Y=yield mo(x.firebaseDependencies);if(Y){if(dd(Y.subscriptionOptions,N))return Date.now()>=Y.createTime+pn?wl(x,{token:Y.token,createTime:Date.now(),subscriptionOptions:N}):Y.token;try{yield du(x.firebaseDependencies,Y.token)}catch(le){console.warn(le)}return ka(x.firebaseDependencies,N)}return ka(x.firebaseDependencies,N)})).apply(this,arguments)}function Ii(x){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,U.Z)(function*(x){const M=yield mo(x.firebaseDependencies);M&&(yield du(x.firebaseDependencies,M.token),yield Gs(x.firebaseDependencies));const N=yield x.swRegistration.pushManager.getSubscription();return!N||N.unsubscribe()})).apply(this,arguments)}function wl(x,M){return dr.apply(this,arguments)}function dr(){return(dr=(0,U.Z)(function*(x,M){try{const N=yield Sa(x.firebaseDependencies,M),Y=Object.assign(Object.assign({},M),{token:N,createTime:Date.now()});return yield Sn(x.firebaseDependencies,Y),N}catch(N){throw yield Ii(x),N}})).apply(this,arguments)}function ka(x,M){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,U.Z)(function*(x,M){const Y={token:yield zt(x,M),createTime:Date.now(),subscriptionOptions:M};return yield Sn(x,Y),Y.token})).apply(this,arguments)}function hc(x,M){return ea.apply(this,arguments)}function ea(){return(ea=(0,U.Z)(function*(x,M){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ar(M)})})).apply(this,arguments)}function dd(x,M){return M.vapidKey===x.vapidKey&&M.endpoint===x.endpoint&&M.auth===x.auth&&M.p256dh===x.p256dh}function Ds(x){const M={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function ki(x,M){if(!M.notification)return;x.notification={};const N=M.notification.title;N&&(x.notification.title=N);const Y=M.notification.body;Y&&(x.notification.body=Y);const le=M.notification.image;le&&(x.notification.image=le);const me=M.notification.icon;me&&(x.notification.icon=me)}(M,x),function as(x,M){!M.data||(x.data=M.data)}(M,x),function Oa(x,M){var N,Y,le,me,Le;if(!(M.fcmOptions||null!==(N=M.notification)&&void 0!==N&&N.click_action))return;x.fcmOptions={};const $e=null!==(le=null===(Y=M.fcmOptions)||void 0===Y?void 0:Y.link)&&void 0!==le?le:null===(me=M.notification)||void 0===me?void 0:me.click_action;$e&&(x.fcmOptions.link=$e);const wt=null===(Le=M.fcmOptions)||void 0===Le?void 0:Le.analytics_label;wt&&(x.fcmOptions.analyticsLabel=wt)}(M,x),M}function Zs(x){return"object"==typeof x&&!!x&&bl in x}function Is(x,M){const N=[];for(let Y=0;Y<x.length;Y++)N.push(x.charAt(Y)),Y<M.length&&N.push(M.charAt(Y));return N.join("")}function fc(x){return ci.create("missing-app-config-values",{valueName:x})}Is("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Is("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class fu{constructor(M,N,Y){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const le=function hu(x){if(!x||!x.options)throw fc("App Configuration Object");if(!x.name)throw fc("App Name");const M=["projectId","apiKey","appId","messagingSenderId"],{options:N}=x;for(const Y of M)if(!N[Y])throw fc(Y);return{appName:x.name,projectId:N.projectId,apiKey:N.apiKey,appId:N.appId,senderId:N.messagingSenderId}}(M);this.firebaseDependencies={app:M,appConfig:le,installations:N,analyticsProvider:Y}}_delete(){return Promise.resolve()}}function pu(x){return ta.apply(this,arguments)}function ta(){return(ta=(0,U.Z)(function*(x){var M;try{x.swRegistration=yield navigator.serviceWorker.register(Yi,{scope:Zo}),x.swRegistration.update().catch(()=>{})}catch(N){throw ci.create("failed-service-worker-registration",{browserErrorMessage:null===(M=N)||void 0===M?void 0:M.message})}})).apply(this,arguments)}function pc(x,M){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,U.Z)(function*(x,M){if(!M&&!x.swRegistration&&(yield pu(x)),M||!x.swRegistration){if(!(M instanceof ServiceWorkerRegistration))throw ci.create("invalid-sw-registration");x.swRegistration=M}})).apply(this,arguments)}function gc(x,M){return na.apply(this,arguments)}function na(){return(na=(0,U.Z)(function*(x,M){M?x.vapidKey=M:x.vapidKey||(x.vapidKey=zs)})).apply(this,arguments)}function ia(){return(ia=(0,U.Z)(function*(x,M){if(!navigator)throw ci.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ci.create("permission-blocked");return yield gc(x,M?.vapidKey),yield pc(x,M?.serviceWorkerRegistration),ud(x)})).apply(this,arguments)}function hd(x,M,N){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,U.Z)(function*(x,M,N){const Y=gu(M);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(Y,{message_id:N[bl],message_name:N[cc],message_time:N[cu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function gu(x){switch(x){case vr.NOTIFICATION_CLICKED:return"notification_open";case vr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ws(){return(Ws=(0,U.Z)(function*(x,M){const N=M.data;if(!N.isFirebaseMessaging)return;x.onMessageHandler&&N.messageType===vr.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(Ds(N)):x.onMessageHandler.next(Ds(N)));const Y=N.data;Zs(Y)&&"1"===Y[po]&&(yield hd(x,N.messageType,Y))})).apply(this,arguments)}const Ys="@firebase/messaging",ni=x=>{const M=new fu(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",N=>function Cl(x,M){return Ws.apply(this,arguments)}(M,N)),M},ls=x=>{const M=x.getProvider("messaging").getImmediate();return{getToken:Y=>function mc(x,M){return ia.apply(this,arguments)}(M,Y)}};function _c(){return yc.apply(this,arguments)}function yc(){return(yc=(0,U.Z)(function*(){try{yield(0,ye.eu)()}catch{return!1}return typeof window<"u"&&(0,ye.hl)()&&(0,ye.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ii(){(0,pe._registerComponent)(new De.wA("messaging",ni,"PUBLIC")),(0,pe._registerComponent)(new De.wA("messaging-internal",ls,"PRIVATE")),(0,pe.registerVersion)(Ys,"0.11.0"),(0,pe.registerVersion)(Ys,"0.11.0","esm2017")}();const sa="analytics",Cc="firebase_id",Ec="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Dc="https://www.googletagmanager.com/gtag/js",_i=new ae.Yd("@firebase/analytics");function Dl(x){return Promise.all(x.map(M=>M.catch(N=>N)))}function Il(x,M){const N=document.createElement("script");N.src=`${Dc}?l=${x}&id=${M}`,N.async=!0,document.head.appendChild(N)}function oa(x,M,N,Y,le,me){return Na.apply(this,arguments)}function Na(){return(Na=(0,U.Z)(function*(x,M,N,Y,le,me){const Le=Y[le];try{if(Le)yield M[Le];else{const wt=(yield Dl(N)).find(Yt=>Yt.measurementId===le);wt&&(yield M[wt.appId])}}catch($e){_i.error($e)}x("config",le,me)})).apply(this,arguments)}function Ss(x,M,N,Y,le){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,U.Z)(function*(x,M,N,Y,le){try{let me=[];if(le&&le.send_to){let Le=le.send_to;Array.isArray(Le)||(Le=[Le]);const $e=yield Dl(N);for(const wt of Le){const Yt=$e.find(kt=>kt.measurementId===wt),Xt=Yt&&M[Yt.appId];if(!Xt){me=[];break}me.push(Xt)}}0===me.length&&(me=Object.values(M)),yield Promise.all(me),x("event",Y,le||{})}catch(me){_i.error(me)}})).apply(this,arguments)}function yu(x){const M=window.document.getElementsByTagName("script");for(const N of Object.values(M))if(N.src&&N.src.includes(Dc)&&N.src.includes(x))return N;return null}const ui=new ye.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),K=new class R{constructor(M={},N=1e3){this.throttleMetadata=M,this.intervalMillis=N}getThrottleMetadata(M){return this.throttleMetadata[M]}setThrottleMetadata(M,N){this.throttleMetadata[M]=N}deleteThrottleMetadata(M){delete this.throttleMetadata[M]}};function Te(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function At(x){return sn.apply(this,arguments)}function sn(){return(sn=(0,U.Z)(function*(x){var M;const{appId:N,apiKey:Y}=x,le={method:"GET",headers:Te(Y)},me=Ec.replace("{app-id}",N),Le=yield fetch(me,le);if(200!==Le.status&&304!==Le.status){let $e="";try{const wt=yield Le.json();null!==(M=wt.error)&&void 0!==M&&M.message&&($e=wt.error.message)}catch{}throw ui.create("config-fetch-failed",{httpStatus:Le.status,responseMessage:$e})}return Le.json()})).apply(this,arguments)}function Kr(x){return qn.apply(this,arguments)}function qn(){return(qn=(0,U.Z)(function*(x,M=K,N){const{appId:Y,apiKey:le,measurementId:me}=x.options;if(!Y)throw ui.create("no-app-id");if(!le){if(me)return{measurementId:me,appId:Y};throw ui.create("no-api-key")}const Le=M.getThrottleMetadata(Y)||{backoffCount:0,throttleEndTimeMillis:Date.now()},$e=new Sc;return setTimeout((0,U.Z)(function*(){$e.abort()}),void 0!==N?N:6e4),yo({appId:Y,apiKey:le,measurementId:me},Le,$e,M)})).apply(this,arguments)}function yo(x,M,N){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,U.Z)(function*(x,{throttleEndTimeMillis:M,backoffCount:N},Y,le=K){var me,Le;const{appId:$e,measurementId:wt}=x;try{yield pd(Y,M)}catch(Yt){if(wt)return _i.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${wt} provided in the "measurementId" field in the local Firebase config. [${null===(me=Yt)||void 0===me?void 0:me.message}]`),{appId:$e,measurementId:wt};throw Yt}try{const Yt=yield At(x);return le.deleteThrottleMetadata($e),Yt}catch(Yt){const Xt=Yt;if(!vu(Xt)){if(le.deleteThrottleMetadata($e),wt)return _i.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${wt} provided in the "measurementId" field in the local Firebase config. [${Xt?.message}]`),{appId:$e,measurementId:wt};throw Yt}const kt=503===Number(null===(Le=Xt?.customData)||void 0===Le?void 0:Le.httpStatus)?(0,ye.$s)(N,le.intervalMillis,30):(0,ye.$s)(N,le.intervalMillis),Oi={throttleEndTimeMillis:Date.now()+kt,backoffCount:N+1};return le.setThrottleMetadata($e,Oi),_i.debug(`Calling attemptFetch again in ${kt} millis`),yo(x,Oi,Y,le)}})).apply(this,arguments)}function pd(x,M){return new Promise((N,Y)=>{const le=Math.max(M-Date.now(),0),me=setTimeout(N,le);x.addEventListener(()=>{clearTimeout(me),Y(ui.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}function vu(x){if(!(x instanceof ye.ZR&&x.customData))return!1;const M=Number(x.customData.httpStatus);return 429===M||500===M||503===M||504===M}class Sc{constructor(){this.listeners=[]}addEventListener(M){this.listeners.push(M)}abort(){this.listeners.forEach(M=>M())}}let Ba,bu;function Sl(){return(Sl=(0,U.Z)(function*(x,M,N,Y,le){if(le&&le.global)x("event",N,Y);else{const me=yield M;x("event",N,Object.assign(Object.assign({},Y),{send_to:me}))}})).apply(this,arguments)}function Ml(x){bu=x}function gd(x){Ba=x}function aa(){return kl.apply(this,arguments)}function kl(){return(kl=(0,U.Z)(function*(){var x;if(!(0,ye.hl)())return _i.warn(ui.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ye.eu)()}catch(M){return _i.warn(ui.create("indexeddb-unavailable",{errorInfo:null===(x=M)||void 0===x?void 0:x.toString()}).message),!1}return!0})).apply(this,arguments)}function Ol(){return(Ol=(0,U.Z)(function*(x,M,N,Y,le,me,Le){var $e;const wt=Kr(x);wt.then(rr=>{N[rr.measurementId]=rr.appId,x.options.measurementId&&rr.measurementId!==x.options.measurementId&&_i.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${rr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(rr=>_i.error(rr)),M.push(wt);const Yt=aa().then(rr=>{if(rr)return Y.getId()}),[Xt,kt]=yield Promise.all([wt,Yt]);yu(me)||Il(me,Xt.measurementId),bu&&(le("consent","default",bu),Ml(void 0)),le("js",new Date);const Oi=null!==($e=Le?.config)&&void 0!==$e?$e:{};return Oi.origin="firebase",Oi.update=!0,null!=kt&&(Oi[Cc]=kt),le("config",Xt.measurementId,Oi),Ba&&(le("set",Ba),gd(void 0)),Xt.measurementId})).apply(this,arguments)}class wu{constructor(M){this.app=M}_delete(){return delete wr[this.app.options.appId],Promise.resolve()}}let wr={},Rl=[];const Ua={};let Nl,$s,Pl="dataLayer",_h=!1;function dp(x,M,N){!function Zm(){const x=[];if((0,ye.ru)()&&x.push("This is a browser extension environment."),(0,ye.zI)()||x.push("Cookies are not available."),x.length>0){const M=x.map((Y,le)=>`(${le+1}) ${Y}`).join(" "),N=ui.create("invalid-analytics-context",{errorInfo:M});_i.warn(N.message)}}();const Y=x.options.appId;if(!Y)throw ui.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw ui.create("no-api-key");_i.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=wr[Y])throw ui.create("already-exists",{id:Y});if(!_h){!function br(x){let M=[];Array.isArray(window[x])?M=window[x]:window[x]=M}(Pl);const{wrappedGtag:me,gtagCore:Le}=function La(x,M,N,Y,le){let me=function(...Le){window[Y].push(arguments)};return window[le]&&"function"==typeof window[le]&&(me=window[le]),window[le]=function Ic(x,M,N,Y){function me(){return(me=(0,U.Z)(function*(Le,$e,wt){try{"event"===Le?yield Ss(x,M,N,$e,wt):"config"===Le?yield oa(x,M,N,Y,$e,wt):"consent"===Le?x("consent","update",wt):x("set",$e)}catch(Yt){_i.error(Yt)}})).apply(this,arguments)}return function le(Le,$e,wt){return me.apply(this,arguments)}}(me,x,M,N),{gtagCore:me,wrappedGtag:window[le]}}(wr,Rl,Ua,Pl,"gtag");$s=me,Nl=Le,_h=!0}return wr[Y]=function up(x,M,N,Y,le,me,Le){return Ol.apply(this,arguments)}(x,Rl,Ua,M,Nl,Pl,N),new wu(x)}function eA(){return hp.apply(this,arguments)}function hp(){return(hp=(0,U.Z)(function*(){if((0,ye.ru)()||!(0,ye.zI)()||!(0,ye.hl)())return!1;try{return yield(0,ye.eu)()}catch{return!1}})).apply(this,arguments)}const dt="@firebase/analytics";!function tn(){(0,pe._registerComponent)(new De.wA(sa,(M,{options:N})=>dp(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),N),"PUBLIC")),(0,pe._registerComponent)(new De.wA("analytics-internal",function x(M){try{const N=M.getProvider(sa).getImmediate();return{logEvent:(Y,le,me)=>function Tn(x,M,N,Y){x=(0,ye.m9)(x),function Tc(x,M,N,Y,le){return Sl.apply(this,arguments)}($s,wr[x.app.options.appId],M,N,Y).catch(le=>_i.error(le))}(N,Y,le,me)}}catch(N){throw ui.create("interop-component-reg-failed",{reason:N})}},"PRIVATE")),(0,pe.registerVersion)(dt,"0.8.4"),(0,pe.registerVersion)(dt,"0.8.4","esm2017")}();var Ao=j(4408),si=j(7565);const yh=new class za extends si.v{}(class Ha extends Ao.o{constructor(M,N){super(M,N),this.scheduler=M,this.work=N}schedule(M,N=0){return N>0?super.schedule(M,N):(this.delay=N,this.state=M,this.scheduler.flush(this),this)}execute(M,N){return N>0||this.closed?super.execute(M,N):this._execute(M,N)}requestAsyncId(M,N,Y=0){return null!=Y&&Y>0||null==Y&&this.delay>0?super.requestAsyncId(M,N,Y):(M.flush(this),0)}});var fp=j(4986),ja=j(8505),_d=j(5363),Ga=j(9468);const ot=new s.GfV("7.5.0"),Mc="__angularfire_symbol__analyticsIsSupportedValue",Qs="__angularfire_symbol__analyticsIsSupported",kc="__angularfire_symbol__remoteConfigIsSupportedValue",Oc="__angularfire_symbol__remoteConfigIsSupported",oi="__angularfire_symbol__messagingIsSupportedValue",Rc="__angularfire_symbol__messagingIsSupported";function Pc(x,M,N){if(M){if(1===M.length)return M[0];const me=M.filter(Le=>Le.app===N);if(1===me.length)return me[0]}return N.container.getProvider(x).getImmediate({optional:!0})}globalThis[Qs]||(globalThis[Qs]=eA().then(x=>globalThis[Mc]=x).catch(()=>globalThis[Mc]=!1)),globalThis[Rc]||(globalThis[Rc]=_c().then(x=>globalThis[oi]=x).catch(()=>globalThis[oi]=!1)),globalThis[Oc]||(globalThis[Oc]=lp().then(x=>globalThis[kc]=x).catch(()=>globalThis[kc]=!1));const qa=(x,M)=>{const N=M?[M]:(0,L.C6)(),Y=[];return N.forEach(le=>{le.container.getProvider(x).instances.forEach(Le=>{Y.includes(Le)||Y.push(Le)})}),Y};function hr(){}class bo{constructor(M,N=yh){this.zone=M,this.delegate=N}now(){return this.delegate.now()}schedule(M,N,Y){const le=this.zone;return this.delegate.schedule(function(Le){le.runGuarded(()=>{M.apply(this,[Le])})},N,Y)}}class yd{constructor(M){this.zone=M,this.task=null}call(M,N){const Y=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hr,{},hr,hr)),N.pipe((0,ja.b)({next:Y,complete:Y,error:Y})).subscribe(M).add(Y)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ir=(()=>{class x{constructor(N){this.ngZone=N,this.outsideAngular=N.runOutsideAngular(()=>new bo(Zone.current)),this.insideAngular=N.run(()=>new bo(Zone.current,fp.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(N){return new(N||x)(s.LFG(s.R0b))},x.\u0275prov=s.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function Hr(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function Si(x){return x.pipe((0,_d.Q)(Hr().outsideAngular))}function Js(x){return Hr(),function Ti(x){return function(N){return(N=N.lift(new yd(x.ngZone))).pipe((0,Ga.R)(x.outsideAngular),(0,_d.Q)(x.insideAngular))}}(Hr())(x)}},8247:(It,_e,j)=>{"use strict";j.d(_e,{$:()=>_o,A:()=>ee,B:()=>Ve,G:()=>Bs,H:()=>mr,J:()=>Cs,L:()=>te,M:()=>fo,N:()=>Wo,P:()=>fp,Q:()=>bl,R:()=>Wm,T:()=>cc,U:()=>zs,V:()=>vr,W:()=>Es,X:()=>gh,Y:()=>Ia,Z:()=>zt,_:()=>Sa,a:()=>S,a0:()=>ud,a1:()=>Ii,a2:()=>wl,a3:()=>ka,a4:()=>hc,a5:()=>dd,a6:()=>ki,a7:()=>as,a8:()=>Zs,a9:()=>Is,aA:()=>Q,aB:()=>wt,aC:()=>Si,aD:()=>di,aE:()=>xt,aI:()=>Te,aL:()=>po,aa:()=>pu,ab:()=>pc,ac:()=>gc,af:()=>hd,ag:()=>gu,ah:()=>Cl,ak:()=>Lr,al:()=>vc,an:()=>Dc,ao:()=>Na,ap:()=>Ee,aq:()=>Ke,ar:()=>_t,as:()=>ut,at:()=>Cu,au:()=>Ms,av:()=>Zt,aw:()=>je,ax:()=>de,ay:()=>rr,az:()=>ce,b:()=>ui,c:()=>oi,d:()=>pp,e:()=>xs,f:()=>Ti,g:()=>Y,h:()=>x,i:()=>kl,j:()=>Le,k:()=>Ap,l:()=>jt,m:()=>Do,o:()=>ve,r:()=>Ao,s:()=>Ks,u:()=>yh});var s=j(5861),L=j(2090),U=j(9681),pe=j(1877),ye=j(655),De=j(4859);const ve={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ee={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ve=function oe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Oe=function Je(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},rt=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),be=new pe.Yd("@firebase/auth");function Ze(w,...m){be.logLevel<=pe.in.ERROR&&be.error(`Auth (${U.SDK_VERSION}): ${w}`,...m)}function ut(w,...m){throw st(w,...m)}function je(w,...m){return st(w,...m)}function Ue(w,m,y){const E=Object.assign(Object.assign({},Oe()),{[m]:y});return new L.LL("auth","Firebase",E).create(m,{appName:w.name})}function ke(w,m,y){if(!(m instanceof y))throw y.name!==m.constructor.name&&ut(w,"argument-error"),Ue(w,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function st(w,...m){if("string"!=typeof w){const y=m[0],E=[...m.slice(1)];return E[0]&&(E[0].appName=w.name),w._errorFactory.create(y,...E)}return rt.create(w,...m)}function de(w,m,...y){if(!w)throw st(m,...y)}function Ae(w){const m="INTERNAL ASSERTION FAILED: "+w;throw Ze(m),new Error(m)}function Ee(w,m){w||Ae(m)}const re=new Map;function ce(w){Ee(w instanceof Function,"Expected a class definition");let m=re.get(w);return m?(Ee(m instanceof w,"Instance stored in cache mismatched with class"),m):(m=new w,re.set(w,m),m)}function We(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Qe(){return"http:"===Ct()||"https:"===Ct()}function Ct(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class lt{constructor(m,y){this.shortDelay=m,this.longDelay=y,Ee(y>m,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function An(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Qe()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rn(w,m){Ee(w.emulator,"Emulator should always be set here");const{url:y}=w.emulator;return m?`${y}${m.startsWith("/")?m.slice(1):m}`:y}class Fn{static initialize(m,y,E){this.fetchImpl=m,y&&(this.headersImpl=y),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ae("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ae("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ae("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Dn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},un=new lt(3e4,6e4);function Bt(w,m){return w.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:w.tenantId}):m}function Nt(w,m,y,E){return qi.apply(this,arguments)}function qi(){return(qi=(0,s.Z)(function*(w,m,y,E,P={}){return pi(w,P,(0,s.Z)(function*(){let H={},ue={};E&&("GET"===m?ue=E:H={body:JSON.stringify(E)});const Be=(0,L.xO)(Object.assign({key:w.config.apiKey},ue)).slice(1),vt=yield w._getAdditionalHeaders();return vt["Content-Type"]="application/json",w.languageCode&&(vt["X-Firebase-Locale"]=w.languageCode),Fn.fetch()(en(w,w.config.apiHost,y,Be),Object.assign({method:m,headers:vt,referrerPolicy:"no-referrer"},H))}))})).apply(this,arguments)}function pi(w,m,y){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,s.Z)(function*(w,m,y){w._canInitEmulator=!1;const E=Object.assign(Object.assign({},Dn),m);try{const P=new ei(w),H=yield Promise.race([y(),P.promise]);P.clearNetworkTimeout();const ue=yield H.json();if("needConfirmation"in ue)throw Ln(w,"account-exists-with-different-credential",ue);if(H.ok&&!("errorMessage"in ue))return ue;{const Be=H.ok?ue.errorMessage:ue.error.message,[vt,Ft]=Be.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===vt)throw Ln(w,"credential-already-in-use",ue);if("EMAIL_EXISTS"===vt)throw Ln(w,"email-already-in-use",ue);if("USER_DISABLED"===vt)throw Ln(w,"user-disabled",ue);const yn=E[vt]||vt.toLowerCase().replace(/[_\s]+/g,"-");if(Ft)throw Ue(w,yn,Ft);ut(w,yn)}}catch(P){if(P instanceof L.ZR)throw P;ut(w,"network-request-failed")}})).apply(this,arguments)}function Xn(w,m,y,E){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,s.Z)(function*(w,m,y,E,P={}){const H=yield Nt(w,m,y,E,P);return"mfaPendingCredential"in H&&ut(w,"multi-factor-auth-required",{_serverResponse:H}),H})).apply(this,arguments)}function en(w,m,y,E){const P=`${m}${y}?${E}`;return w.config.emulator?Rn(w.config,P):`${w.config.apiScheme}://${P}`}class ei{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((y,E)=>{this.timer=setTimeout(()=>E(je(this.auth,"network-request-failed")),un.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ln(w,m,y){const E={appName:w.name};y.email&&(E.email=y.email),y.phoneNumber&&(E.phoneNumber=y.phoneNumber);const P=je(w,m,E);return P.customData._tokenResponse=y,P}function Zn(){return(Zn=(0,s.Z)(function*(w,m){return Nt(w,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function nt(w,m){return bi.apply(this,arguments)}function bi(){return(bi=(0,s.Z)(function*(w,m){return Nt(w,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ti(w,m){return dn.apply(this,arguments)}function dn(){return(dn=(0,s.Z)(function*(w,m){return Nt(w,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Bi(w){if(w)try{const m=new Date(Number(w));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function jn(){return(jn=(0,s.Z)(function*(w,m=!1){const y=(0,L.m9)(w),E=yield y.getIdToken(m),P=St(E);de(P&&P.exp&&P.auth_time&&P.iat,y.auth,"internal-error");const H="object"==typeof P.firebase?P.firebase:void 0,ue=H?.sign_in_provider;return{claims:P,token:E,authTime:Bi(Gn(P.auth_time)),issuedAtTime:Bi(Gn(P.iat)),expirationTime:Bi(Gn(P.exp)),signInProvider:ue||null,signInSecondFactor:H?.sign_in_second_factor||null}})).apply(this,arguments)}function Gn(w){return 1e3*Number(w)}function St(w){var m;const[y,E,P]=w.split(".");if(void 0===y||void 0===E||void 0===P)return Ze("JWT malformed, contained fewer than 3 sections"),null;try{const H=(0,L.tV)(E);return H?JSON.parse(H):(Ze("Failed to decode base64 JWT payload"),null)}catch(H){return Ze("Caught error parsing JWT payload as JSON",null===(m=H)||void 0===m?void 0:m.toString()),null}}function qt(w,m){return ur.apply(this,arguments)}function ur(){return(ur=(0,s.Z)(function*(w,m,y=!1){if(y)return m;try{return yield m}catch(E){throw E instanceof L.ZR&&gi(E)&&w.auth.currentUser===w&&(yield w.auth.signOut()),E}})).apply(this,arguments)}function gi({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class er{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var y;if(m){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const P=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,P)}}schedule(m=!1){var y=this;if(!this.isRunning)return;const E=this.getInterval(m);this.timerId=setTimeout((0,s.Z)(function*(){yield y.iteration()}),E)}iteration(){var m=this;return(0,s.Z)(function*(){var y;try{yield m.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===(null===(y=E)||void 0===y?void 0:y.code)&&m.schedule(!0))}m.schedule()})()}}class Ut{constructor(m,y){this.createdAt=m,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bi(this.lastLoginAt),this.creationTime=Bi(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function mi(w){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,s.Z)(function*(w){var m;const y=w.auth,E=yield w.getIdToken(),P=yield qt(w,ti(y,{idToken:E}));de(P?.users.length,y,"internal-error");const H=P.users[0];w._notifyReloadListener(H);const ue=null!==(m=H.providerUserInfo)&&void 0!==m&&m.length?Qn(H.providerUserInfo):[],Be=Ni(w.providerData,ue),yn=!!w.isAnonymous&&!(w.email&&H.passwordHash||Be?.length),Wn={uid:H.localId,displayName:H.displayName||null,photoURL:H.photoUrl||null,email:H.email||null,emailVerified:H.emailVerified||!1,phoneNumber:H.phoneNumber||null,tenantId:H.tenantId||null,providerData:Be,metadata:new Ut(H.createdAt,H.lastLoginAt),isAnonymous:yn};Object.assign(w,Wn)})).apply(this,arguments)}function gn(){return(gn=(0,s.Z)(function*(w){const m=(0,L.m9)(w);yield mi(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Ni(w,m){return[...w.filter(E=>!m.some(P=>P.providerId===E.providerId)),...m]}function Qn(w){return w.map(m=>{var{providerId:y}=m,E=(0,ye._T)(m,["providerId"]);return{providerId:y,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Pe(){return(Pe=(0,s.Z)(function*(w,m){const y=yield pi(w,{},(0,s.Z)(function*(){const E=(0,L.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:P,apiKey:H}=w.config,ue=en(w,P,"/v1/token",`key=${H}`),Be=yield w._getAdditionalHeaders();return Be["Content-Type"]="application/x-www-form-urlencoded",Fn.fetch()(ue,{method:"POST",headers:Be,body:E})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class mt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){de(m.idToken,"internal-error"),de(typeof m.idToken<"u","internal-error"),de(typeof m.refreshToken<"u","internal-error");const y="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function Xe(w){const m=St(w);return de(m,"internal-error"),de(typeof m.exp<"u","internal-error"),de(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,y)}getToken(m,y=!1){var E=this;return(0,s.Z)(function*(){return de(!E.accessToken||E.refreshToken,m,"user-token-expired"),y||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(m,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,y){var E=this;return(0,s.Z)(function*(){const{accessToken:P,refreshToken:H,expiresIn:ue}=yield function pt(w,m){return Pe.apply(this,arguments)}(m,y);E.updateTokensAndExpiration(P,H,Number(ue))})()}updateTokensAndExpiration(m,y,E){this.refreshToken=y||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(m,y){const{refreshToken:E,accessToken:P,expirationTime:H}=y,ue=new mt;return E&&(de("string"==typeof E,"internal-error",{appName:m}),ue.refreshToken=E),P&&(de("string"==typeof P,"internal-error",{appName:m}),ue.accessToken=P),H&&(de("number"==typeof H,"internal-error",{appName:m}),ue.expirationTime=H),ue}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new mt,this.toJSON())}_performRefresh(){return Ae("not implemented")}}function Tt(w,m){de("string"==typeof w||typeof w>"u","internal-error",{appName:m})}class Rt{constructor(m){var{uid:y,auth:E,stsTokenManager:P}=m,H=(0,ye._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new er(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=E,this.stsTokenManager=P,this.accessToken=P.accessToken,this.displayName=H.displayName||null,this.email=H.email||null,this.emailVerified=H.emailVerified||!1,this.phoneNumber=H.phoneNumber||null,this.photoURL=H.photoURL||null,this.isAnonymous=H.isAnonymous||!1,this.tenantId=H.tenantId||null,this.providerData=H.providerData?[...H.providerData]:[],this.metadata=new Ut(H.createdAt||void 0,H.lastLoginAt||void 0)}getIdToken(m){var y=this;return(0,s.Z)(function*(){const E=yield qt(y,y.stsTokenManager.getToken(y.auth,m));return de(E,y.auth,"internal-error"),y.accessToken!==E&&(y.accessToken=E,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),E})()}getIdTokenResult(m){return function zn(w){return jn.apply(this,arguments)}(this,m)}reload(){return function gr(w){return gn.apply(this,arguments)}(this)}_assign(m){this!==m&&(de(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(y=>Object.assign({},y)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new Rt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,y=!1){var E=this;return(0,s.Z)(function*(){let P=!1;m.idToken&&m.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(m),P=!0),y&&(yield mi(E)),yield E.auth._persistUserIfCurrent(E),P&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var m=this;return(0,s.Z)(function*(){const y=yield m.getIdToken();return yield qt(m,function Wi(w,m){return Zn.apply(this,arguments)}(m.auth,{idToken:y})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,y){var E,P,H,ue,Be,vt,Ft,yn;const Wn=null!==(E=y.displayName)&&void 0!==E?E:void 0,zr=null!==(P=y.email)&&void 0!==P?P:void 0,eo=null!==(H=y.phoneNumber)&&void 0!==H?H:void 0,Ih=null!==(ue=y.photoURL)&&void 0!==ue?ue:void 0,Sh=null!==(Be=y.tenantId)&&void 0!==Be?Be:void 0,Th=null!==(vt=y._redirectEventId)&&void 0!==vt?vt:void 0,Lc=null!==(Ft=y.createdAt)&&void 0!==Ft?Ft:void 0,Xm=null!==(yn=y.lastLoginAt)&&void 0!==yn?yn:void 0,{uid:Ep,emailVerified:xh,isAnonymous:wd,providerData:Du,stsTokenManager:Vl}=y;de(Ep&&Vl,m,"internal-error");const lA=mt.fromJSON(this.name,Vl);de("string"==typeof Ep,m,"internal-error"),Tt(Wn,m.name),Tt(zr,m.name),de("boolean"==typeof xh,m,"internal-error"),de("boolean"==typeof wd,m,"internal-error"),Tt(eo,m.name),Tt(Ih,m.name),Tt(Sh,m.name),Tt(Th,m.name),Tt(Lc,m.name),Tt(Xm,m.name);const yi=new Rt({uid:Ep,auth:m,email:zr,emailVerified:xh,displayName:Wn,isAnonymous:wd,photoURL:Ih,phoneNumber:eo,tenantId:Sh,stsTokenManager:lA,createdAt:Lc,lastLoginAt:Xm});return Du&&Array.isArray(Du)&&(yi.providerData=Du.map(e_=>Object.assign({},e_))),Th&&(yi._redirectEventId=Th),yi}static _fromIdTokenResponse(m,y,E=!1){return(0,s.Z)(function*(){const P=new mt;P.updateFromServerResponse(y);const H=new Rt({uid:y.localId,auth:m,stsTokenManager:P,isAnonymous:E});return yield mi(H),H})()}}const te=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(y,E){var P=this;return(0,s.Z)(function*(){P.storage[y]=E})()}_get(y){var E=this;return(0,s.Z)(function*(){const P=E.storage[y];return void 0===P?null:P})()}_remove(y){var E=this;return(0,s.Z)(function*(){delete E.storage[y]})()}_addListener(y,E){}_removeListener(y,E){}}return w.type="NONE",w})();function Q(w,m,y){return`firebase:${w}:${m}:${y}`}class ie{constructor(m,y,E){this.persistence=m,this.auth=y,this.userKey=E;const{config:P,name:H}=this.auth;this.fullUserKey=Q(this.userKey,P.apiKey,H),this.fullPersistenceKey=Q("persistence",P.apiKey,H),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,s.Z)(function*(){const y=yield m.persistence._get(m.fullUserKey);return y?Rt._fromJSON(m.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var y=this;return(0,s.Z)(function*(){if(y.persistence===m)return;const E=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=m,E?y.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,y,E="authUser"){return(0,s.Z)(function*(){if(!y.length)return new ie(ce(te),m,E);const P=(yield Promise.all(y.map(function(){var Ft=(0,s.Z)(function*(yn){if(yield yn._isAvailable())return yn});return function(yn){return Ft.apply(this,arguments)}}()))).filter(Ft=>Ft);let H=P[0]||ce(te);const ue=Q(E,m.config.apiKey,m.name);let Be=null;for(const Ft of y)try{const yn=yield Ft._get(ue);if(yn){const Wn=Rt._fromJSON(m,yn);Ft!==H&&(Be=Wn),H=Ft;break}}catch{}const vt=P.filter(Ft=>Ft._shouldAllowMigration);return H._shouldAllowMigration&&vt.length?(H=vt[0],Be&&(yield H._set(ue,Be.toJSON())),yield Promise.all(y.map(function(){var Ft=(0,s.Z)(function*(yn){if(yn!==H)try{yield yn._remove(ue)}catch{}});return function(yn){return Ft.apply(this,arguments)}}())),new ie(H,m,E)):new ie(H,m,E)})()}}function $(w){const m=w.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Ge(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(V(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(yt(m))return"Blackberry";if(Ne(m))return"Webos";if(W(m))return"Safari";if((m.includes("chrome/")||he(m))&&!m.includes("edge/"))return"Chrome";if(_t(m))return"Android";{const E=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function V(w=(0,L.z$)()){return/firefox\//i.test(w)}function W(w=(0,L.z$)()){const m=w.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function he(w=(0,L.z$)()){return/crios\//i.test(w)}function Ge(w=(0,L.z$)()){return/iemobile/i.test(w)}function _t(w=(0,L.z$)()){return/android/i.test(w)}function yt(w=(0,L.z$)()){return/blackberry/i.test(w)}function Ne(w=(0,L.z$)()){return/webos/i.test(w)}function Ke(w=(0,L.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function Zt(w=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function In(w=(0,L.z$)()){return Ke(w)||_t(w)||Ne(w)||yt(w)||/windows phone/i.test(w)||Ge(w)}function Vn(w,m=[]){let y;switch(w){case"Browser":y=$((0,L.z$)());break;case"Worker":y=`${$((0,L.z$)())}-${w}`;break;default:y=w}const E=m.length?m.join(","):"FirebaseCore-web";return`${y}/JsCore/${U.SDK_VERSION}/${E}`}class wi{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,y){const E=H=>new Promise((ue,Be)=>{try{ue(m(H))}catch(vt){Be(vt)}});E.onAbort=y,this.queue.push(E);const P=this.queue.length-1;return()=>{this.queue[P]=()=>Promise.resolve()}}runMiddleware(m){var y=this;return(0,s.Z)(function*(){var E;if(y.auth.currentUser===m)return;const P=[];try{for(const H of y.queue)yield H(m),H.onAbort&&P.push(H.onAbort)}catch(H){P.reverse();for(const ue of P)try{ue()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:null===(E=H)||void 0===E?void 0:E.message})}})()}}class zo{constructor(m,y,E){this.app=m,this.heartbeatServiceProvider=y,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ao(this),this.idTokenSubscription=new ao(this),this.beforeStateQueue=new wi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(m,y){var E=this;return y&&(this._popupRedirectResolver=ce(y)),this._initializationPromise=this.queue((0,s.Z)(function*(){var P,H;if(!E._deleted&&(E.persistenceManager=yield ie.create(E,m),!E._deleted)){if(null!==(P=E._popupRedirectResolver)&&void 0!==P&&P._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(y),E.lastNotifiedUid=(null===(H=E.currentUser)||void 0===H?void 0:H.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,s.Z)(function*(){if(m._deleted)return;const y=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||y){if(m.currentUser&&y&&m.currentUser.uid===y.uid)return m._currentUser._assign(y),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(y,!0)}})()}initializeCurrentUser(m){var y=this;return(0,s.Z)(function*(){var E;const P=yield y.assertedPersistence.getCurrentUser();let H=P,ue=!1;if(m&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const Be=null===(E=y.redirectUser)||void 0===E?void 0:E._redirectEventId,vt=H?._redirectEventId,Ft=yield y.tryRedirectSignIn(m);(!Be||Be===vt)&&Ft?.user&&(H=Ft.user,ue=!0)}if(!H)return y.directlySetCurrentUser(null);if(!H._redirectEventId){if(ue)try{yield y.beforeStateQueue.runMiddleware(H)}catch(Be){H=P,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(Be))}return H?y.reloadAndSetCurrentUserOrClear(H):y.directlySetCurrentUser(null)}return de(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===H._redirectEventId?y.directlySetCurrentUser(H):y.reloadAndSetCurrentUserOrClear(H)})()}tryRedirectSignIn(m){var y=this;return(0,s.Z)(function*(){let E=null;try{E=yield y._popupRedirectResolver._completeRedirectFn(y,m,!0)}catch{yield y._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(m){var y=this;return(0,s.Z)(function*(){var E;try{yield mi(m)}catch(P){if("auth/network-request-failed"!==(null===(E=P)||void 0===E?void 0:E.code))return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function an(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var m=this;return(0,s.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var y=this;return(0,s.Z)(function*(){const E=m?(0,L.m9)(m):null;return E&&de(E.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(E&&E._clone(y))})()}_updateCurrentUser(m,y=!1){var E=this;return(0,s.Z)(function*(){if(!E._deleted)return m&&de(E.tenantId===m.tenantId,E,"tenant-id-mismatch"),y||(yield E.beforeStateQueue.runMiddleware(m)),E.queue((0,s.Z)(function*(){yield E.directlySetCurrentUser(m),E.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,s.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var y=this;return this.queue((0,s.Z)(function*(){yield y.assertedPersistence.setPersistence(ce(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new L.LL("auth","Firebase",m())}onAuthStateChanged(m,y,E){return this.registerStateListener(this.authStateSubscription,m,y,E)}beforeAuthStateChanged(m,y){return this.beforeStateQueue.pushCallback(m,y)}onIdTokenChanged(m,y,E){return this.registerStateListener(this.idTokenSubscription,m,y,E)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,y){var E=this;return(0,s.Z)(function*(){const P=yield E.getOrInitRedirectPersistenceManager(y);return null===m?P.removeCurrentUser():P.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var y=this;return(0,s.Z)(function*(){if(!y.redirectPersistenceManager){const E=m&&ce(m)||y._popupRedirectResolver;de(E,y,"argument-error"),y.redirectPersistenceManager=yield ie.create(y,[ce(E._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(m){var y=this;return(0,s.Z)(function*(){var E,P;return y._isInitialized&&(yield y.queue((0,s.Z)(function*(){}))),(null===(E=y._currentUser)||void 0===E?void 0:E._redirectEventId)===m?y._currentUser:(null===(P=y.redirectUser)||void 0===P?void 0:P._redirectEventId)===m?y.redirectUser:null})()}_persistUserIfCurrent(m){var y=this;return(0,s.Z)(function*(){if(m===y.currentUser)return y.queue((0,s.Z)(function*(){return y.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(y=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,y,E,P){if(this._deleted)return()=>{};const H="function"==typeof y?y:y.next.bind(y),ue=this._isInitialized?Promise.resolve():this._initializationPromise;return de(ue,this,"internal-error"),ue.then(()=>H(this.currentUser)),"function"==typeof y?m.addObserver(y,E,P):m.addObserver(y)}directlySetCurrentUser(m){var y=this;return(0,s.Z)(function*(){y.currentUser&&y.currentUser!==m&&y._currentUser._stopProactiveRefresh(),m&&y.isProactiveRefreshEnabled&&m._startProactiveRefresh(),y.currentUser=m,m?yield y.assertedPersistence.setCurrentUser(m):yield y.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Vn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,s.Z)(function*(){var y;const E={"X-Client-Version":m.clientVersion};m.app.options.appId&&(E["X-Firebase-gmpid"]=m.app.options.appId);const P=yield null===(y=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return P&&(E["X-Firebase-Client"]=P),E})()}}function xt(w){return(0,L.m9)(w)}class ao{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,L.ne)(y=>this.observer=y)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Bs(w,m,y){const E=xt(w);de(E._canInitEmulator,E,"emulator-config-failed"),de(/^https?:\/\//.test(m),E,"invalid-emulator-scheme");const P=!!y?.disableWarnings,H=yl(m),{host:ue,port:Be}=function bs(w){const m=yl(w),y=/(\/\/)?([^?#/]+)/.exec(w.substr(m.length));if(!y)return{host:"",port:null};const E=y[2].split("@").pop()||"",P=/^(\[[^\]]+\])(:|$)/.exec(E);if(P){const H=P[1];return{host:H,port:Ci(E.substr(H.length+1))}}{const[H,ue]=E.split(":");return{host:H,port:Ci(ue)}}}(m);E.config.emulator={url:`${H}//${ue}${null===Be?"":`:${Be}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:ue,port:Be,protocol:H.replace(":",""),options:Object.freeze({disableWarnings:P})}),P||function Vs(){function w(){const m=document.createElement("p"),y=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function yl(w){const m=w.indexOf(":");return m<0?"":w.substr(0,m+1)}function Ci(w){if(!w)return null;const m=Number(w);return isNaN(m)?null:m}class mr{constructor(m,y){this.providerId=m,this.signInMethod=y}toJSON(){return Ae("not implemented")}_getIdTokenResponse(m){return Ae("not implemented")}_linkToIdToken(m,y){return Ae("not implemented")}_getReauthenticationResolver(m){return Ae("not implemented")}}function _r(w,m){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,s.Z)(function*(w,m){return Nt(w,"POST","/v1/accounts:resetPassword",Bt(w,m))})).apply(this,arguments)}function vl(w,m){return hn.apply(this,arguments)}function hn(){return(hn=(0,s.Z)(function*(w,m){return Nt(w,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function sd(w,m){return wa.apply(this,arguments)}function wa(){return(wa=(0,s.Z)(function*(w,m){return Nt(w,"POST","/v1/accounts:update",Bt(w,m))})).apply(this,arguments)}function lo(){return(lo=(0,s.Z)(function*(w,m){return Xn(w,"POST","/v1/accounts:signInWithPassword",Bt(w,m))})).apply(this,arguments)}function Nn(w,m){return Us.apply(this,arguments)}function Us(){return(Us=(0,s.Z)(function*(w,m){return Nt(w,"POST","/v1/accounts:sendOobCode",Bt(w,m))})).apply(this,arguments)}function ws(w,m){return bn.apply(this,arguments)}function bn(){return(bn=(0,s.Z)(function*(w,m){return Nn(w,m)})).apply(this,arguments)}function od(w,m){return Di.apply(this,arguments)}function Di(){return(Di=(0,s.Z)(function*(w,m){return Nn(w,m)})).apply(this,arguments)}function Pr(w,m){return ss.apply(this,arguments)}function ss(){return(ss=(0,s.Z)(function*(w,m){return Nn(w,m)})).apply(this,arguments)}function Nr(w,m){return co.apply(this,arguments)}function co(){return(co=(0,s.Z)(function*(w,m){return Nn(w,m)})).apply(this,arguments)}function Ea(){return(Ea=(0,s.Z)(function*(w,m){return Xn(w,"POST","/v1/accounts:signInWithEmailLink",Bt(w,m))})).apply(this,arguments)}function uo(){return(uo=(0,s.Z)(function*(w,m){return Xn(w,"POST","/v1/accounts:signInWithEmailLink",Bt(w,m))})).apply(this,arguments)}class jo extends mr{constructor(m,y,E,P=null){super("password",E),this._email=m,this._password=y,this._tenantId=P}static _fromEmailAndPassword(m,y){return new jo(m,y,"password")}static _fromEmailAndCode(m,y,E=null){return new jo(m,y,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(m){var y=this;return(0,s.Z)(function*(){switch(y.signInMethod){case"password":return function Ca(w,m){return lo.apply(this,arguments)}(m,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function yr(w,m){return Ea.apply(this,arguments)}(m,{email:y._email,oobCode:y._password});default:ut(m,"internal-error")}})()}_linkToIdToken(m,y){var E=this;return(0,s.Z)(function*(){switch(E.signInMethod){case"password":return vl(m,{idToken:y,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function ad(w,m){return uo.apply(this,arguments)}(m,{idToken:y,email:E._email,oobCode:E._password});default:ut(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function ho(w,m){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,s.Z)(function*(w,m){return Xn(w,"POST","/v1/accounts:signInWithIdp",Bt(w,m))})).apply(this,arguments)}class Cs extends mr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const y=new Cs(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(y.idToken=m.idToken),m.accessToken&&(y.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(y.nonce=m.nonce),m.pendingToken&&(y.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(y.accessToken=m.oauthToken,y.secret=m.oauthTokenSecret):ut("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:E,signInMethod:P}=y,H=(0,ye._T)(y,["providerId","signInMethod"]);if(!E||!P)return null;const ue=new Cs(E,P);return ue.idToken=H.idToken||void 0,ue.accessToken=H.accessToken||void 0,ue.secret=H.secret,ue.nonce=H.nonce,ue.pendingToken=H.pendingToken||null,ue}_getIdTokenResponse(m){return ho(m,this.buildRequest())}_linkToIdToken(m,y){const E=this.buildRequest();return E.idToken=y,ho(m,E)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,ho(m,y)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),m.postBody=(0,L.xO)(y)}return m}}function Al(w,m){return su.apply(this,arguments)}function su(){return(su=(0,s.Z)(function*(w,m){return Nt(w,"POST","/v1/accounts:sendVerificationCode",Bt(w,m))})).apply(this,arguments)}function Da(){return(Da=(0,s.Z)(function*(w,m){return Xn(w,"POST","/v1/accounts:signInWithPhoneNumber",Bt(w,m))})).apply(this,arguments)}function ou(){return(ou=(0,s.Z)(function*(w,m){const y=yield Xn(w,"POST","/v1/accounts:signInWithPhoneNumber",Bt(w,m));if(y.temporaryProof)throw Ln(w,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const fh={USER_NOT_FOUND:"user-not-found"};function lc(){return(lc=(0,s.Z)(function*(w,m){return Xn(w,"POST","/v1/accounts:signInWithPhoneNumber",Bt(w,Object.assign(Object.assign({},m),{operation:"REAUTH"})),fh)})).apply(this,arguments)}class qo extends mr{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,y){return new qo({verificationId:m,verificationCode:y})}static _fromTokenResponse(m,y){return new qo({phoneNumber:m,temporaryProof:y})}_getIdTokenResponse(m){return function ld(w,m){return Da.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,y){return function Go(w,m){return ou.apply(this,arguments)}(m,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function ph(w,m){return lc.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:y,verificationId:E,verificationCode:P}=this.params;return m&&y?{temporaryProof:m,phoneNumber:y}:{sessionInfo:E,code:P}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:y,verificationCode:E,phoneNumber:P,temporaryProof:H}=m;return E||y||P||H?new qo({verificationId:y,verificationCode:E,phoneNumber:P,temporaryProof:H}):null}}class Hs{constructor(m){var y,E,P,H,ue,Be;const vt=(0,L.zd)((0,L.pd)(m)),Ft=null!==(y=vt.apiKey)&&void 0!==y?y:null,yn=null!==(E=vt.oobCode)&&void 0!==E?E:null,Wn=function au(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(P=vt.mode)&&void 0!==P?P:null);de(Ft&&yn&&Wn,"argument-error"),this.apiKey=Ft,this.operation=Wn,this.code=yn,this.continueUrl=null!==(H=vt.continueUrl)&&void 0!==H?H:null,this.languageCode=null!==(ue=vt.languageCode)&&void 0!==ue?ue:null,this.tenantId=null!==(Be=vt.tenantId)&&void 0!==Be?Be:null}static parseLink(m){const y=function lu(w){const m=(0,L.zd)((0,L.pd)(w)).link,y=m?(0,L.zd)((0,L.pd)(m)).deep_link_id:null,E=(0,L.zd)((0,L.pd)(w)).deep_link_id;return(E?(0,L.zd)((0,L.pd)(E)).link:null)||E||y||m||w}(m);try{return new Hs(y)}catch{return null}}}let fo=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(y,E){return jo._fromEmailAndPassword(y,E)}static credentialWithLink(y,E){const P=Hs.parseLink(E);return de(P,"argument-error"),jo._fromEmailAndCode(y,P.code,P.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Yi{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Zo extends Yi{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class zs extends Zo{static credentialFromJSON(m){const y="string"==typeof m?JSON.parse(m):m;return de("providerId"in y&&"signInMethod"in y,"argument-error"),Cs._fromParams(y)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return de(m.idToken||m.accessToken,"argument-error"),Cs._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return zs.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return zs.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:y,oauthAccessToken:E,oauthTokenSecret:P,pendingToken:H,nonce:ue,providerId:Be}=m;if(!E&&!P&&!y&&!H||!Be)return null;try{return new zs(Be)._credential({idToken:y,accessToken:E,nonce:ue,pendingToken:H})}catch{return null}}}let Wo=(()=>{class w extends Zo{constructor(){super("facebook.com")}static credential(y){return Cs._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),bl=(()=>{class w extends Zo{constructor(){super("google.com"),this.addScope("profile")}static credential(y,E){return Cs._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:E})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:E,oauthAccessToken:P}=y;if(!E&&!P)return null;try{return w.credential(E,P)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),cc=(()=>{class w extends Zo{constructor(){super("github.com")}static credential(y){return Cs._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class po extends mr{constructor(m,y){super(m,m),this.pendingToken=y}_getIdTokenResponse(m){return ho(m,this.buildRequest())}_linkToIdToken(m,y){const E=this.buildRequest();return E.idToken=y,ho(m,E)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,ho(m,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:E,signInMethod:P,pendingToken:H}=y;return E&&P&&H&&E===P?new po(E,H):null}static _create(m,y){return new po(m,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class vr extends Yi{constructor(m){de(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return vr.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return vr.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const y=po.fromJSON(m);return de(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:y,providerId:E}=m;if(!y||!E)return null;try{return po._create(E,y)}catch{return null}}}let Es=(()=>{class w extends Zo{constructor(){super("twitter.com")}static credential(y,E){return Cs._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:E})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:E,oauthTokenSecret:P}=y;if(!E||!P)return null;try{return w.credential(E,P)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function Ar(w,m){return go.apply(this,arguments)}function go(){return(go=(0,s.Z)(function*(w,m){return Xn(w,"POST","/v1/accounts:signUp",Bt(w,m))})).apply(this,arguments)}class tr{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,y,E,P=!1){return(0,s.Z)(function*(){const H=yield Rt._fromIdTokenResponse(m,E,P),ue=Yo(E);return new tr({user:H,providerId:ue,_tokenResponse:E,operationType:y})})()}static _forOperation(m,y,E){return(0,s.Z)(function*(){yield m._updateTokensIfNecessary(E,!0);const P=Yo(E);return new tr({user:m,providerId:P,_tokenResponse:E,operationType:y})})()}}function Yo(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function gh(w){return js.apply(this,arguments)}function js(){return(js=(0,s.Z)(function*(w){var m;const y=xt(w);if(yield y._initializationPromise,null!==(m=y.currentUser)&&void 0!==m&&m.isAnonymous)return new tr({user:y.currentUser,providerId:null,operationType:"signIn"});const E=yield Ar(y,{returnSecureToken:!0}),P=yield tr._fromIdTokenResponse(y,"signIn",E,!0);return yield y._updateCurrentUser(P.user),P})).apply(this,arguments)}class li extends L.ZR{constructor(m,y,E,P){var H;super(y.code,y.message),this.operationType=E,this.user=P,Object.setPrototypeOf(this,li.prototype),this.customData={appName:m.name,tenantId:null!==(H=m.tenantId)&&void 0!==H?H:void 0,_serverResponse:y.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(m,y,E,P){return new li(m,y,E,P)}}function uu(w,m,y,E){return("reauthenticate"===m?y._getReauthenticationResolver(w):y._getIdTokenResponse(w)).catch(H=>{throw"auth/multi-factor-auth-required"===H.code?li._fromErrorAndOperation(w,H,m,E):H})}function cd(w){return new Set(w.map(({providerId:m})=>m).filter(m=>!!m))}function Lr(w,m){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,s.Z)(function*(w,m){const y=(0,L.m9)(w);yield os(!0,y,m);const{providerUserInfo:E}=yield nt(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[m]}),P=cd(E||[]);return y.providerData=y.providerData.filter(H=>P.has(H.providerId)),P.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function $o(w,m){return mo.apply(this,arguments)}function mo(){return(mo=(0,s.Z)(function*(w,m,y=!1){const E=yield qt(w,m._linkToIdToken(w.auth,yield w.getIdToken()),y);return tr._forOperation(w,"link",E)})).apply(this,arguments)}function os(w,m,y){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,s.Z)(function*(w,m,y){yield mi(m);const P=!1===w?"provider-already-linked":"no-such-provider";de(cd(m.providerData).has(y)===w,m.auth,P)})).apply(this,arguments)}function uc(w,m){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,s.Z)(function*(w,m,y=!1){var E;const{auth:P}=w,H="reauthenticate";try{const ue=yield qt(w,uu(P,H,m,w),y);de(ue.idToken,P,"internal-error");const Be=St(ue.idToken);de(Be,P,"internal-error");const{sub:vt}=Be;return de(w.uid===vt,P,"user-mismatch"),tr._forOperation(w,H,ue)}catch(ue){throw"auth/user-not-found"===(null===(E=ue)||void 0===E?void 0:E.code)&&ut(P,"user-mismatch"),ue}})).apply(this,arguments)}function dc(w,m){return Br.apply(this,arguments)}function Br(){return(Br=(0,s.Z)(function*(w,m,y=!1){const E="signIn",P=yield uu(w,E,m),H=yield tr._fromIdTokenResponse(w,E,P);return y||(yield w._updateCurrentUser(H.user)),H})).apply(this,arguments)}function Ia(w,m){return ci.apply(this,arguments)}function ci(){return(ci=(0,s.Z)(function*(w,m){return dc(xt(w),m)})).apply(this,arguments)}function zt(w,m){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,s.Z)(function*(w,m){const y=(0,L.m9)(w);return yield os(!1,y,m.providerId),$o(y,m)})).apply(this,arguments)}function Sa(w,m){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,s.Z)(function*(w,m){return uc((0,L.m9)(w),m)})).apply(this,arguments)}function du(w,m){return xa.apply(this,arguments)}function xa(){return(xa=(0,s.Z)(function*(w,m){return Xn(w,"POST","/v1/accounts:signInWithCustomToken",Bt(w,m))})).apply(this,arguments)}function _o(w,m){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,s.Z)(function*(w,m){const y=xt(w),E=yield du(y,{token:m,returnSecureToken:!0}),P=yield tr._fromIdTokenResponse(y,"signIn",E);return yield y._updateCurrentUser(P.user),P})).apply(this,arguments)}class Qo{constructor(m,y){this.factorId=m,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(m,y){return"phoneInfo"in y?He._fromServerResponse(m,y):ut(m,"internal-error")}}class He extends Qo{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,y){return new He(y)}}function pn(w,m,y){var E;de((null===(E=y.url)||void 0===E?void 0:E.length)>0,w,"invalid-continue-uri"),de(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),m.continueUrl=y.url,m.dynamicLinkDomain=y.dynamicLinkDomain,m.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(de(y.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),m.iOSBundleId=y.iOS.bundleId),y.android&&(de(y.android.packageName.length>0,w,"missing-android-pkg-name"),m.androidInstallApp=y.android.installApp,m.androidMinimumVersionCode=y.android.minimumVersion,m.androidPackageName=y.android.packageName)}function ud(w,m,y){return qs.apply(this,arguments)}function qs(){return(qs=(0,s.Z)(function*(w,m,y){const E=(0,L.m9)(w),P={requestType:"PASSWORD_RESET",email:m};y&&pn(E,P,y),yield od(E,P)})).apply(this,arguments)}function Ii(w,m,y){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,s.Z)(function*(w,m,y){yield _r((0,L.m9)(w),{oobCode:m,newPassword:y})})).apply(this,arguments)}function wl(w,m){return dr.apply(this,arguments)}function dr(){return(dr=(0,s.Z)(function*(w,m){yield sd((0,L.m9)(w),{oobCode:m})})).apply(this,arguments)}function ka(w,m){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,s.Z)(function*(w,m){const y=(0,L.m9)(w),E=yield _r(y,{oobCode:m}),P=E.requestType;switch(de(P,y,"internal-error"),P){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":de(E.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":de(E.mfaInfo,y,"internal-error");default:de(E.email,y,"internal-error")}let H=null;return E.mfaInfo&&(H=Qo._fromServerResponse(xt(y),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:H},operation:P}})).apply(this,arguments)}function hc(w,m){return ea.apply(this,arguments)}function ea(){return(ea=(0,s.Z)(function*(w,m){const{data:y}=yield ka((0,L.m9)(w),m);return y.email})).apply(this,arguments)}function dd(w,m,y){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,s.Z)(function*(w,m,y){const E=xt(w),P=yield Ar(E,{returnSecureToken:!0,email:m,password:y}),H=yield tr._fromIdTokenResponse(E,"signIn",P);return yield E._updateCurrentUser(H.user),H})).apply(this,arguments)}function ki(w,m,y){return Ia((0,L.m9)(w),fo.credential(m,y))}function as(w,m,y){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,s.Z)(function*(w,m,y){const E=(0,L.m9)(w),P={requestType:"EMAIL_SIGNIN",email:m};de(y.handleCodeInApp,E,"argument-error"),y&&pn(E,P,y),yield Pr(E,P)})).apply(this,arguments)}function Zs(w,m){return"EMAIL_SIGNIN"===Hs.parseLink(m)?.operation}function Is(w,m,y){return hu.apply(this,arguments)}function hu(){return(hu=(0,s.Z)(function*(w,m,y){const E=(0,L.m9)(w),P=fo.credentialWithLink(m,y||We());return de(P._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Ia(E,P)})).apply(this,arguments)}function fc(w,m){return fu.apply(this,arguments)}function fu(){return(fu=(0,s.Z)(function*(w,m){return Nt(w,"POST","/v1/accounts:createAuthUri",Bt(w,m))})).apply(this,arguments)}function pu(w,m){return ta.apply(this,arguments)}function ta(){return(ta=(0,s.Z)(function*(w,m){const E={identifier:m,continueUri:Qe()?We():"http://localhost"},{signinMethods:P}=yield fc((0,L.m9)(w),E);return P||[]})).apply(this,arguments)}function pc(w,m){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,s.Z)(function*(w,m){const y=(0,L.m9)(w),P={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};m&&pn(y.auth,P,m);const{email:H}=yield ws(y.auth,P);H!==w.email&&(yield w.reload())})).apply(this,arguments)}function gc(w,m,y){return na.apply(this,arguments)}function na(){return(na=(0,s.Z)(function*(w,m,y){const E=(0,L.m9)(w),H={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:m};y&&pn(E.auth,H,y);const{email:ue}=yield Nr(E.auth,H);ue!==w.email&&(yield w.reload())})).apply(this,arguments)}function mc(w,m){return ia.apply(this,arguments)}function ia(){return(ia=(0,s.Z)(function*(w,m){return Nt(w,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function hd(w,m){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,s.Z)(function*(w,{displayName:m,photoURL:y}){if(void 0===m&&void 0===y)return;const E=(0,L.m9)(w),H={idToken:yield E.getIdToken(),displayName:m,photoUrl:y,returnSecureToken:!0},ue=yield qt(E,mc(E.auth,H));E.displayName=ue.displayName||null,E.photoURL=ue.photoUrl||null;const Be=E.providerData.find(({providerId:vt})=>"password"===vt);Be&&(Be.displayName=E.displayName,Be.photoURL=E.photoURL),yield E._updateTokensIfNecessary(ue)})).apply(this,arguments)}function gu(w,m){return Ws((0,L.m9)(w),m,null)}function Cl(w,m){return Ws((0,L.m9)(w),null,m)}function Ws(w,m,y){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,s.Z)(function*(w,m,y){const{auth:E}=w,H={idToken:yield w.getIdToken(),returnSecureToken:!0};m&&(H.email=m),y&&(H.password=y);const ue=yield qt(w,vl(E,H));yield w._updateTokensIfNecessary(ue,!0)})).apply(this,arguments)}class ni{constructor(m,y,E={}){this.isNewUser=m,this.providerId=y,this.profile=E}}class ls extends ni{constructor(m,y,E,P){super(m,y,E),this.username=P}}class ii extends ni{constructor(m,y){super(m,"facebook.com",y)}}class _c extends ls{constructor(m,y){super(m,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class yc extends ni{constructor(m,y){super(m,"google.com",y)}}class _u extends ls{constructor(m,y,E){super(m,"twitter.com",y,E)}}function vc(w){const{user:m,_tokenResponse:y}=w;return m.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function mu(w){var m,y;if(!w)return null;const{providerId:E}=w,P=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},H=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!E&&w?.idToken){const ue=null===(y=null===(m=St(w.idToken))||void 0===m?void 0:m.firebase)||void 0===y?void 0:y.sign_in_provider;if(ue)return new ni(H,"anonymous"!==ue&&"custom"!==ue?ue:null)}if(!E)return null;switch(E){case"facebook.com":return new ii(H,P);case"github.com":return new _c(H,P);case"google.com":return new yc(H,P);case"twitter.com":return new _u(H,P,w.screenName||null);case"custom":case"anonymous":return new ni(H,null);default:return new ni(H,E,P)}}(y)}class Ur{constructor(m,y,E){this.type=m,this.credential=y,this.auth=E}static _fromIdtoken(m,y){return new Ur("enroll",m,y)}static _fromMfaPendingCredential(m){return new Ur("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var y,E;if(m?.multiFactorSession){if(null!==(y=m.multiFactorSession)&&void 0!==y&&y.pendingCredential)return Ur._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(E=m.multiFactorSession)&&void 0!==E&&E.idToken)return Ur._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Ec{constructor(m,y,E){this.session=m,this.hints=y,this.signInResolver=E}static _fromError(m,y){const E=xt(m),P=y.customData._serverResponse,H=(P.mfaInfo||[]).map(Be=>Qo._fromServerResponse(E,Be));de(P.mfaPendingCredential,E,"internal-error");const ue=Ur._fromMfaPendingCredential(P.mfaPendingCredential);return new Ec(ue,H,function(){var Be=(0,s.Z)(function*(vt){const Ft=yield vt._process(E,ue);delete P.mfaInfo,delete P.mfaPendingCredential;const yn=Object.assign(Object.assign({},P),{idToken:Ft.idToken,refreshToken:Ft.refreshToken});switch(y.operationType){case"signIn":const Wn=yield tr._fromIdTokenResponse(E,y.operationType,yn);return yield E._updateCurrentUser(Wn.user),Wn;case"reauthenticate":return de(y.user,E,"internal-error"),tr._forOperation(y.user,y.operationType,yn);default:ut(E,"internal-error")}});return function(vt){return Be.apply(this,arguments)}}())}resolveSignIn(m){var y=this;return(0,s.Z)(function*(){return y.signInResolver(m)})()}}function Dc(w,m){var y;const E=(0,L.m9)(w),P=m;return de(m.customData.operationType,E,"argument-error"),de(null===(y=P.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,E,"argument-error"),Ec._fromError(E,P)}function _i(w,m){return Nt(w,"POST","/v2/accounts/mfaEnrollment:start",Bt(w,m))}class br{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(E=>Qo._fromServerResponse(m.auth,E)))})}static _fromUser(m){return new br(m)}getSession(){var m=this;return(0,s.Z)(function*(){return Ur._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,y){var E=this;return(0,s.Z)(function*(){const P=m,H=yield E.getSession(),ue=yield qt(E.user,P._process(E.user.auth,H,y));return yield E.user._updateTokensIfNecessary(ue),E.user.reload()})()}unenroll(m){var y=this;return(0,s.Z)(function*(){var E;const P="string"==typeof m?m:m.uid,H=yield y.user.getIdToken(),ue=yield qt(y.user,function Il(w,m){return Nt(w,"POST","/v2/accounts/mfaEnrollment:withdraw",Bt(w,m))}(y.user.auth,{idToken:H,mfaEnrollmentId:P}));y.enrolledFactors=y.enrolledFactors.filter(({uid:Be})=>Be!==P),yield y.user._updateTokensIfNecessary(ue);try{yield y.user.reload()}catch(Be){if("auth/user-token-expired"!==(null===(E=Be)||void 0===E?void 0:E.code))throw Be}})()}}const oa=new WeakMap;function Na(w){const m=(0,L.m9)(w);return oa.has(m)||oa.set(m,br._fromUser(m)),oa.get(m)}const Ss="__sak";class Fa{constructor(m,y){this.storageRetriever=m,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Ss,"1"),this.storage.removeItem(Ss),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,y){return this.storage.setItem(m,JSON.stringify(y)),Promise.resolve()}_get(m){const y=this.storage.getItem(m);return Promise.resolve(y?JSON.parse(y):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const ui=(()=>{class w extends Fa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,E)=>this.onStorageEvent(y,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ic(){const w=(0,L.z$)();return W(w)||Ke(w)}()&&function rs(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=In(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const E of Object.keys(this.listeners)){const P=this.storage.getItem(E),H=this.localCache[E];P!==H&&y(E,H,P)}}onStorageEvent(y,E=!1){if(!y.key)return void this.forAllChangedKeys((Be,vt,Ft)=>{this.notifyListeners(Be,Ft)});const P=y.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Be=this.storage.getItem(P);if(y.newValue!==Be)null!==y.newValue?this.storage.setItem(P,y.newValue):this.storage.removeItem(P);else if(this.localCache[P]===y.newValue&&!E)return}const H=()=>{const Be=this.storage.getItem(P);!E&&this.localCache[P]===Be||this.notifyListeners(P,Be)},ue=this.storage.getItem(P);!function Wt(){return(0,L.w1)()&&10===document.documentMode}()||ue===y.newValue||y.newValue===y.oldValue?H():setTimeout(H,10)}notifyListeners(y,E){this.localCache[y]=E;const P=this.listeners[y];if(P)for(const H of Array.from(P))H(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,E,P)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:E,newValue:P}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(E)}_removeListener(y,E){this.listeners[y]&&(this.listeners[y].delete(E),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,E){var P=()=>super._set,H=this;return(0,s.Z)(function*(){yield P().call(H,y,E),H.localCache[y]=JSON.stringify(E)})()}_get(y){var E=()=>super._get,P=this;return(0,s.Z)(function*(){const H=yield E().call(P,y);return P.localCache[y]=JSON.stringify(H),H})()}_remove(y){var E=()=>super._remove,P=this;return(0,s.Z)(function*(){yield E().call(P,y),delete P.localCache[y]})()}}return w.type="LOCAL",w})(),S=(()=>{class w extends Fa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,E){}_removeListener(y,E){}}return w.type="SESSION",w})();let K=(()=>{class w{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const E=this.receivers.find(H=>H.isListeningto(y));if(E)return E;const P=new w(y);return this.receivers.push(P),P}isListeningto(y){return this.eventTarget===y}handleEvent(y){var E=this;return(0,s.Z)(function*(){const P=y,{eventId:H,eventType:ue,data:Be}=P.data,vt=E.handlersMap[ue];if(!vt?.size)return;P.ports[0].postMessage({status:"ack",eventId:H,eventType:ue});const Ft=Array.from(vt).map(function(){var Wn=(0,s.Z)(function*(zr){return zr(P.origin,Be)});return function(zr){return Wn.apply(this,arguments)}}()),yn=yield function R(w){return Promise.all(w.map(function(){var m=(0,s.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(E){return{fulfilled:!1,reason:E}}});return function(y){return m.apply(this,arguments)}}()))}(Ft);P.ports[0].postMessage({status:"done",eventId:H,eventType:ue,response:yn})})()}_subscribe(y,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(E)}_unsubscribe(y,E){this.handlersMap[y]&&E&&this.handlersMap[y].delete(E),(!E||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Te(w="",m=10){let y="";for(let E=0;E<m;E++)y+=Math.floor(10*Math.random());return w+y}class At{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,y,E=50){var P=this;return(0,s.Z)(function*(){const H=typeof MessageChannel<"u"?new MessageChannel:null;if(!H)throw new Error("connection_unavailable");let ue,Be;return new Promise((vt,Ft)=>{const yn=Te("",20);H.port1.start();const Wn=setTimeout(()=>{Ft(new Error("unsupported_event"))},E);Be={messageChannel:H,onMessage(zr){const eo=zr;if(eo.data.eventId===yn)switch(eo.data.status){case"ack":clearTimeout(Wn),ue=setTimeout(()=>{Ft(new Error("timeout"))},3e3);break;case"done":clearTimeout(ue),vt(eo.data.response);break;default:clearTimeout(Wn),clearTimeout(ue),Ft(new Error("invalid_response"))}}},P.handlers.add(Be),H.port1.addEventListener("message",Be.onMessage),P.target.postMessage({eventType:m,eventId:yn,data:y},[H.port2])}).finally(()=>{Be&&P.removeMessageHandler(Be)})})()}}function sn(){return window}function qn(){return typeof sn().WorkerGlobalScope<"u"&&"function"==typeof sn().importScripts}function Qr(){return(Qr=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Sc="firebaseLocalStorageDb",Tc="firebaseLocalStorage",Sl="fbase_key";class Va{constructor(m){this.request=m}toPromise(){return new Promise((m,y)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function Tl(w,m){return w.transaction([Tc],m?"readwrite":"readonly").objectStore(Tc)}function Au(){const w=indexedDB.open(Sc,1);return new Promise((m,y)=>{w.addEventListener("error",()=>{y(w.error)}),w.addEventListener("upgradeneeded",()=>{const E=w.result;try{E.createObjectStore(Tc,{keyPath:Sl})}catch(P){y(P)}}),w.addEventListener("success",(0,s.Z)(function*(){const E=w.result;E.objectStoreNames.contains(Tc)?m(E):(E.close(),yield function mh(){const w=indexedDB.deleteDatabase(Sc);return new Va(w).toPromise()}(),m(yield Au()))}))})}function xc(w,m,y){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,s.Z)(function*(w,m,y){const E=Tl(w,!0).put({[Sl]:m,value:y});return new Va(E).toPromise()})).apply(this,arguments)}function xl(){return(xl=(0,s.Z)(function*(w,m){const y=Tl(w,!1).get(m),E=yield new Va(y).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function bu(w,m){const y=Tl(w,!0).delete(m);return new Va(y).toPromise()}const kl=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,s.Z)(function*(){return y.db||(y.db=yield Au()),y.db})()}_withRetries(y){var E=this;return(0,s.Z)(function*(){let P=0;for(;;)try{const H=yield E._openDb();return yield y(H)}catch(H){if(P++>3)throw H;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,s.Z)(function*(){return qn()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,s.Z)(function*(){y.receiver=K._getInstance(function vu(){return qn()?self:null}()),y.receiver._subscribe("keyChanged",function(){var E=(0,s.Z)(function*(P,H){return{keyProcessed:(yield y._poll()).includes(H.key)}});return function(P,H){return E.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var E=(0,s.Z)(function*(P,H){return["keyChanged"]});return function(P,H){return E.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,s.Z)(function*(){var E,P;if(y.activeServiceWorker=yield function yo(){return Qr.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new At(y.activeServiceWorker);const H=yield y.sender._send("ping",{},800);!H||(null===(E=H[0])||void 0===E?void 0:E.fulfilled)&&(null===(P=H[0])||void 0===P?void 0:P.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var E=this;return(0,s.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function pd(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:y},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const y=yield Au();return yield xc(y,Ss,"1"),yield bu(y,Ss),!0}catch{}return!1})()}_withPendingWrite(y){var E=this;return(0,s.Z)(function*(){E.pendingWrites++;try{yield y()}finally{E.pendingWrites--}})()}_set(y,E){var P=this;return(0,s.Z)(function*(){return P._withPendingWrite((0,s.Z)(function*(){return yield P._withRetries(H=>xc(H,y,E)),P.localCache[y]=E,P.notifyServiceWorker(y)}))})()}_get(y){var E=this;return(0,s.Z)(function*(){const P=yield E._withRetries(H=>function cp(w,m){return xl.apply(this,arguments)}(H,y));return E.localCache[y]=P,P})()}_remove(y){var E=this;return(0,s.Z)(function*(){return E._withPendingWrite((0,s.Z)(function*(){return yield E._withRetries(P=>bu(P,y)),delete E.localCache[y],E.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,s.Z)(function*(){const E=yield y._withRetries(ue=>{const Be=Tl(ue,!1).getAll();return new Va(Be).toPromise()});if(!E)return[];if(0!==y.pendingWrites)return[];const P=[],H=new Set;for(const{fbase_key:ue,value:Be}of E)H.add(ue),JSON.stringify(y.localCache[ue])!==JSON.stringify(Be)&&(y.notifyListeners(ue,Be),P.push(ue));for(const ue of Object.keys(y.localCache))y.localCache[ue]&&!H.has(ue)&&(y.notifyListeners(ue,null),P.push(ue));return P})()}notifyListeners(y,E){this.localCache[y]=E;const P=this.listeners[y];if(P)for(const H of Array.from(P))H(E)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(E)}_removeListener(y,E){this.listeners[y]&&(this.listeners[y].delete(E),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function up(w,m){return Nt(w,"POST","/v2/accounts/mfaSignIn:start",Bt(w,m))}function wr(){return(wr=(0,s.Z)(function*(w){return(yield Nt(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ua(w){return new Promise((m,y)=>{const E=document.createElement("script");E.setAttribute("src",w),E.onload=m,E.onerror=P=>{const H=je("internal-error");H.customData=P,y(H)},E.type="text/javascript",E.charset="UTF-8",function Rl(){var w,m;return null!==(m=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==m?m:document}().appendChild(E)})}function Pl(w){return`__${w}${Math.floor(1e6*Math.random())}`}const $s=1e12;class _h{constructor(m){this.auth=m,this.counter=$s,this._widgets=new Map}render(m,y){const E=this.counter;return this._widgets.set(E,new ri(m,this.auth.name,y||{})),this.counter++,E}reset(m){var y;const E=m||$s;null===(y=this._widgets.get(E))||void 0===y||y.delete(),this._widgets.delete(E)}getResponse(m){var y;return(null===(y=this._widgets.get(m||$s))||void 0===y?void 0:y.getResponse())||""}execute(m){var y=this;return(0,s.Z)(function*(){var E;return null===(E=y._widgets.get(m||$s))||void 0===E||E.execute(),""})()}}class ri{constructor(m,y,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const P="string"==typeof m?document.getElementById(m):m;de(P,"argument-error",{appName:y}),this.container=P,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Zm(w){const m=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<w;E++)m.push(y.charAt(Math.floor(Math.random()*y.length)));return m.join("")}(50);const{callback:m,"expired-callback":y}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const dp=Pl("rcb"),oE=new lt(3e4,6e4);class eA{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=sn().grecaptcha)||void 0===m||!m.render)}load(m,y=""){return de(function hp(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(y),m,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(sn().grecaptcha):new Promise((E,P)=>{const H=sn().setTimeout(()=>{P(je(m,"network-request-failed"))},oE.get());sn()[dp]=()=>{sn().clearTimeout(H),delete sn()[dp];const Be=sn().grecaptcha;if(!Be)return void P(je(m,"internal-error"));const vt=Be.render;Be.render=(Ft,yn)=>{const Wn=vt(Ft,yn);return this.counter++,Wn},this.hostLanguage=y,E(Be)},Ua(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:dp,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(H),P(je(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var y;return!(null===(y=sn().grecaptcha)||void 0===y||!y.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class aE{load(m){return(0,s.Z)(function*(){return new _h(m)})()}clearedOneInstance(){}}const vo="recaptcha",tA={theme:"light",type:"image"};class Wm{constructor(m,y=Object.assign({},tA),E){this.parameters=y,this.type=vo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=xt(E),this.isInvisible="invisible"===this.parameters.size,de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const P="string"==typeof m?document.getElementById(m):m;de(P,this.auth,"argument-error"),this.container=P,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new aE:new eA,this.validateStartingState()}verify(){var m=this;return(0,s.Z)(function*(){m.assertNotDestroyed();const y=yield m.render(),E=m.getAssertedRecaptcha();return E.getResponse(y)||new Promise(H=>{const ue=Be=>{!Be||(m.tokenChangeListeners.delete(ue),H(Be))};m.tokenChangeListeners.add(ue),m.isInvisible&&E.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){de(!this.parameters.sitekey,this.auth,"argument-error"),de(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return y=>{if(this.tokenChangeListeners.forEach(E=>E(y)),"function"==typeof m)m(y);else if("string"==typeof m){const E=sn()[m];"function"==typeof E&&E(y)}}}assertNotDestroyed(){de(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,s.Z)(function*(){if(yield m.init(),!m.widgetId){let y=m.container;if(!m.isInvisible){const E=document.createElement("div");y.appendChild(E),y=E}m.widgetId=m.getAssertedRecaptcha().render(y,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,s.Z)(function*(){de(Qe()&&!qn(),m.auth,"internal-error"),yield function nr(){let w=null;return new Promise(m=>{"complete"!==document.readyState?(w=()=>m(),window.addEventListener("load",w)):m()}).catch(m=>{throw w&&window.removeEventListener("load",w),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const y=yield function wu(w){return wr.apply(this,arguments)}(m.auth);de(y,m.auth,"internal-error"),m.parameters.sitekey=y})()}getAssertedRecaptcha(){return de(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Tn{constructor(m,y){this.verificationId=m,this.onConfirmation=y}confirm(m){const y=qo._fromVerification(this.verificationId,m);return this.onConfirmation(y)}}function Ks(w,m,y){return dt.apply(this,arguments)}function dt(){return(dt=(0,s.Z)(function*(w,m,y){const E=xt(w),P=yield si(E,m,(0,L.m9)(y));return new Tn(P,H=>Ia(E,H))})).apply(this,arguments)}function jt(w,m,y){return tn.apply(this,arguments)}function tn(){return(tn=(0,s.Z)(function*(w,m,y){const E=(0,L.m9)(w);yield os(!1,E,"phone");const P=yield si(E.auth,m,(0,L.m9)(y));return new Tn(P,H=>zt(E,H))})).apply(this,arguments)}function Ao(w,m,y){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,s.Z)(function*(w,m,y){const E=(0,L.m9)(w),P=yield si(E.auth,m,(0,L.m9)(y));return new Tn(P,H=>Sa(E,H))})).apply(this,arguments)}function si(w,m,y){return za.apply(this,arguments)}function za(){return(za=(0,s.Z)(function*(w,m,y){var E;const P=yield y.verify();try{let H;if(de("string"==typeof P,w,"argument-error"),de(y.type===vo,w,"argument-error"),H="string"==typeof m?{phoneNumber:m}:m,"session"in H){const ue=H.session;if("phoneNumber"in H)return de("enroll"===ue.type,w,"internal-error"),(yield _i(w,{idToken:ue.credential,phoneEnrollmentInfo:{phoneNumber:H.phoneNumber,recaptchaToken:P}})).phoneSessionInfo.sessionInfo;{de("signin"===ue.type,w,"internal-error");const Be=(null===(E=H.multiFactorHint)||void 0===E?void 0:E.uid)||H.multiFactorUid;return de(Be,w,"missing-multi-factor-info"),(yield up(w,{mfaPendingCredential:ue.credential,mfaEnrollmentId:Be,phoneSignInInfo:{recaptchaToken:P}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ue}=yield Al(w,{phoneNumber:H.phoneNumber,recaptchaToken:P});return ue}}finally{y._reset()}})).apply(this,arguments)}function yh(w,m){return vh.apply(this,arguments)}function vh(){return(vh=(0,s.Z)(function*(w,m){yield $o((0,L.m9)(w),m)})).apply(this,arguments)}let fp=(()=>{class w{constructor(y){this.providerId=w.PROVIDER_ID,this.auth=xt(y)}verifyPhoneNumber(y,E){return si(this.auth,y,(0,L.m9)(E))}static credential(y,E){return qo._fromVerification(y,E)}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:E,temporaryProof:P}=y;return E&&P?qo._fromTokenResponse(E,P):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function ja(w,m){return m?ce(m):(de(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class _d extends mr{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return ho(m,this._buildIdpRequest())}_linkToIdToken(m,y){return ho(m,this._buildIdpRequest(y))}_getReauthenticationResolver(m){return ho(m,this._buildIdpRequest())}_buildIdpRequest(m){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(y.idToken=m),y}}function Ga(w){return dc(w.auth,new _d(w),w.bypassAuthState)}function ot(w){const{auth:m,user:y}=w;return de(y,m,"internal-error"),uc(y,new _d(w),w.bypassAuthState)}function Mc(w){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,s.Z)(function*(w){const{auth:m,user:y}=w;return de(y,m,"internal-error"),$o(y,new _d(w),w.bypassAuthState)})).apply(this,arguments)}class kc{constructor(m,y,E,P,H=!1){this.auth=m,this.resolver=E,this.user=P,this.bypassAuthState=H,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var m=this;return new Promise(function(){var y=(0,s.Z)(function*(E,P){m.pendingPromise={resolve:E,reject:P};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(H){m.reject(H)}});return function(E,P){return y.apply(this,arguments)}}())}onAuthEvent(m){var y=this;return(0,s.Z)(function*(){const{urlResponse:E,sessionId:P,postBody:H,tenantId:ue,error:Be,type:vt}=m;if(Be)return void y.reject(Be);const Ft={auth:y.auth,requestUri:E,sessionId:P,tenantId:ue||void 0,postBody:H||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(vt)(Ft))}catch(yn){y.reject(yn)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Ga;case"linkViaPopup":case"linkViaRedirect":return Mc;case"reauthViaPopup":case"reauthViaRedirect":return ot;default:ut(this.auth,"internal-error")}}resolve(m){Ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){Ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Oc=new lt(2e3,1e4);function oi(w,m,y){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,s.Z)(function*(w,m,y){const E=xt(w);ke(w,m,Yi);const P=ja(E,y);return new Pc(E,"signInViaPopup",m,P).executeNotNull()})).apply(this,arguments)}function xs(w,m,y){return Ah.apply(this,arguments)}function Ah(){return(Ah=(0,s.Z)(function*(w,m,y){const E=(0,L.m9)(w);ke(E.auth,m,Yi);const P=ja(E.auth,y);return new Pc(E.auth,"reauthViaPopup",m,P,E).executeNotNull()})).apply(this,arguments)}function pp(w,m,y){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,s.Z)(function*(w,m,y){const E=(0,L.m9)(w);ke(E.auth,m,Yi);const P=ja(E.auth,y);return new Pc(E.auth,"linkViaPopup",m,P,E).executeNotNull()})).apply(this,arguments)}let Pc=(()=>{class w extends kc{constructor(y,E,P,H,ue){super(y,E,H,ue),this.provider=P,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var y=this;return(0,s.Z)(function*(){const E=yield y.execute();return de(E,y.auth,"internal-error"),E})()}onExecution(){var y=this;return(0,s.Z)(function*(){Ee(1===y.filter.length,"Popup operations only handle one event");const E=Te();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],E),y.authWindow.associatedEvent=E,y.resolver._originValidation(y.auth).catch(P=>{y.reject(P)}),y.resolver._isIframeWebStorageSupported(y.auth,P=>{P||y.reject(je(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(je(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const y=()=>{var E,P;this.pollId=null!==(P=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==P&&P.closed?window.setTimeout(()=>{this.pollId=null,this.reject(je(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,Oc.get())};y()}}return w.currentPopupAction=null,w})();const hr=new Map;class bo extends kc{constructor(m,y,E=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,E),this.eventId=null}execute(){var m=()=>super.execute,y=this;return(0,s.Z)(function*(){let E=hr.get(y.auth._key());if(!E){try{const H=(yield function yd(w,m){return ir.apply(this,arguments)}(y.resolver,y.auth))?yield m().call(y):null;E=()=>Promise.resolve(H)}catch(P){E=()=>Promise.reject(P)}hr.set(y.auth._key(),E)}return y.bypassAuthState||hr.set(y.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(m){var y=()=>super.onAuthEvent,E=this;return(0,s.Z)(function*(){if("signInViaRedirect"===m.type)return y().call(E,m);if("unknown"!==m.type){if(m.eventId){const P=yield E.auth._redirectUserForId(m.eventId);if(P)return E.user=P,y().call(E,m);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function ir(){return(ir=(0,s.Z)(function*(w,m){const y=Js(m),E=Za(w);if(!(yield E._isAvailable()))return!1;const P="true"===(yield E._get(y));return yield E._remove(y),P})).apply(this,arguments)}function Hr(w,m){return wo.apply(this,arguments)}function wo(){return(wo=(0,s.Z)(function*(w,m){return Za(w)._set(Js(m),"true")})).apply(this,arguments)}function di(){hr.clear()}function Si(w,m){hr.set(w._key(),m)}function Za(w){return ce(w._redirectPersistence)}function Js(w){return Q("pendingRedirect",w.config.apiKey,w.name)}function Ti(w,m,y){return function nn(w,m,y){return Cr.apply(this,arguments)}(w,m,y)}function Cr(){return(Cr=(0,s.Z)(function*(w,m,y){const E=xt(w);ke(w,m,Yi);const P=ja(E,y);return yield Hr(P,E),P._openRedirect(E,m,"signInViaRedirect")})).apply(this,arguments)}function x(w,m,y){return function M(w,m,y){return N.apply(this,arguments)}(w,m,y)}function N(){return(N=(0,s.Z)(function*(w,m,y){const E=(0,L.m9)(w);ke(E.auth,m,Yi);const P=ja(E.auth,y);yield Hr(P,E.auth);const H=yield Xt(E);return P._openRedirect(E.auth,m,"reauthViaRedirect",H)})).apply(this,arguments)}function Y(w,m,y){return function le(w,m,y){return me.apply(this,arguments)}(w,m,y)}function me(){return(me=(0,s.Z)(function*(w,m,y){const E=(0,L.m9)(w);ke(E.auth,m,Yi);const P=ja(E.auth,y);yield os(!1,E,m.providerId),yield Hr(P,E.auth);const H=yield Xt(E);return P._openRedirect(E.auth,m,"linkViaRedirect",H)})).apply(this,arguments)}function Le(w,m){return $e.apply(this,arguments)}function $e(){return($e=(0,s.Z)(function*(w,m){return yield xt(w)._initializationPromise,wt(w,m,!1)})).apply(this,arguments)}function wt(w,m){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,s.Z)(function*(w,m,y=!1){const E=xt(w),P=ja(E,m),ue=yield new bo(E,P,y).execute();return ue&&!y&&(delete ue.user._redirectEventId,yield E._persistUserIfCurrent(ue.user),yield E._setRedirectUser(null,m)),ue})).apply(this,arguments)}function Xt(w){return kt.apply(this,arguments)}function kt(){return(kt=(0,s.Z)(function*(w){const m=Te(`${w.uid}:::`);return w._redirectEventId=m,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),m})).apply(this,arguments)}class rr{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let y=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(m,E)&&(y=!0,this.sendToConsumer(m,E),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function rn(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Co(w);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=m,y=!0)),y}sendToConsumer(m,y){var E;if(m.error&&!Co(m)){const P=(null===(E=m.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";y.onError(je(this.auth,P))}else y.onAuthEvent(m)}isEventForConsumer(m,y){const E=null===y.eventId||!!m.eventId&&m.eventId===y.eventId;return y.filter.includes(m.type)&&E}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ll(m))}saveEventToCache(m){this.cachedEventUids.add(Ll(m)),this.lastProcessedEventTime=Date.now()}}function Ll(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(m=>m).join("-")}function Co({type:w,error:m}){return"unknown"===w&&"auth/no-auth-event"===m?.code}function Ms(w){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,s.Z)(function*(w,m={}){return Nt(w,"GET","/v1/projects",m)})).apply(this,arguments)}const Xs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bl=/^https?/;function Jr(){return(Jr=(0,s.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:m}=yield Ms(w);for(const y of m)try{if(nA(y))return}catch{}ut(w,"unauthorized-domain")})).apply(this,arguments)}function nA(w){const m=We(),{protocol:y,hostname:E}=new URL(m);if(w.startsWith("chrome-extension://")){const ue=new URL(w);return""===ue.hostname&&""===E?"chrome-extension:"===y&&w.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===y&&ue.hostname===E}if(!Bl.test(y))return!1;if(Xs.test(w))return E===w;const P=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+P+"|"+P+")$","i").test(E)}const Ym=new lt(3e4,6e4);function gp(){const w=sn().___jsl;if(w?.H)for(const m of Object.keys(w.H))if(w.H[m].r=w.H[m].r||[],w.H[m].L=w.H[m].L||[],w.H[m].r=[...w.H[m].L],w.CP)for(let y=0;y<w.CP.length;y++)w.CP[y]=null}let Ri=null;function Ya(w){return Ri=Ri||function lE(w){return new Promise((m,y)=>{var E,P,H;function ue(){gp(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{gp(),y(je(w,"network-request-failed"))},timeout:Ym.get()})}if(null!==(P=null===(E=sn().gapi)||void 0===E?void 0:E.iframes)&&void 0!==P&&P.Iframe)m(gapi.iframes.getContext());else{if(null===(H=sn().gapi)||void 0===H||!H.load){const Be=Pl("iframefcb");return sn()[Be]=()=>{gapi.load?ue():y(je(w,"network-request-failed"))},Ua(`https://apis.google.com/js/api.js?onload=${Be}`).catch(vt=>y(vt))}ue()}}).catch(m=>{throw Ri=null,m})}(w),Ri}const mp=new lt(5e3,15e3),_p={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yp(w){const m=w.config;de(m.authDomain,w,"auth-domain-config-required");const y=m.emulator?Rn(m,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,E={apiKey:m.apiKey,appName:w.name,v:U.SDK_VERSION},P=iA.get(w.config.apiHost);P&&(E.eid=P);const H=w._getFrameworks();return H.length&&(E.fw=H.join(",")),`${y}?${(0,L.xO)(E).slice(1)}`}function bh(){return bh=(0,s.Z)(function*(w){const m=yield Ya(w),y=sn().gapi;return de(y,w,"internal-error"),m.open({where:document.body,url:yp(w),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_p,dontclear:!0},E=>new Promise(function(){var P=(0,s.Z)(function*(H,ue){yield E.restyle({setHideOnLeave:!1});const Be=je(w,"network-request-failed"),vt=sn().setTimeout(()=>{ue(Be)},mp.get());function Ft(){sn().clearTimeout(vt),H(E)}E.ping(Ft).then(Ft,()=>{ue(Be)})});return function(H,ue){return P.apply(this,arguments)}}()))}),bh.apply(this,arguments)}const vd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ad{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Cu(w,m,y,E,P,H){de(w.config.authDomain,w,"auth-domain-config-required"),de(w.config.apiKey,w,"invalid-api-key");const ue={apiKey:w.config.apiKey,appName:w.name,authType:y,redirectUrl:E,v:U.SDK_VERSION,eventId:P};if(m instanceof Yi){m.setDefaultLanguage(w.languageCode),ue.providerId=m.providerId||"",(0,L.xb)(m.getCustomParameters())||(ue.customParameters=JSON.stringify(m.getCustomParameters()));for(const[vt,Ft]of Object.entries(H||{}))ue[vt]=Ft}if(m instanceof Zo){const vt=m.getScopes().filter(Ft=>""!==Ft);vt.length>0&&(ue.scopes=vt.join(","))}w.tenantId&&(ue.tid=w.tenantId);const Be=ue;for(const vt of Object.keys(Be))void 0===Be[vt]&&delete Be[vt];return`${function Fc({config:w}){return w.emulator?Rn(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,L.xO)(Be).slice(1)}`}const Eu="webStorageSupport",Ap=class bd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=S,this._completeRedirectFn=wt,this._overrideRedirectResult=Si}_openPopup(m,y,E,P){var H=this;return(0,s.Z)(function*(){var ue;Ee(null===(ue=H.eventManagers[m._key()])||void 0===ue?void 0:ue.manager,"_initialize() not called before _openPopup()");const Be=Cu(m,y,E,We(),P);return function Ch(w,m,y,E=500,P=600){const H=Math.max((window.screen.availHeight-P)/2,0).toString(),ue=Math.max((window.screen.availWidth-E)/2,0).toString();let Be="";const vt=Object.assign(Object.assign({},vd),{width:E.toString(),height:P.toString(),top:H,left:ue}),Ft=(0,L.z$)().toLowerCase();y&&(Be=he(Ft)?"_blank":y),V(Ft)&&(m=m||"http://localhost",vt.scrollbars="yes");const yn=Object.entries(vt).reduce((zr,[eo,Ih])=>`${zr}${eo}=${Ih},`,"");if(function Bn(w=(0,L.z$)()){var m;return Ke(w)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(Ft)&&"_self"!==Be)return function Ka(w,m){const y=document.createElement("a");y.href=w,y.target=m;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(E)}(m||"",Be),new Ad(null);const Wn=window.open(m||"",Be,yn);de(Wn,w,"popup-blocked");try{Wn.focus()}catch{}return new Ad(Wn)}(m,Be,Te())})()}_openRedirect(m,y,E,P){var H=this;return(0,s.Z)(function*(){return yield H._originValidation(m),function Kr(w){sn().location.href=w}(Cu(m,y,E,We(),P)),new Promise(()=>{})})()}_initialize(m){const y=m._key();if(this.eventManagers[y]){const{manager:P,promise:H}=this.eventManagers[y];return P?Promise.resolve(P):(Ee(H,"If manager is not set, promise should be"),H)}const E=this.initAndGetManager(m);return this.eventManagers[y]={promise:E},E.catch(()=>{delete this.eventManagers[y]}),E}initAndGetManager(m){var y=this;return(0,s.Z)(function*(){const E=yield function Km(w){return bh.apply(this,arguments)}(m),P=new rr(m);return E.register("authEvent",H=>(de(H?.authEvent,m,"invalid-auth-event"),{status:P.onEvent(H.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[m._key()]={manager:P},y.iframes[m._key()]=E,P})()}_isIframeWebStorageSupported(m,y){this.iframes[m._key()].send(Eu,{type:Eu},P=>{var H;const ue=null===(H=P?.[0])||void 0===H?void 0:H[Eu];void 0!==ue&&y(!!ue),ut(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const y=m._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Wa(w){return Jr.apply(this,arguments)}(m)),this.originValidationPromises[y]}get _shouldInitProactively(){return In()||W()||Ke()}};class bp extends class Eh{constructor(m){this.factorId=m}_process(m,y,E){switch(y.type){case"enroll":return this._finalizeEnroll(m,y.credential,E);case"signin":return this._finalizeSignIn(m,y.credential);default:return Ae("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new bp(m)}_finalizeEnroll(m,y,E){return function Dl(w,m){return Nt(w,"POST","/v2/accounts/mfaEnrollment:finalize",Bt(w,m))}(m,{idToken:y,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,y){return function Ol(w,m){return Nt(w,"POST","/v2/accounts/mfaSignIn:finalize",Bt(w,m))}(m,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Do=(()=>{class w{constructor(){}static assertion(y){return bp._fromCredential(y)}}return w.FACTOR_ID="phone",w})();var la="@firebase/auth",wp="0.20.11";class Jm{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var y=this;return(0,s.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const y=this.auth.onIdTokenChanged(E=>{var P;m((null===(P=E)||void 0===P?void 0:P.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,y),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const y=this.internalListeners.get(m);!y||(this.internalListeners.delete(m),y(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,L.Pz)("authIdTokenMaxAge"),function sA(w){(0,U._registerComponent)(new De.wA("auth",(m,{options:y})=>{const E=m.getProvider("app").getImmediate(),P=m.getProvider("heartbeat"),{apiKey:H,authDomain:ue}=E.options;return((Be,vt)=>{de(H&&!H.includes(":"),"invalid-api-key",{appName:Be.name}),de(!ue?.includes(":"),"argument-error",{appName:Be.name});const Ft={apiKey:H,authDomain:ue,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vn(w)},yn=new zo(Be,vt,Ft);return function fe(w,m){const y=m?.persistence||[],E=(Array.isArray(y)?y:[y]).map(ce);m?.errorMap&&w._updateErrorMap(m.errorMap),w._initializeWithPersistence(E,m?.popupRedirectResolver)}(yn,y),yn})(E,P)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,y,E)=>{m.getProvider("auth-internal").initialize()})),(0,U._registerComponent)(new De.wA("auth-internal",m=>{const y=xt(m.getProvider("auth").getImmediate());return new Jm(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,U.registerVersion)(la,wp,function rA(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,U.registerVersion)(la,wp,"esm2017")}("Browser")},2090:(It,_e,j)=>{"use strict";j.d(_e,{$s:()=>mt,BH:()=>an,DV:()=>Ln,Dv:()=>ur,G6:()=>ke,GJ:()=>en,L:()=>ve,LL:()=>Dn,Pz:()=>An,Sg:()=>lt,UG:()=>Oe,UI:()=>Zn,US:()=>De,Wj:()=>Ut,Wl:()=>qi,Yr:()=>Ue,ZB:()=>ee,ZR:()=>Fn,aH:()=>Ct,b$:()=>be,cI:()=>Nt,dS:()=>Jt,eu:()=>de,g5:()=>U,gK:()=>gi,gQ:()=>zn,h$:()=>ae,hl:()=>st,hu:()=>L,jU:()=>rt,lb:()=>mi,m9:()=>_n,ne:()=>jn,p$:()=>ne,pd:()=>Ls,r3:()=>ei,ru:()=>Me,tV:()=>Se,uI:()=>Ve,ug:()=>gr,vZ:()=>nt,w1:()=>ut,w9:()=>Yr,xO:()=>dn,xb:()=>Wi,z$:()=>Je,zI:()=>Ae,zd:()=>Bi});const L=function(te,Q){if(!te)throw U(Q)},U=function(te){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+te)},pe=function(te){const Q=[];let ie=0;for(let $=0;$<te.length;$++){let V=te.charCodeAt($);V<128?Q[ie++]=V:V<2048?(Q[ie++]=V>>6|192,Q[ie++]=63&V|128):55296==(64512&V)&&$+1<te.length&&56320==(64512&te.charCodeAt($+1))?(V=65536+((1023&V)<<10)+(1023&te.charCodeAt(++$)),Q[ie++]=V>>18|240,Q[ie++]=V>>12&63|128,Q[ie++]=V>>6&63|128,Q[ie++]=63&V|128):(Q[ie++]=V>>12|224,Q[ie++]=V>>6&63|128,Q[ie++]=63&V|128)}return Q},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(te,Q){if(!Array.isArray(te))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ie=Q?this.byteToCharMapWebSafe_:this.byteToCharMap_,$=[];for(let V=0;V<te.length;V+=3){const W=te[V],he=V+1<te.length,Ge=he?te[V+1]:0,_t=V+2<te.length,yt=_t?te[V+2]:0;let Zt=(15&Ge)<<2|yt>>6,Bn=63&yt;_t||(Bn=64,he||(Zt=64)),$.push(ie[W>>2],ie[(3&W)<<4|Ge>>4],ie[Zt],ie[Bn])}return $.join("")},encodeString(te,Q){return this.HAS_NATIVE_SUPPORT&&!Q?btoa(te):this.encodeByteArray(pe(te),Q)},decodeString(te,Q){return this.HAS_NATIVE_SUPPORT&&!Q?atob(te):function(te){const Q=[];let ie=0,$=0;for(;ie<te.length;){const V=te[ie++];if(V<128)Q[$++]=String.fromCharCode(V);else if(V>191&&V<224){const W=te[ie++];Q[$++]=String.fromCharCode((31&V)<<6|63&W)}else if(V>239&&V<365){const _t=((7&V)<<18|(63&te[ie++])<<12|(63&te[ie++])<<6|63&te[ie++])-65536;Q[$++]=String.fromCharCode(55296+(_t>>10)),Q[$++]=String.fromCharCode(56320+(1023&_t))}else{const W=te[ie++],he=te[ie++];Q[$++]=String.fromCharCode((15&V)<<12|(63&W)<<6|63&he)}}return Q.join("")}(this.decodeStringToByteArray(te,Q))},decodeStringToByteArray(te,Q){this.init_();const ie=Q?this.charToByteMapWebSafe_:this.charToByteMap_,$=[];for(let V=0;V<te.length;){const W=ie[te.charAt(V++)],Ge=V<te.length?ie[te.charAt(V)]:0;++V;const yt=V<te.length?ie[te.charAt(V)]:64;++V;const Ke=V<te.length?ie[te.charAt(V)]:64;if(++V,null==W||null==Ge||null==yt||null==Ke)throw Error();$.push(W<<2|Ge>>4),64!==yt&&($.push(Ge<<4&240|yt>>2),64!==Ke&&$.push(yt<<6&192|Ke))}return $},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let te=0;te<this.ENCODED_VALS.length;te++)this.byteToCharMap_[te]=this.ENCODED_VALS.charAt(te),this.charToByteMap_[this.byteToCharMap_[te]]=te,this.byteToCharMapWebSafe_[te]=this.ENCODED_VALS_WEBSAFE.charAt(te),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[te]]=te,te>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(te)]=te,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(te)]=te)}}},ae=function(te){const Q=pe(te);return De.encodeByteArray(Q,!0)},ve=function(te){return ae(te).replace(/\./g,"")},Se=function(te){try{return De.decodeString(te,!0)}catch(Q){console.error("base64Decode failed: ",Q)}return null};function ne(te){return ee(void 0,te)}function ee(te,Q){if(!(Q instanceof Object))return Q;switch(Q.constructor){case Date:return new Date(Q.getTime());case Object:void 0===te&&(te={});break;case Array:te=[];break;default:return Q}for(const ie in Q)!Q.hasOwnProperty(ie)||!oe(ie)||(te[ie]=ee(te[ie],Q[ie]));return te}function oe(te){return"__proto__"!==te}function Je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ve(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function Oe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function rt(){return"object"==typeof self&&self.self===self}function Me(){const te="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof te&&void 0!==te.id}function be(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ut(){const te=Je();return te.indexOf("MSIE ")>=0||te.indexOf("Trident/")>=0}function Ue(){return!1}function ke(){return!Oe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function st(){return"object"==typeof indexedDB}function de(){return new Promise((te,Q)=>{try{let ie=!0;const $="validate-browser-context-for-indexeddb-analytics-module",V=self.indexedDB.open($);V.onsuccess=()=>{V.result.close(),ie||self.indexedDB.deleteDatabase($),te(!0)},V.onupgradeneeded=()=>{ie=!1},V.onerror=()=>{var W;Q((null===(W=V.error)||void 0===W?void 0:W.message)||"")}}catch(ie){Q(ie)}})}function Ae(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const fe=()=>{try{return function Ee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const te=process.env.__FIREBASE_DEFAULTS__;return te?JSON.parse(te):void 0})()||(()=>{if(typeof document>"u")return;let te;try{te=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Q=te&&Se(te[1]);return Q&&JSON.parse(Q)})()}catch(te){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${te}`)}},Ct=()=>{var te;return null===(te=fe())||void 0===te?void 0:te.config},An=te=>{var Q;return null===(Q=fe())||void 0===Q?void 0:Q[`_${te}`]};class an{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Q,ie)=>{this.resolve=Q,this.reject=ie})}wrapCallback(Q){return(ie,$)=>{ie?this.reject(ie):this.resolve($),"function"==typeof Q&&(this.promise.catch(()=>{}),1===Q.length?Q(ie):Q(ie,$))}}}function lt(te,Q){if(te.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const $=Q||"demo-project",V=te.iat||0,W=te.sub||te.user_id;if(!W)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const he=Object.assign({iss:`https://securetoken.google.com/${$}`,aud:$,iat:V,exp:V+3600,auth_time:V,sub:W,user_id:W,firebase:{sign_in_provider:"custom",identities:{}}},te);return[ve(JSON.stringify({alg:"none",type:"JWT"})),ve(JSON.stringify(he)),""].join(".")}class Fn extends Error{constructor(Q,ie,$){super(ie),this.code=Q,this.customData=$,this.name="FirebaseError",Object.setPrototypeOf(this,Fn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dn.prototype.create)}}class Dn{constructor(Q,ie,$){this.service=Q,this.serviceName=ie,this.errors=$}create(Q,...ie){const $=ie[0]||{},V=`${this.service}/${Q}`,W=this.errors[Q],he=W?function un(te,Q){return te.replace(Bt,(ie,$)=>{const V=Q[$];return null!=V?String(V):`<${$}?>`})}(W,$):"Error";return new Fn(V,`${this.serviceName}: ${he} (${V}).`,$)}}const Bt=/\{\$([^}]+)}/g;function Nt(te){return JSON.parse(te)}function qi(te){return JSON.stringify(te)}const pi=function(te){let Q={},ie={},$={},V="";try{const W=te.split(".");Q=Nt(Se(W[0])||""),ie=Nt(Se(W[1])||""),V=W[2],$=ie.d||{},delete ie.d}catch{}return{header:Q,claims:ie,data:$,signature:V}},Yr=function(te){const ie=pi(te).claims;return!!ie&&"object"==typeof ie&&ie.hasOwnProperty("iat")},en=function(te){const Q=pi(te).claims;return"object"==typeof Q&&!0===Q.admin};function ei(te,Q){return Object.prototype.hasOwnProperty.call(te,Q)}function Ln(te,Q){if(Object.prototype.hasOwnProperty.call(te,Q))return te[Q]}function Wi(te){for(const Q in te)if(Object.prototype.hasOwnProperty.call(te,Q))return!1;return!0}function Zn(te,Q,ie){const $={};for(const V in te)Object.prototype.hasOwnProperty.call(te,V)&&($[V]=Q.call(ie,te[V],V,te));return $}function nt(te,Q){if(te===Q)return!0;const ie=Object.keys(te),$=Object.keys(Q);for(const V of ie){if(!$.includes(V))return!1;const W=te[V],he=Q[V];if(bi(W)&&bi(he)){if(!nt(W,he))return!1}else if(W!==he)return!1}for(const V of $)if(!ie.includes(V))return!1;return!0}function bi(te){return null!==te&&"object"==typeof te}function dn(te){const Q=[];for(const[ie,$]of Object.entries(te))Array.isArray($)?$.forEach(V=>{Q.push(encodeURIComponent(ie)+"="+encodeURIComponent(V))}):Q.push(encodeURIComponent(ie)+"="+encodeURIComponent($));return Q.length?"&"+Q.join("&"):""}function Bi(te){const Q={};return te.replace(/^\?/,"").split("&").forEach($=>{if($){const[V,W]=$.split("=");Q[decodeURIComponent(V)]=decodeURIComponent(W)}}),Q}function Ls(te){const Q=te.indexOf("?");if(!Q)return"";const ie=te.indexOf("#",Q);return te.substring(Q,ie>0?ie:void 0)}class zn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Q=1;Q<this.blockSize;++Q)this.pad_[Q]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Q,ie){ie||(ie=0);const $=this.W_;if("string"==typeof Q)for(let Ke=0;Ke<16;Ke++)$[Ke]=Q.charCodeAt(ie)<<24|Q.charCodeAt(ie+1)<<16|Q.charCodeAt(ie+2)<<8|Q.charCodeAt(ie+3),ie+=4;else for(let Ke=0;Ke<16;Ke++)$[Ke]=Q[ie]<<24|Q[ie+1]<<16|Q[ie+2]<<8|Q[ie+3],ie+=4;for(let Ke=16;Ke<80;Ke++){const Zt=$[Ke-3]^$[Ke-8]^$[Ke-14]^$[Ke-16];$[Ke]=4294967295&(Zt<<1|Zt>>>31)}let yt,Ne,V=this.chain_[0],W=this.chain_[1],he=this.chain_[2],Ge=this.chain_[3],_t=this.chain_[4];for(let Ke=0;Ke<80;Ke++){Ke<40?Ke<20?(yt=Ge^W&(he^Ge),Ne=1518500249):(yt=W^he^Ge,Ne=1859775393):Ke<60?(yt=W&he|Ge&(W|he),Ne=2400959708):(yt=W^he^Ge,Ne=3395469782);const Zt=(V<<5|V>>>27)+yt+_t+Ne+$[Ke]&4294967295;_t=Ge,Ge=he,he=4294967295&(W<<30|W>>>2),W=V,V=Zt}this.chain_[0]=this.chain_[0]+V&4294967295,this.chain_[1]=this.chain_[1]+W&4294967295,this.chain_[2]=this.chain_[2]+he&4294967295,this.chain_[3]=this.chain_[3]+Ge&4294967295,this.chain_[4]=this.chain_[4]+_t&4294967295}update(Q,ie){if(null==Q)return;void 0===ie&&(ie=Q.length);const $=ie-this.blockSize;let V=0;const W=this.buf_;let he=this.inbuf_;for(;V<ie;){if(0===he)for(;V<=$;)this.compress_(Q,V),V+=this.blockSize;if("string"==typeof Q){for(;V<ie;)if(W[he]=Q.charCodeAt(V),++he,++V,he===this.blockSize){this.compress_(W),he=0;break}}else for(;V<ie;)if(W[he]=Q[V],++he,++V,he===this.blockSize){this.compress_(W),he=0;break}}this.inbuf_=he,this.total_+=ie}digest(){const Q=[];let ie=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let V=this.blockSize-1;V>=56;V--)this.buf_[V]=255&ie,ie/=256;this.compress_(this.buf_);let $=0;for(let V=0;V<5;V++)for(let W=24;W>=0;W-=8)Q[$]=this.chain_[V]>>W&255,++$;return Q}}function jn(te,Q){const ie=new Gn(te,Q);return ie.subscribe.bind(ie)}class Gn{constructor(Q,ie){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ie,this.task.then(()=>{Q(this)}).catch($=>{this.error($)})}next(Q){this.forEachObserver(ie=>{ie.next(Q)})}error(Q){this.forEachObserver(ie=>{ie.error(Q)}),this.close(Q)}complete(){this.forEachObserver(Q=>{Q.complete()}),this.close()}subscribe(Q,ie,$){let V;if(void 0===Q&&void 0===ie&&void 0===$)throw new Error("Missing Observer.");V=function Xe(te,Q){if("object"!=typeof te||null===te)return!1;for(const ie of Q)if(ie in te&&"function"==typeof te[ie])return!0;return!1}(Q,["next","error","complete"])?Q:{next:Q,error:ie,complete:$},void 0===V.next&&(V.next=qt),void 0===V.error&&(V.error=qt),void 0===V.complete&&(V.complete=qt);const W=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?V.error(this.finalError):V.complete()}catch{}}),this.observers.push(V),W}unsubscribeOne(Q){void 0===this.observers||void 0===this.observers[Q]||(delete this.observers[Q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Q){if(!this.finalized)for(let ie=0;ie<this.observers.length;ie++)this.sendOne(ie,Q)}sendOne(Q,ie){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Q])try{ie(this.observers[Q])}catch($){typeof console<"u"&&console.error&&console.error($)}})}close(Q){this.finalized||(this.finalized=!0,void 0!==Q&&(this.finalError=Q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qt(){}const ur=function(te,Q,ie,$){let V;if($<Q?V="at least "+Q:$>ie&&(V=0===ie?"none":"no more than "+ie),V)throw new Error(te+" failed: Was called with "+$+(1===$?" argument.":" arguments.")+" Expects "+V+".")};function gi(te,Q){return`${te} failed: ${Q} argument `}function Ut(te,Q,ie,$){if((!$||ie)&&"function"!=typeof ie)throw new Error(gi(te,Q)+"must be a valid function.")}function mi(te,Q,ie,$){if((!$||ie)&&("object"!=typeof ie||null===ie))throw new Error(gi(te,Q)+"must be a valid context object.")}const Jt=function(te){const Q=[];let ie=0;for(let $=0;$<te.length;$++){let V=te.charCodeAt($);if(V>=55296&&V<=56319){const W=V-55296;$++,L($<te.length,"Surrogate pair missing trail surrogate."),V=65536+(W<<10)+(te.charCodeAt($)-56320)}V<128?Q[ie++]=V:V<2048?(Q[ie++]=V>>6|192,Q[ie++]=63&V|128):V<65536?(Q[ie++]=V>>12|224,Q[ie++]=V>>6&63|128,Q[ie++]=63&V|128):(Q[ie++]=V>>18|240,Q[ie++]=V>>12&63|128,Q[ie++]=V>>6&63|128,Q[ie++]=63&V|128)}return Q},gr=function(te){let Q=0;for(let ie=0;ie<te.length;ie++){const $=te.charCodeAt(ie);$<128?Q++:$<2048?Q+=2:$>=55296&&$<=56319?(Q+=4,ie++):Q+=3}return Q};function mt(te,Q=1e3,ie=2){const $=Q*Math.pow(ie,te),V=Math.round(.5*$*(Math.random()-.5)*2);return Math.min(144e5,$+V)}function _n(te){return te&&te._delegate?te._delegate:te}},3243:(It,_e,j)=>{"use strict";var s=j(4650);let L=null;function U(){return L}const ae=new s.OlP("DocumentToken");let ve=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Se(){return(0,s.LFG)(ee)}()},providedIn:"platform"}),n})();const ne=new s.OlP("Location Initialized");let ee=(()=>{class n extends ve{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(e){const i=U().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=U().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){oe()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){oe()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Je(){return new ee((0,s.LFG)(ae))}()},providedIn:"platform"}),n})();function oe(){return!!window.history.pushState}function Ve(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Oe(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function rt(n){return n&&"?"!==n[0]?"?"+n:n}let Me=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(Ze)},providedIn:"root"}),n})();const be=new s.OlP("appBaseHref");let Ze=(()=>{class n extends Me{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ve(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+rt(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const c=this.prepareExternalUrl(r+rt(o));this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,o){const c=this.prepareExternalUrl(r+rt(o));this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ve),s.LFG(be,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ut=(()=>{class n extends Me{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Ve(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let c=this.prepareExternalUrl(r+rt(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,o){let c=this.prepareExternalUrl(r+rt(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ve),s.LFG(be,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),je=(()=>{class n{constructor(e){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=Oe(st(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+rt(i))}normalize(e){return n.stripTrailingSlash(function ke(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,st(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+rt(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+rt(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=rt,n.joinWithSlash=Ve,n.stripTrailingSlash=Oe,n.\u0275fac=function(e){return new(e||n)(s.LFG(Me))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Ue(){return new je((0,s.LFG)(Me))}()},providedIn:"root"}),n})();function st(n){return n.replace(/\/index.html$/,"")}var re=(()=>((re=re||{})[re.Format=0]="Format",re[re.Standalone=1]="Standalone",re))(),ce=(()=>((ce=ce||{})[ce.Narrow=0]="Narrow",ce[ce.Abbreviated=1]="Abbreviated",ce[ce.Wide=2]="Wide",ce[ce.Short=3]="Short",ce))(),we=(()=>((we=we||{})[we.Short=0]="Short",we[we.Medium=1]="Medium",we[we.Long=2]="Long",we[we.Full=3]="Full",we))(),fe=(()=>((fe=fe||{})[fe.Decimal=0]="Decimal",fe[fe.Group=1]="Group",fe[fe.List=2]="List",fe[fe.PercentSign=3]="PercentSign",fe[fe.PlusSign=4]="PlusSign",fe[fe.MinusSign=5]="MinusSign",fe[fe.Exponential=6]="Exponential",fe[fe.SuperscriptingExponent=7]="SuperscriptingExponent",fe[fe.PerMille=8]="PerMille",fe[fe.Infinity=9]="Infinity",fe[fe.NaN=10]="NaN",fe[fe.TimeSeparator=11]="TimeSeparator",fe[fe.CurrencyDecimal=12]="CurrencyDecimal",fe[fe.CurrencyGroup=13]="CurrencyGroup",fe))();function Dn(n,t){return nt((0,s.cg1)(n)[s.wAp.DateFormat],t)}function un(n,t){return nt((0,s.cg1)(n)[s.wAp.TimeFormat],t)}function Bt(n,t){return nt((0,s.cg1)(n)[s.wAp.DateTimeFormat],t)}function Nt(n,t){const e=(0,s.cg1)(n),i=e[s.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===fe.CurrencyDecimal)return e[s.wAp.NumberSymbols][fe.Decimal];if(t===fe.CurrencyGroup)return e[s.wAp.NumberSymbols][fe.Group]}return i}function ei(n){if(!n[s.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[s.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function nt(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function bi(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const Ls=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,zn={},jn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Gn=(()=>((Gn=Gn||{})[Gn.Short=0]="Short",Gn[Gn.ShortGMT=1]="ShortGMT",Gn[Gn.Long=2]="Long",Gn[Gn.Extended=3]="Extended",Gn))(),St=(()=>((St=St||{})[St.FullYear=0]="FullYear",St[St.Month=1]="Month",St[St.Date=2]="Date",St[St.Hours=3]="Hours",St[St.Minutes=4]="Minutes",St[St.Seconds=5]="Seconds",St[St.FractionalSeconds=6]="FractionalSeconds",St[St.Day=7]="Day",St))(),Xe=(()=>((Xe=Xe||{})[Xe.DayPeriods=0]="DayPeriods",Xe[Xe.Days=1]="Days",Xe[Xe.Months=2]="Months",Xe[Xe.Eras=3]="Eras",Xe))();function qt(n,t,e,i){let r=function W(n){if(Ge(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,c=1]=n.split("-").map(d=>+d);return ur(r,o-1,c)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(Ls))return function he(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-e,d=Number(n[5]||0)-i,p=Number(n[6]||0),_=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,c,d,p,_),t}(i)}const t=new Date(n);if(!Ge(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=gi(e,t)||t;let d,c=[];for(;t;){if(d=jn.exec(t),!d){c.push(t);break}{c=c.concat(d.slice(1));const b=c.pop();if(!b)break;t=b}}let p=r.getTimezoneOffset();i&&(p=ie(i,p),r=function V(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function $(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(ie(t,r)-r))}(r,i,!0));let _="";return c.forEach(b=>{const I=function Q(n){if(te[n])return te[n];let t;switch(n){case"G":case"GG":case"GGG":t=gn(Xe.Eras,ce.Abbreviated);break;case"GGGG":t=gn(Xe.Eras,ce.Wide);break;case"GGGGG":t=gn(Xe.Eras,ce.Narrow);break;case"y":t=Jt(St.FullYear,1,0,!1,!0);break;case"yy":t=Jt(St.FullYear,2,0,!0,!0);break;case"yyy":t=Jt(St.FullYear,3,0,!1,!0);break;case"yyyy":t=Jt(St.FullYear,4,0,!1,!0);break;case"Y":t=_n(1);break;case"YY":t=_n(2,!0);break;case"YYY":t=_n(3);break;case"YYYY":t=_n(4);break;case"M":case"L":t=Jt(St.Month,1,1);break;case"MM":case"LL":t=Jt(St.Month,2,1);break;case"MMM":t=gn(Xe.Months,ce.Abbreviated);break;case"MMMM":t=gn(Xe.Months,ce.Wide);break;case"MMMMM":t=gn(Xe.Months,ce.Narrow);break;case"LLL":t=gn(Xe.Months,ce.Abbreviated,re.Standalone);break;case"LLLL":t=gn(Xe.Months,ce.Wide,re.Standalone);break;case"LLLLL":t=gn(Xe.Months,ce.Narrow,re.Standalone);break;case"w":t=Rt(1);break;case"ww":t=Rt(2);break;case"W":t=Rt(1,!0);break;case"d":t=Jt(St.Date,1);break;case"dd":t=Jt(St.Date,2);break;case"c":case"cc":t=Jt(St.Day,1);break;case"ccc":t=gn(Xe.Days,ce.Abbreviated,re.Standalone);break;case"cccc":t=gn(Xe.Days,ce.Wide,re.Standalone);break;case"ccccc":t=gn(Xe.Days,ce.Narrow,re.Standalone);break;case"cccccc":t=gn(Xe.Days,ce.Short,re.Standalone);break;case"E":case"EE":case"EEE":t=gn(Xe.Days,ce.Abbreviated);break;case"EEEE":t=gn(Xe.Days,ce.Wide);break;case"EEEEE":t=gn(Xe.Days,ce.Narrow);break;case"EEEEEE":t=gn(Xe.Days,ce.Short);break;case"a":case"aa":case"aaa":t=gn(Xe.DayPeriods,ce.Abbreviated);break;case"aaaa":t=gn(Xe.DayPeriods,ce.Wide);break;case"aaaaa":t=gn(Xe.DayPeriods,ce.Narrow);break;case"b":case"bb":case"bbb":t=gn(Xe.DayPeriods,ce.Abbreviated,re.Standalone,!0);break;case"bbbb":t=gn(Xe.DayPeriods,ce.Wide,re.Standalone,!0);break;case"bbbbb":t=gn(Xe.DayPeriods,ce.Narrow,re.Standalone,!0);break;case"B":case"BB":case"BBB":t=gn(Xe.DayPeriods,ce.Abbreviated,re.Format,!0);break;case"BBBB":t=gn(Xe.DayPeriods,ce.Wide,re.Format,!0);break;case"BBBBB":t=gn(Xe.DayPeriods,ce.Narrow,re.Format,!0);break;case"h":t=Jt(St.Hours,1,-12);break;case"hh":t=Jt(St.Hours,2,-12);break;case"H":t=Jt(St.Hours,1);break;case"HH":t=Jt(St.Hours,2);break;case"m":t=Jt(St.Minutes,1);break;case"mm":t=Jt(St.Minutes,2);break;case"s":t=Jt(St.Seconds,1);break;case"ss":t=Jt(St.Seconds,2);break;case"S":t=Jt(St.FractionalSeconds,1);break;case"SS":t=Jt(St.FractionalSeconds,2);break;case"SSS":t=Jt(St.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Qn(Gn.Short);break;case"ZZZZZ":t=Qn(Gn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Qn(Gn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Qn(Gn.Long);break;default:return null}return te[n]=t,t}(b);_+=I?I(r,e,p):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),_}function ur(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function gi(n,t){const e=function Qe(n){return(0,s.cg1)(n)[s.wAp.LocaleId]}(n);if(zn[e]=zn[e]||{},zn[e][t])return zn[e][t];let i="";switch(t){case"shortDate":i=Dn(n,we.Short);break;case"mediumDate":i=Dn(n,we.Medium);break;case"longDate":i=Dn(n,we.Long);break;case"fullDate":i=Dn(n,we.Full);break;case"shortTime":i=un(n,we.Short);break;case"mediumTime":i=un(n,we.Medium);break;case"longTime":i=un(n,we.Long);break;case"fullTime":i=un(n,we.Full);break;case"short":const r=gi(n,"shortTime"),o=gi(n,"shortDate");i=er(Bt(n,we.Short),[r,o]);break;case"medium":const c=gi(n,"mediumTime"),d=gi(n,"mediumDate");i=er(Bt(n,we.Medium),[c,d]);break;case"long":const p=gi(n,"longTime"),_=gi(n,"longDate");i=er(Bt(n,we.Long),[p,_]);break;case"full":const b=gi(n,"fullTime"),I=gi(n,"fullDate");i=er(Bt(n,we.Full),[b,I])}return i&&(zn[e][t]=i),i}function er(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Ut(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let c=String(n);for(;c.length<t;)c="0"+c;return i&&(c=c.slice(c.length-t)),o+c}function Jt(n,t,e=0,i=!1,r=!1){return function(o,c){let d=function gr(n,t){switch(n){case St.FullYear:return t.getFullYear();case St.Month:return t.getMonth();case St.Date:return t.getDate();case St.Hours:return t.getHours();case St.Minutes:return t.getMinutes();case St.Seconds:return t.getSeconds();case St.FractionalSeconds:return t.getMilliseconds();case St.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||d>-e)&&(d+=e),n===St.Hours)0===d&&-12===e&&(d=12);else if(n===St.FractionalSeconds)return function mi(n,t){return Ut(n,3).substring(0,t)}(d,t);const p=Nt(c,fe.MinusSign);return Ut(d,t,p,i,r)}}function gn(n,t,e=re.Format,i=!1){return function(r,o){return function Ni(n,t,e,i,r,o){switch(e){case Xe.Months:return function an(n,t,e){const i=(0,s.cg1)(n),o=nt([i[s.wAp.MonthsFormat],i[s.wAp.MonthsStandalone]],t);return nt(o,e)}(t,r,i)[n.getMonth()];case Xe.Days:return function An(n,t,e){const i=(0,s.cg1)(n),o=nt([i[s.wAp.DaysFormat],i[s.wAp.DaysStandalone]],t);return nt(o,e)}(t,r,i)[n.getDay()];case Xe.DayPeriods:const c=n.getHours(),d=n.getMinutes();if(o){const _=function Ln(n){const t=(0,s.cg1)(n);return ei(t),(t[s.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?bi(i):[bi(i[0]),bi(i[1])])}(t),b=function Wi(n,t,e){const i=(0,s.cg1)(n);ei(i);const o=nt([i[s.wAp.ExtraData][0],i[s.wAp.ExtraData][1]],t)||[];return nt(o,e)||[]}(t,r,i),I=_.findIndex(O=>{if(Array.isArray(O)){const[B,z]=O,X=c>=B.hours&&d>=B.minutes,se=c<z.hours||c===z.hours&&d<z.minutes;if(B.hours<z.hours){if(X&&se)return!0}else if(X||se)return!0}else if(O.hours===c&&O.minutes===d)return!0;return!1});if(-1!==I)return b[I]}return function Ct(n,t,e){const i=(0,s.cg1)(n),o=nt([i[s.wAp.DayPeriodsFormat],i[s.wAp.DayPeriodsStandalone]],t);return nt(o,e)}(t,r,i)[c<12?0:1];case Xe.Eras:return function lt(n,t){return nt((0,s.cg1)(n)[s.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,n,t,e,i)}}function Qn(n){return function(t,e,i){const r=-1*i,o=Nt(e,fe.MinusSign),c=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Gn.Short:return(r>=0?"+":"")+Ut(c,2,o)+Ut(Math.abs(r%60),2,o);case Gn.ShortGMT:return"GMT"+(r>=0?"+":"")+Ut(c,1,o);case Gn.Long:return"GMT"+(r>=0?"+":"")+Ut(c,2,o)+":"+Ut(Math.abs(r%60),2,o);case Gn.Extended:return 0===i?"Z":(r>=0?"+":"")+Ut(c,2,o)+":"+Ut(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function Tt(n){return ur(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Rt(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,c=e.getDate();r=1+Math.floor((c+o)/7)}else{const o=Tt(e),c=function mt(n){const t=ur(n,0,1).getDay();return ur(n,0,1+(t<=4?4:11)-t)}(o.getFullYear()),d=o.getTime()-c.getTime();r=1+Math.round(d/6048e5)}return Ut(r,n,Nt(i,fe.MinusSign))}}function _n(n,t=!1){return function(e,i){return Ut(Tt(e).getFullYear(),n,Nt(i,fe.MinusSign),t)}}const te={};function ie(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Ge(n){return n instanceof Date&&!isNaN(n.valueOf())}function vl(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}let hn=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class lo{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Nn=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new lo(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===o?void 0:o);else if(null!==o){const d=i.get(o);i.move(d,c),Us(d,r)}});for(let r=0,o=i.length;r<o;r++){const d=i.get(r).context;d.index=r,d.count=o,d.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Us(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Us(n,t){n.context.$implicit=t.item}let bn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new od,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Di("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Di("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class od{constructor(){this.$implicit=null,this.ngIf=null}}function Di(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}class Pr{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let ss=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Nr=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Pr(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(ss,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),co=(()=>{class n{constructor(e,i,r){r._addDefault(new Pr(e,i))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(ss,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),uo=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,o]=e.split("."),c=-1===r.indexOf("-")?void 0:s.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,c):this._renderer.removeStyle(this._ngEl.nativeElement,r,c)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.aQg),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),jo=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:c}=this;this._viewRef=i.createEmbeddedView(r,o,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[s.TTD]}),n})();const ph=new s.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let lc=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,o){if(null==e||""===e||e!=e)return null;try{return qt(e,i,o||this.locale,r??this.defaultTimezone??void 0)}catch(c){throw function Fr(n,t){return new s.vHH(2100,!1)}()}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.soG,16),s.Y36(ph,24))},n.\u0275pipe=s.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Hs=(()=>{class n{transform(e){return JSON.stringify(e,null,2)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=s.Yjl({name:"json",type:n,pure:!1,standalone:!0}),n})(),Mi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const vr="browser";function tr(n){return n===vr}function Yo(n){return"server"===n}let uu=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new cd((0,s.LFG)(ae),window)}),n})();class cd{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Vi(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const c=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Lr(this.window.history)||Lr(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Lr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class mo{}class Ws extends class Cl extends class De{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ye(n){L||(L=n)}(new Ws)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function mu(){return Ys=Ys||document.querySelector("base"),Ys?Ys.getAttribute("href"):null}();return null==e?null:function ls(n){ni=ni||document.createElement("a"),ni.setAttribute("href",n);const t=ni.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Ys=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return vl(document.cookie,t)}}let ni,Ys=null;const ii=new s.OlP("TRANSITION_ID"),yc=[{provide:s.ip1,useFactory:function _c(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=U(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[ii,ae,s.zs3],multi:!0}];let vc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Ac=new s.OlP("EventManagerPlugins");let bc=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const c=r[o];if(c.supports(e))return this._eventNameToPlugin.set(e,c),c}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ac),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class El{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=U().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let ra=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Vr=(()=>{class n extends ra{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const c=this._doc.createElement("style");c.textContent=o,r.push(i.appendChild(c))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(wc),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(wc))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function wc(n){U().remove(n)}const sa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Cc=/%COMP%/g;function Il(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Il(n,r,e):(r=r.replace(Cc,n),e.push(r))}return e}function br(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Na=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Ss(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new yu(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case s.ifc.ShadowDom:return new fd(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Il(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(bc),s.LFG(Vr),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Ss{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(sa[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(La(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(La(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=sa[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=sa[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,br(i)):this.eventManager.addEventListener(t,e,br(i))}}function La(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class yu extends Ss{constructor(t,e,i,r){super(t),this.component=i;const o=Il(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function _i(n){return"_ngcontent-%COMP%".replace(Cc,n)}(r+"-"+i.id),this.hostAttr=function Dl(n){return"_nghost-%COMP%".replace(Cc,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class fd extends Ss{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Il(r.id,r.styles,[]);for(let c=0;c<o.length;c++){const d=document.createElement("style");d.textContent=o[c],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ui=(()=>{class n extends El{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const D=["alt","control","meta","shift"],S={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},R={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let K=(()=>{class n extends El{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),c=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>U().onAndCancel(e,o.domEventName,c))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let c="",d=i.indexOf("code");if(d>-1&&(i.splice(d,1),c="code."),D.forEach(_=>{const b=i.indexOf(_);b>-1&&(i.splice(b,1),c+=_+".")}),c+=o,0!=i.length||0===o.length)return null;const p={};return p.domEventName=r,p.fullKey=c,p}static matchEventFullKeyCode(e,i){let r=S[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),D.forEach(c=>{c!==r&&(0,R[c])(e)&&(o+=c+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Sc=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:vr},{provide:s.g9A,useValue:function yo(){Ws.makeCurrent()},multi:!0},{provide:ae,useFactory:function pd(){return(0,s.RDi)(document),document},deps:[]}]),Ba=new s.OlP(""),Tc=[{provide:s.rWj,useClass:class _u{addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,c=!1;const d=function(p){c=c||p,o--,0==o&&i(c)};r.forEach(function(p){p.whenStable(d)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?U().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],Sl=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function Qr(){return new s.qLn},deps:[]},{provide:Ac,useClass:ui,multi:!0,deps:[ae,s.R0b,s.Lbi]},{provide:Ac,useClass:K,multi:!0,deps:[ae]},{provide:Na,useClass:Na,deps:[bc,Vr,s.AFp]},{provide:s.FYo,useExisting:Na},{provide:ra,useExisting:Vr},{provide:Vr,useClass:Vr,deps:[ae]},{provide:bc,useClass:bc,deps:[Ac,s.R0b]},{provide:mo,useClass:vc,deps:[]},[]];let Va=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:ii,useExisting:s.AFp},yc]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ba,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[...Sl,...Tc],imports:[Mi,s.hGG]}),n})(),Ts=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function xc(){return new Ts((0,s.LFG)(ae))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let vo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):s.LFG(Wm),i},providedIn:"root"}),n})(),Wm=(()=>{class n extends vo{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case s.q3G.NONE:return i;case s.q3G.HTML:return(0,s.qzn)(i,"HTML")?(0,s.z3N)(i):(0,s.EiD)(this._doc,String(i)).toString();case s.q3G.STYLE:return(0,s.qzn)(i,"Style")?(0,s.z3N)(i):i;case s.q3G.SCRIPT:if((0,s.qzn)(i,"Script"))return(0,s.z3N)(i);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.qzn)(i,"URL")?(0,s.z3N)(i):(0,s.mCW)(String(i));case s.q3G.RESOURCE_URL:if((0,s.qzn)(i,"ResourceURL"))return(0,s.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,s.JVY)(e)}bypassSecurityTrustStyle(e){return(0,s.L6k)(e)}bypassSecurityTrustScript(e){return(0,s.eBb)(e)}bypassSecurityTrustUrl(e){return(0,s.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function tA(n){return new Wm(n.get(ae))}(s.LFG(s.zs3)),i},providedIn:"root"}),n})();var Tn=j(8996),Ks=j(3269);function dt(...n){const t=(0,Ks.yG)(n);return(0,Tn.D)(n,t)}var jt=j(7579);class tn extends jt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const Ha=(0,j(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var si=j(9751);const{isArray:za}=Array,{getPrototypeOf:yh,prototype:vh,keys:fp}=Object;function ja(n){if(1===n.length){const t=n[0];if(za(t))return{args:t,keys:null};if(function _d(n){return n&&"object"==typeof n&&yh(n)===vh}(t)){const e=fp(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Ga=j(4671),ot=j(4004);const{isArray:Mc}=Array;function kc(n){return(0,ot.U)(t=>function Qs(n,t){return Mc(t)?n(...t):n(t)}(n,t))}function Oc(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var oi=j(5403),Rc=j(9672);function xs(...n){const t=(0,Ks.yG)(n),e=(0,Ks.jO)(n),{args:i,keys:r}=ja(n);if(0===i.length)return(0,Tn.D)([],t);const o=new si.y(function Ah(n,t,e=Ga.y){return i=>{pp(t,()=>{const{length:r}=n,o=new Array(r);let c=r,d=r;for(let p=0;p<r;p++)pp(t,()=>{const _=(0,Tn.D)(n[p],t);let b=!1;_.subscribe((0,oi.x)(i,I=>{o[p]=I,b||(b=!0,d--),d||i.next(e(o.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,t,r?c=>Oc(r,c):Ga.y));return e?o.pipe(kc(e)):o}function pp(n,t,e){n?(0,Rc.f)(e,n,t):t()}var Fl=j(8189);function qa(...n){return function Pc(){return(0,Fl.J)(1)}()((0,Tn.D)(n,(0,Ks.yG)(n)))}var hr=j(8421);function bo(n){return new si.y(t=>{(0,hr.Xf)(n()).subscribe(t)})}var yd=j(9635),ir=j(576);function Hr(n,t){const e=(0,ir.m)(n)?n:()=>n,i=r=>r.error(e());return new si.y(t?r=>t.schedule(i,0,r):i)}var wo=j(515),di=j(727),Si=j(4482);function Za(){return(0,Si.e)((n,t)=>{let e=null;n._refCount++;const i=(0,oi.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class Js extends si.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Si.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new di.w0;const e=this.getSubject();t.add(this.source.subscribe((0,oi.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=di.w0.EMPTY)}return t}refCount(){return Za()(this)}}function Ti(n,t){return(0,Si.e)((e,i)=>{let r=null,o=0,c=!1;const d=()=>c&&!r&&i.complete();e.subscribe((0,oi.x)(i,p=>{r?.unsubscribe();let _=0;const b=o++;(0,hr.Xf)(n(p,b)).subscribe(r=(0,oi.x)(i,I=>i.next(t?t(p,I,b,_++):I),()=>{r=null,d()}))},()=>{c=!0,d()}))})}function nn(n){return n<=0?()=>wo.E:(0,Si.e)((t,e)=>{let i=0;t.subscribe((0,oi.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Cr(...n){const t=(0,Ks.yG)(n);return(0,Si.e)((e,i)=>{(t?qa(n,e,t):qa(n,e)).subscribe(i)})}function x(n,t){return(0,Si.e)((e,i)=>{let r=0;e.subscribe((0,oi.x)(i,o=>n.call(t,o,r++)&&i.next(o)))})}var M=j(5577);function N(n){return(0,Si.e)((t,e)=>{let i=!1;t.subscribe((0,oi.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Y(n=le){return(0,Si.e)((t,e)=>{let i=!1;t.subscribe((0,oi.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function le(){return new Ha}function me(n,t){const e=arguments.length>=2;return i=>i.pipe(n?x((r,o)=>n(r,o,i)):Ga.y,nn(1),e?N(t):Y(()=>new Ha))}function Le(n,t){return(0,ir.m)(t)?(0,M.z)(n,t,1):(0,M.z)(n,1)}var $e=j(8505);function wt(n){return(0,Si.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe((0,oi.x)(e,void 0,void 0,c=>{o=(0,hr.Xf)(n(c,wt(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function Yt(n,t,e,i,r){return(o,c)=>{let d=e,p=t,_=0;o.subscribe((0,oi.x)(c,b=>{const I=_++;p=d?n(p,b,I):(d=!0,b),i&&c.next(p)},r&&(()=>{d&&c.next(p),c.complete()})))}}function Xt(n,t){return(0,Si.e)(Yt(n,t,arguments.length>=2,!0))}function kt(n){return n<=0?()=>wo.E:(0,Si.e)((t,e)=>{let i=[];t.subscribe((0,oi.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Oi(n,t){const e=arguments.length>=2;return i=>i.pipe(n?x((r,o)=>n(r,o,i)):Ga.y,kt(1),e?N(t):Y(()=>new Ha))}function Co(n){return(0,Si.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const rn="primary",Ms=Symbol("RouteTitle");class Eo{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Xs(n){return new Eo(n)}function Bl(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const c=i[o],d=n[o];if(c.startsWith(":"))r[c.substring(1)]=d;else if(c!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Jr(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!nA(n[r],t[r]))return!1;return!0}function nA(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function Ym(n){return Array.prototype.concat.apply([],n)}function gp(n){return n.length>0?n[n.length-1]:null}function Ri(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Ya(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,Tn.D)(Promise.resolve(n)):dt(n)}const cE={exact:function Km(n,t,e){if(!Ka(n.segments,t.segments)||!$a(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Km(n.children[i],t.children[i],e))return!1;return!0},subset:vd},_p={exact:function yp(n,t){return Jr(n,t)},subset:function bh(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>nA(n[e],t[e]))},ignored:()=>!0};function iA(n,t,e){return cE[e.paths](n.root,t.root,e.matrixParams)&&_p[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function vd(n,t,e){return wh(n,t,t.segments,e)}function wh(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Ka(r,e)||t.hasChildren()||!$a(r,e,i))}if(n.segments.length===e.length){if(!Ka(n.segments,e)||!$a(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!vd(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Ka(n.segments,r)&&$a(n.segments,r,i)&&n.children[rn])&&wh(n.children[rn],t,o,i)}}function $a(n,t,e){return t.every((i,r)=>_p[e](n[r].parameters,i.parameters))}class Nc{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xs(this.queryParams)),this._queryParamMap}toString(){return Fc.serialize(this)}}class wn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ri(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Eu(this)}}class Ad{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Xs(this.parameters)),this._parameterMap}toString(){return Jm(this)}}function Ka(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let vp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return new Cu},providedIn:"root"}),n})();class Cu{parse(t){const e=new m(t);return new Nc(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${bd(t.root,!0)}`,i=function sA(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Eh(e)}=${Eh(r)}`).join("&"):`${Eh(e)}=${Eh(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function bp(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Fc=new Cu;function Eu(n){return n.segments.map(t=>Jm(t)).join("/")}function bd(n,t){if(!n.hasChildren())return Eu(n);if(t){const e=n.children[rn]?bd(n.children[rn],!1):"",i=[];return Ri(n.children,(r,o)=>{o!==rn&&i.push(`${o}:${bd(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Qm(n,t){let e=[];return Ri(n.children,(i,r)=>{r===rn&&(e=e.concat(t(i,r)))}),Ri(n.children,(i,r)=>{r!==rn&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===rn?[bd(n.children[rn],!1)]:[`${r}:${bd(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[rn]?`${Eu(n)}/${e[0]}`:`${Eu(n)}/(${e.join("//")})`}}function Ap(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Eh(n){return Ap(n).replace(/%3B/gi,";")}function Do(n){return Ap(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function la(n){return decodeURIComponent(n)}function wp(n){return la(n.replace(/\+/g,"%20"))}function Jm(n){return`${Do(n.path)}${function rA(n){return Object.keys(n).map(t=>`;${Do(t)}=${Do(n[t])}`).join("")}(n.parameters)}`}const oA=/^[^\/()?;=#]+/;function Dh(n){const t=n.match(oA);return t?t[0]:""}const Cp=/^[^=?&#]+/,uE=/^[^&#]+/;class m{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new wn([],{}):new wn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[rn]=new wn(t,e)),i}parseSegment(){const t=Dh(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new s.vHH(4009,!1);return this.capture(t),new Ad(la(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Dh(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Dh(this.remaining);r&&(i=r,this.capture(i))}t[la(e)]=la(i)}parseQueryParam(t){const e=function aA(n){const t=n.match(Cp);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const c=function w(n){const t=n.match(uE);return t?t[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=wp(e),o=wp(i);if(t.hasOwnProperty(r)){let c=t[r];Array.isArray(c)||(c=[c],t[r]=c),c.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Dh(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new s.vHH(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=rn);const c=this.parseChildren();e[o]=1===Object.keys(c).length?c[rn]:new wn([],c),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new s.vHH(4011,!1)}}function y(n){return n.segments.length>0?new wn([],{[rn]:n}):n}function E(n){const t={};for(const i of Object.keys(n.children)){const o=E(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function P(n){if(1===n.numberOfChildren&&n.children[rn]){const t=n.children[rn];return new wn(n.segments.concat(t.segments),t.children)}return n}(new wn(n.segments,t))}function H(n){return n instanceof Nc}function yn(n,t,e,i,r){if(0===e.length)return eo(t.root,t.root,t.root,i,r);const o=function Th(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Sh(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,c)=>{if("object"==typeof o&&null!=o){if(o.outlets){const d={};return Ri(o.outlets,(p,_)=>{d[_]="string"==typeof p?p.split("/"):p}),[...r,{outlets:d}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===c?(o.split("/").forEach((d,p)=>{0==p&&"."===d||(0==p&&""===d?e=!0:".."===d?t++:""!=d&&r.push(d))}),r):[...r,o]},[]);return new Sh(e,t,i)}(e);return o.toRoot()?eo(t.root,t.root,new wn([],{}),i,r):function c(p){const _=function Ep(n,t,e,i){if(n.isAbsolute)return new Lc(t.root,!0,0);if(-1===i)return new Lc(e,e===t.root,0);return function xh(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new s.vHH(4005,!1);r=i.segments.length}return new Lc(i,!1,r-o)}(e,i+(Wn(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,p),b=_.processChildren?Vl(_.segmentGroup,_.index,o.commands):Du(_.segmentGroup,_.index,o.commands);return eo(t.root,_.segmentGroup,b,i,r)}(n.snapshot?._lastPathIndex)}function Wn(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function zr(n){return"object"==typeof n&&null!=n&&n.outlets}function eo(n,t,e,i,r){let c,o={};i&&Ri(i,(p,_)=>{o[_]=Array.isArray(p)?p.map(b=>`${b}`):`${p}`}),c=n===t?e:Ih(n,t,e);const d=y(E(c));return new Nc(d,o,r)}function Ih(n,t,e){const i={};return Ri(n.children,(r,o)=>{i[o]=r===t?e:Ih(r,t,e)}),new wn(n.segments,i)}class Sh{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Wn(i[0]))throw new s.vHH(4003,!1);const r=i.find(zr);if(r&&r!==gp(i))throw new s.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Lc{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Du(n,t,e){if(n||(n=new wn([],{})),0===n.segments.length&&n.hasChildren())return Vl(n,t,e);const i=function lA(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const c=n.segments[r],d=e[i];if(zr(d))break;const p=`${d}`,_=i<e.length-1?e[i+1]:null;if(r>0&&void 0===p)break;if(p&&_&&"object"==typeof _&&void 0===_.outlets){if(!t_(p,_,c))return o;i+=2}else{if(!t_(p,{},c))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new wn(n.segments.slice(0,i.pathIndex),{});return o.children[rn]=new wn(n.segments.slice(i.pathIndex),n.children),Vl(o,0,r)}return i.match&&0===r.length?new wn(n.segments,{}):i.match&&!n.hasChildren()?yi(n,t,e):i.match?Vl(n,0,r):yi(n,t,e)}function Vl(n,t,e){if(0===e.length)return new wn(n.segments,{});{const i=function wd(n){return zr(n[0])?n[0].outlets:{[rn]:n}}(e),r={};return Ri(i,(o,c)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[c]=Du(n.children[c],t,o))}),Ri(n.children,(o,c)=>{void 0===i[c]&&(r[c]=o)}),new wn(n.segments,r)}}function yi(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(zr(o)){const p=e_(o.outlets);return new wn(i,p)}if(0===r&&Wn(e[0])){i.push(new Ad(n.segments[t].path,dE(e[0]))),r++;continue}const c=zr(o)?o.outlets[rn]:`${o}`,d=r<e.length-1?e[r+1]:null;c&&d&&Wn(d)?(i.push(new Ad(c,dE(d))),r+=2):(i.push(new Ad(c,{})),r++)}return new wn(i,{})}function e_(n){const t={};return Ri(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=yi(new wn([],{}),0,e))}),t}function dE(n){const t={};return Ri(n,(e,i)=>t[i]=`${e}`),t}function t_(n,t,e){return n==e.path&&Jr(t,e.parameters)}class Qa{constructor(t,e){this.id=t,this.url=e}}class cA extends Qa{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Iu extends Qa{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class n_ extends Qa{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class hE extends Qa{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class dM extends Qa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NF extends Qa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FF extends Qa{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Dp extends Qa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uA extends Qa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fE{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pE{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gE{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hM{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mE{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _E{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class i_{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class yE{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Ip(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Ip(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=r_(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return r_(t,this._root).map(e=>e.value)}}function Ip(n,t){if(n===t.value)return t;for(const e of t.children){const i=Ip(n,e);if(i)return i}return null}function r_(n,t){if(n===t.value)return[t];for(const e of t.children){const i=r_(n,e);if(i.length)return i.unshift(t),i}return[]}class Ul{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ca(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class vE extends yE{constructor(t,e){super(t),this.snapshot=e,Sp(this,t)}toString(){return this.snapshot.toString()}}function s_(n,t){const e=function o_(n,t){const c=new Hl([],{},{},"",{},rn,t,null,n.root,-1,{});return new dA("",new Ul(c,[]))}(n,t),i=new tn([new Ad("",{})]),r=new tn({}),o=new tn({}),c=new tn({}),d=new tn(""),p=new ua(i,r,c,d,o,rn,t,e.root);return p.snapshot=e.root,new vE(new Ul(p,[]),e)}class ua{constructor(t,e,i,r,o,c,d,p){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=c,this.component=d,this.title=this.data?.pipe((0,ot.U)(_=>_[Ms]))??dt(void 0),this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ot.U)(t=>Xs(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ot.U)(t=>Xs(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function a_(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function l_(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Hl{constructor(t,e,i,r,o,c,d,p,_,b,I,O){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=c,this.component=d,this.title=this.data?.[Ms],this.routeConfig=p,this._urlSegment=_,this._lastPathIndex=b,this._correctedLastPathIndex=O??b,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class dA extends yE{constructor(t,e){super(e),this.url=t,Sp(this,e)}toString(){return AE(this._root)}}function Sp(n,t){t.value._routerState=n,t.children.forEach(e=>Sp(n,e))}function AE(n){const t=n.children.length>0?` { ${n.children.map(AE).join(", ")} } `:"";return`${n.value}${t}`}function hA(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Jr(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Jr(t.params,e.params)||n.params.next(e.params),function Wa(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Jr(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Jr(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function c_(n,t){const e=Jr(n.params,t.params)&&function Ch(n,t){return Ka(n,t)&&n.every((e,i)=>Jr(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||c_(n.parent,t.parent))}function Tp(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function fM(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Tp(n,i,r);return Tp(n,i)})}(n,t,e);return new Ul(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const c=o.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(d=>Tp(n,d)),c}}const i=function pM(n){return new ua(new tn(n.url),new tn(n.params),new tn(n.queryParams),new tn(n.fragment),new tn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>Tp(n,o));return new Ul(i,r)}}const fA="ngNavigationCancelingError";function u_(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=H(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=bE(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function bE(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[fA]=!0,i.cancellationCode=t,e&&(i.url=e),i}function pA(n){return wE(n)&&H(n.url)}function wE(n){return n&&n[fA]}class CE{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new d_,this.attachRef=null}}let d_=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new CE,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const h_=!1;let Su=(()=>{class n{constructor(e,i,r,o,c){this.parentContexts=e,this.location=i,this.changeDetector=o,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=r||rn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,h_);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,h_);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,h_);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new s.vHH(4013,h_);this._activatedRoute=e;const r=this.location,c=e._futureSnapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,p=new gM(e,d,r.injector);if(i&&function kh(n){return!!n.resolveComponentFactory}(i)){const _=i.resolveComponentFactory(c);this.activated=r.createComponent(_,r.length,p)}else this.activated=r.createComponent(c,{index:r.length,injector:p,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(d_),s.Y36(s.s_b),s.$8M("name"),s.Y36(s.sBO),s.Y36(s.lqb))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class gM{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===ua?this.route:t===d_?this.childContexts:this.parent.get(t,e)}}let Cd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[s.jDz],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},dependencies:[Su],encapsulation:2}),n})();function EE(n,t){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function _A(n){const t=n.children&&n.children.map(_A),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==rn&&(e.component=Cd),e}function da(n){return n.outlet||rn}function f_(n,t){const e=n.filter(i=>da(i)===t);return e.push(...n.filter(i=>da(i)!==t)),e}function p_(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class yA{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),hA(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=ca(e);t.children.forEach(o=>{const c=o.value.outlet;this.deactivateRoutes(o,r[c],i),delete r[c]}),Ri(r,(o,c)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(t,e,c.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=ca(t);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],r);if(i&&i.outlet){const c=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=ca(t);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=ca(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new _E(o.value.snapshot))}),t.children.length&&this.forwardEvent(new hM(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(hA(r),r===o)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,c.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(d.contexts),c.attachRef=d.componentRef,c.route=d.route.value,c.outlet&&c.outlet.attach(d.componentRef,d.route.value),hA(d.route.value),this.activateChildRoutes(t,null,c.children)}else{const d=p_(r.snapshot),p=d?.get(s._Vd)??null;c.attachRef=null,c.route=r,c.resolver=p,c.injector=d,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,i)}}class _M{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class vA{constructor(t,e){this.component=t,this.route=e}}function HF(n,t,e){const i=n._root;return Mp(i,t?t._root:null,e,[i.value])}function xp(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,s.Z0I)(n)?t.get(n):n:i}function Mp(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=ca(t);return n.children.forEach(c=>{(function SE(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,c=t?t.value:null,d=e?e.getContext(n.value.outlet):null;if(c&&o.routeConfig===c.routeConfig){const p=function AA(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Ka(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Ka(n.url,t.url)||!Jr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!c_(n,t)||!Jr(n.queryParams,t.queryParams);default:return!c_(n,t)}}(c,o,o.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new _M(i)):(o.data=c.data,o._resolvedData=c._resolvedData),Mp(n,t,o.component?d?d.children:null:e,i,r),p&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new vA(d.outlet.component,c))}else c&&Oh(t,d,r),r.canActivateChecks.push(new _M(i)),Mp(n,null,o.component?d?d.children:null:e,i,r)})(c,o[c.value.outlet],e,i.concat([c.value]),r),delete o[c.value.outlet]}),Ri(o,(c,d)=>Oh(c,e.getContext(d),r)),r}function Oh(n,t,e){const i=ca(n),r=n.value;Ri(i,(o,c)=>{Oh(o,r.component?t?t.children.getContext(c):null:t,e)}),e.canDeactivateChecks.push(new vA(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Rh(n){return"function"==typeof n}function g_(n){return n instanceof Ha||"EmptyError"===n?.name}const m_=Symbol("INITIAL_VALUE");function Ph(){return Ti(n=>xs(n.map(t=>t.pipe(nn(1),Cr(m_)))).pipe((0,ot.U)(t=>{for(const e of t)if(!0!==e){if(e===m_)return m_;if(!1===e||e instanceof Nc)return e}return!0}),x(t=>t!==m_),nn(1)))}function cs(n){return(0,yd.z)((0,$e.b)(t=>{if(H(t))throw u_(0,t)}),(0,ot.U)(t=>!0===t))}const __={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function y_(n,t,e,i,r){const o=jr(n,t,e);return o.matched?function EA(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?dt(r.map(c=>{const d=xp(c,n);return Ya(function vM(n){return n&&Rh(n.canMatch)}(d)?d.canMatch(t,e):n.runInContext(()=>d(t,e)))})).pipe(Ph(),cs()):dt(!0)}(i=EE(t,i),t,e).pipe((0,ot.U)(c=>!0===c?o:{...__})):dt(o)}function jr(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...__}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Bl)(e,n,t);if(!r)return{...__};const o={};Ri(r.posParams,(d,p)=>{o[p]=d.path});const c=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function Tu(n,t,e,i,r="corrected"){if(e.length>0&&function xM(n,t,e){return e.some(i=>v_(n,t,i)&&da(i)!==rn)}(n,e,i)){const c=new wn(t,function TM(n,t,e,i){const r={};r[rn]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&da(o)!==rn){const c=new wn([],{});c._sourceSegment=n,c._segmentIndexShift=t.length,r[da(o)]=c}return r}(n,t,i,new wn(e,n.children)));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:[]}}if(0===e.length&&function kE(n,t,e){return e.some(i=>v_(n,t,i))}(n,e,i)){const c=new wn(n.segments,function ME(n,t,e,i,r,o){const c={};for(const d of i)if(v_(n,e,d)&&!r[da(d)]){const p=new wn([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===o?n.segments.length:t.length,c[da(d)]=p}return{...r,...c}}(n,t,e,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}const o=new wn(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function v_(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function DA(n,t,e,i){return!!(da(n)===i||i!==rn&&v_(t,e,n))&&("**"===n.path||jr(t,n,e).matched)}function OE(n,t,e){return 0===t.length&&!n.children[e]}const Op=!1;class A_{constructor(t){this.segmentGroup=t||null}}class RE{constructor(t){this.urlTree=t}}function Nh(n){return Hr(new A_(n))}function IA(n){return Hr(new RE(n))}class kM{constructor(t,e,i,r,o){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=Tu(this.urlTree.root,[],[],this.config).segmentGroup,e=new wn(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,rn).pipe((0,ot.U)(o=>this.createUrlTree(E(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(wt(o=>{if(o instanceof RE)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof A_?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,rn).pipe((0,ot.U)(r=>this.createUrlTree(E(r),t.queryParams,t.fragment))).pipe(wt(r=>{throw r instanceof A_?this.noMatchError(r):r}))}noMatchError(t){return new s.vHH(4002,Op)}createUrlTree(t,e,i){const r=y(t);return new Nc(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,ot.U)(o=>new wn([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,Tn.D)(r).pipe(Le(o=>{const c=i.children[o],d=f_(e,o);return this.expandSegmentGroup(t,d,c,o).pipe((0,ot.U)(p=>({segment:p,outlet:o})))}),Xt((o,c)=>(o[c.outlet]=c.segment,o),{}),Oi())}expandSegment(t,e,i,r,o,c){return(0,Tn.D)(i).pipe(Le(d=>this.expandSegmentAgainstRoute(t,e,i,d,r,o,c).pipe(wt(_=>{if(_ instanceof A_)return dt(null);throw _}))),me(d=>!!d),wt((d,p)=>{if(g_(d))return OE(e,r,o)?dt(new wn([],{})):Nh(e);throw d}))}expandSegmentAgainstRoute(t,e,i,r,o,c,d){return DA(r,e,o,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,c):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c):Nh(e):Nh(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?IA(o):this.lineralizeSegments(i,o).pipe((0,M.z)(c=>{const d=new wn(c,{});return this.expandSegment(t,d,e,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c){const{matched:d,consumedSegments:p,remainingSegments:_,positionalParamSegments:b}=jr(e,r,o);if(!d)return Nh(e);const I=this.applyRedirectCommands(p,r.redirectTo,b);return r.redirectTo.startsWith("/")?IA(I):this.lineralizeSegments(r,I).pipe((0,M.z)(O=>this.expandSegment(t,e,i,O.concat(_),c,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){return"**"===i.path?(t=EE(i,t),i.loadChildren?(i._loadedRoutes?dt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,ot.U)(d=>(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,new wn(r,{})))):dt(new wn(r,{}))):y_(e,i,r,t).pipe(Ti(({matched:c,consumedSegments:d,remainingSegments:p})=>c?this.getChildConfig(t=i._injector??t,i,r).pipe((0,M.z)(b=>{const I=b.injector??t,O=b.routes,{segmentGroup:B,slicedSegments:z}=Tu(e,d,p,O),X=new wn(B.segments,B.children);if(0===z.length&&X.hasChildren())return this.expandChildren(I,O,X).pipe((0,ot.U)(at=>new wn(d,at)));if(0===O.length&&0===z.length)return dt(new wn(d,{}));const se=da(i)===o;return this.expandSegment(I,X,O,z,se?rn:o,!0).pipe((0,ot.U)(it=>new wn(d.concat(it.segments),it.children)))})):Nh(e)))}getChildConfig(t,e,i){return e.children?dt({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?dt({routes:e._loadedRoutes,injector:e._loadedInjector}):function SM(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?dt(!0):dt(r.map(c=>{const d=xp(c,n);return Ya(function bA(n){return n&&Rh(n.canLoad)}(d)?d.canLoad(t,e):n.runInContext(()=>d(t,e)))})).pipe(Ph(),cs())}(t,e,i).pipe((0,M.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,$e.b)(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function Fh(n){return Hr(bE(Op,3))}())):dt({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return dt(i);if(r.numberOfChildren>1||!r.children[rn])return Hr(new s.vHH(4e3,Op));r=r.children[rn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new Nc(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Ri(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[o]=e[d]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let c={};return Ri(e.children,(d,p)=>{c[p]=this.createSegmentGroup(t,d,i,r)}),new wn(o,c)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new s.vHH(4001,Op);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class GF{}class zl{constructor(t,e,i,r,o,c,d,p){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=d,this.urlSerializer=p}recognize(){const t=Tu(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,rn).pipe((0,ot.U)(e=>{if(null===e)return null;const i=new Hl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},rn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ul(i,e),o=new dA(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,i=a_(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,Tn.D)(Object.keys(i.children)).pipe(Le(r=>{const o=i.children[r],c=f_(e,r);return this.processSegmentGroup(t,c,o,r)}),Xt((r,o)=>r&&o?(r.push(...o),r):null),function rr(n,t=!1){return(0,Si.e)((e,i)=>{let r=0;e.subscribe((0,oi.x)(i,o=>{const c=n(o,r++);(c||t)&&i.next(o),!c&&i.complete()}))})}(r=>null!==r),N(null),Oi(),(0,ot.U)(r=>{if(null===r)return null;const o=MA(r);return function TA(n){n.sort((t,e)=>t.value.outlet===rn?-1:e.value.outlet===rn?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,i,r,o){return(0,Tn.D)(e).pipe(Le(c=>this.processSegmentAgainstRoute(c._injector??t,c,i,r,o)),me(c=>!!c),wt(c=>{if(g_(c))return OE(i,r,o)?dt([]):dt(null);throw c}))}processSegmentAgainstRoute(t,e,i,r,o){if(e.redirectTo||!DA(e,i,r,o))return dt(null);let c;if("**"===e.path){const d=r.length>0?gp(r).parameters:{},p=NE(i)+r.length;c=dt({snapshot:new Hl(r,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,b_(e),da(e),e.component??e._loadedComponent??null,e,Lh(i),p,w_(e),p),consumedSegments:[],remainingSegments:[]})}else c=y_(i,e,r,t).pipe((0,ot.U)(({matched:d,consumedSegments:p,remainingSegments:_,parameters:b})=>{if(!d)return null;const I=NE(i)+p.length;return{snapshot:new Hl(p,b,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,b_(e),da(e),e.component??e._loadedComponent??null,e,Lh(i),I,w_(e),I),consumedSegments:p,remainingSegments:_}}));return c.pipe(Ti(d=>{if(null===d)return dt(null);const{snapshot:p,consumedSegments:_,remainingSegments:b}=d;t=e._injector??t;const I=e._loadedInjector??t,O=function xA(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:B,slicedSegments:z}=Tu(i,_,b,O.filter(se=>void 0===se.redirectTo),this.relativeLinkResolution);if(0===z.length&&B.hasChildren())return this.processChildren(I,O,B).pipe((0,ot.U)(se=>null===se?null:[new Ul(p,se)]));if(0===O.length&&0===z.length)return dt([new Ul(p,[])]);const X=da(e)===o;return this.processSegment(I,O,B,z,X?rn:o).pipe((0,ot.U)(se=>null===se?null:[new Ul(p,se)]))}))}}function RM(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function MA(n){const t=[],e=new Set;for(const i of n){if(!RM(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=MA(i.children);t.push(new Ul(i.value,r))}return t.filter(i=>!e.has(i))}function Lh(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function NE(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function b_(n){return n.data||{}}function w_(n){return n.resolve||{}}function C_(n){return"string"==typeof n.title||null===n.title}function OA(n){return Ti(t=>{const e=n(t);return e?(0,Tn.D)(e).pipe((0,ot.U)(()=>t)):dt(t)})}let VE=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===rn);return i}getResolvedTitleForRoute(e){return e.data[Ms]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(UE)},providedIn:"root"}),n})(),UE=(()=>{class n extends VE{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ts))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class FM{}class HE extends class LM{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Rp=new s.OlP("",{providedIn:"root",factory:()=>({})}),PA=new s.OlP("ROUTES");let NA=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return dt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Ya(e.loadComponent()).pipe((0,$e.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Co(()=>{this.componentLoaders.delete(e)})),r=new Js(i,()=>new jt.x).pipe(Za());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return dt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,ot.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(i);let p,_,b=!1;Array.isArray(d)?_=d:(p=d.create(e).injector,_=Ym(p.get(PA,[],s.XFs.Self|s.XFs.Optional)));return{routes:_.map(_A),injector:p}}),Co(()=>{this.childrenLoaders.delete(i)})),c=new Js(o,()=>new jt.x).pipe(Za());return this.childrenLoaders.set(i,c),c}loadModuleFactoryOrRoutes(e){return Ya(e()).pipe((0,M.z)(i=>i instanceof s.YKP||Array.isArray(i)?dt(i):(0,Tn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3),s.LFG(s.Sil))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class zE{}class jE{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function GE(n){throw n}function qE(n,t,e){return t.parse("/")}const BM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},YF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function ZE(){const n=(0,s.f3M)(vp),t=(0,s.f3M)(d_),e=(0,s.f3M)(je),i=(0,s.f3M)(s.zs3),r=(0,s.f3M)(s.Sil),o=(0,s.f3M)(PA,{optional:!0})??[],c=(0,s.f3M)(Rp,{optional:!0})??{},d=(0,s.f3M)(UE),p=(0,s.f3M)(VE,{optional:!0}),_=(0,s.f3M)(zE,{optional:!0}),b=(0,s.f3M)(FM,{optional:!0}),I=new hi(null,n,t,e,i,r,Ym(o));return _&&(I.urlHandlingStrategy=_),b&&(I.routeReuseStrategy=b),I.titleStrategy=p??d,function D_(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(c,I),I}let hi=(()=>{class n{constructor(e,i,r,o,c,d,p){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new jt.x,this.errorHandler=GE,this.malformedUriErrorHandler=qE,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>dt(void 0),this.urlHandlingStrategy=new jE,this.routeReuseStrategy=new HE,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(NA),this.configLoader.onLoadEndListener=O=>this.triggerEvent(new pE(O)),this.configLoader.onLoadStartListener=O=>this.triggerEvent(new fE(O)),this.ngModule=c.get(s.h0i),this.console=c.get(s.c2e);const I=c.get(s.R0b);this.isNgZoneEnabled=I instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function $m(){return new Nc(new wn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=s_(this.currentUrlTree,this.rootComponentType),this.transitions=new tn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(x(r=>0!==r.id),(0,ot.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Ti(r=>{let o=!1,c=!1;return dt(r).pipe((0,$e.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ti(d=>{const p=this.browserUrlTree.toString(),_=!this.navigated||d.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||_)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return FA(d.source)&&(this.browserUrlTree=d.extractedUrl),dt(d).pipe(Ti(I=>{const O=this.transitions.getValue();return i.next(new cA(I.id,this.serializeUrl(I.extractedUrl),I.source,I.restoredState)),O!==this.transitions.getValue()?wo.E:Promise.resolve(I)}),function OM(n,t,e,i){return Ti(r=>function Bc(n,t,e,i,r){return new kM(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,ot.U)(o=>({...r,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,$e.b)(I=>{this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects},r.urlAfterRedirects=I.urlAfterRedirects}),function LE(n,t,e,i,r,o){return(0,M.z)(c=>function qF(n,t,e,i,r,o,c="emptyOnly",d="legacy"){return new zl(n,t,e,i,r,c,d,o).recognize().pipe(Ti(p=>null===p?function PE(n){return new si.y(t=>t.error(n))}(new GF):dt(p)))}(n,t,e,c.urlAfterRedirects,i.serialize(c.urlAfterRedirects),i,r,o).pipe((0,ot.U)(d=>({...c,targetSnapshot:d}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,$e.b)(I=>{if(r.targetSnapshot=I.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!I.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);this.setBrowserUrl(B,I)}this.browserUrlTree=I.urlAfterRedirects}const O=new dM(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);i.next(O)}));if(_&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:O,extractedUrl:B,source:z,restoredState:X,extras:se}=d,Fe=new cA(O,this.serializeUrl(B),z,X);i.next(Fe);const it=s_(B,this.rootComponentType).snapshot;return dt(r={...d,targetSnapshot:it,urlAfterRedirects:B,extras:{...se,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=d.rawUrl,d.resolve(null),wo.E}),(0,$e.b)(d=>{const p=new NF(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(p)}),(0,ot.U)(d=>r={...d,guards:HF(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function bM(n,t){return(0,M.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:c}}=e;return 0===c.length&&0===o.length?dt({...e,guardsResult:!0}):function wM(n,t,e,i){return(0,Tn.D)(n).pipe((0,M.z)(r=>function IM(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?dt(o.map(d=>{const p=p_(t)??r,_=xp(d,p);return Ya(function kp(n){return n&&Rh(n.canDeactivate)}(_)?_.canDeactivate(n,t,e,i):p.runInContext(()=>_(n,t,e,i))).pipe(me())})).pipe(Ph()):dt(!0)}(r.component,r.route,e,t,i)),me(r=>!0!==r,!0))}(c,i,r,n).pipe((0,M.z)(d=>d&&function TE(n){return"boolean"==typeof n}(d)?function CA(n,t,e,i){return(0,Tn.D)(t).pipe(Le(r=>qa(function EM(n,t){return null!==n&&t&&t(new gE(n)),dt(!0)}(r.route.parent,i),function CM(n,t){return null!==n&&t&&t(new mE(n)),dt(!0)}(r.route,i),function xE(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(c=>function zF(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(c)).filter(c=>null!==c).map(c=>bo(()=>dt(c.guards.map(p=>{const _=p_(c.node)??e,b=xp(p,_);return Ya(function wA(n){return n&&Rh(n.canActivateChild)}(b)?b.canActivateChild(i,n):_.runInContext(()=>b(i,n))).pipe(me())})).pipe(Ph())));return dt(o).pipe(Ph())}(n,r.path,e),function DM(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return dt(!0);const r=i.map(o=>bo(()=>{const c=p_(t)??e,d=xp(o,c);return Ya(function yM(n){return n&&Rh(n.canActivate)}(d)?d.canActivate(t,n):c.runInContext(()=>d(t,n))).pipe(me())}));return dt(r).pipe(Ph())}(n,r.route,e))),me(r=>!0!==r,!0))}(i,o,n,t):dt(d)),(0,ot.U)(d=>({...e,guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),(0,$e.b)(d=>{if(r.guardsResult=d.guardsResult,H(d.guardsResult))throw u_(0,d.guardsResult);const p=new FF(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(p)}),x(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),OA(d=>{if(d.guards.canActivateChecks.length)return dt(d).pipe((0,$e.b)(p=>{const _=new Dp(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}),Ti(p=>{let _=!1;return dt(p).pipe(function ZF(n,t){return(0,M.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return dt(e);let o=0;return(0,Tn.D)(r).pipe(Le(c=>function Bh(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!C_(r)&&(o[Ms]=r.title),function kA(n,t,e,i){const r=function BE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return dt({});const o={};return(0,Tn.D)(r).pipe((0,M.z)(c=>function NM(n,t,e,i){const r=p_(t)??i,o=xp(n,r);return Ya(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[c],t,e,i).pipe(me(),(0,$e.b)(d=>{o[c]=d}))),kt(1),function Ll(n){return(0,ot.U)(()=>n)}(o),wt(c=>g_(c)?wo.E:Hr(c)))}(o,n,t,i).pipe((0,ot.U)(c=>(n._resolvedData=c,n.data=a_(n,e).resolve,r&&C_(r)&&(n.data[Ms]=r.title),null)))}(c.route,i,n,t)),(0,$e.b)(()=>o++),kt(1),(0,M.z)(c=>o===r.length?dt(e):wo.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,$e.b)({next:()=>_=!0,complete:()=>{_||(this.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),(0,$e.b)(p=>{const _=new uA(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}))}),OA(d=>{const p=_=>{const b=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,$e.b)(I=>{_.component=I}),(0,ot.U)(()=>{})));for(const I of _.children)b.push(...p(I));return b};return xs(p(d.targetSnapshot.root)).pipe(N(),nn(1))}),OA(()=>this.afterPreactivation()),(0,ot.U)(d=>{const p=function Mh(n,t,e){const i=Tp(n,t._root,e?e._root:void 0);return new vE(i,t)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:p}}),(0,$e.b)(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,t,e)=>(0,ot.U)(i=>(new yA(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),(0,$e.b)({next(){o=!0},complete(){o=!0}}),Co(()=>{o||c||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),wt(d=>{if(c=!0,wE(d)){pA(d)||(this.navigated=!0,this.restoreHistory(r,!0));const p=new n_(r.id,this.serializeUrl(r.extractedUrl),d.message,d.cancellationCode);if(i.next(p),pA(d)){const _=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),b={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||FA(r.source)};this.scheduleNavigation(_,"imperative",null,b,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const p=new hE(r.id,this.serializeUrl(r.extractedUrl),d,r.targetSnapshot??void 0);i.next(p);try{r.resolve(this.errorHandler(d))}catch(_){r.reject(_)}}return wo.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},o=e.state?.navigationId?e.state:null;if(o){const d={...o};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(r.state=d)}const c=this.parseUrl(e.url);this.scheduleNavigation(c,i,o,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(_A),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:c,queryParamsHandling:d,preserveFragment:p}=i,_=r||this.routerState.root,b=p?this.currentUrlTree.fragment:c;let I=null;switch(d){case"merge":I={...this.currentUrlTree.queryParams,...o};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=o||null}return null!==I&&(I=this.removeEmptyProps(I)),yn(_,this.currentUrlTree,e,I,b??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=H(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function WE(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new s.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...BM}:!1===i?{...YF}:i,H(e))return iA(this.currentUrlTree,e,r);const o=this.parseUrl(e);return iA(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Iu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,c){if(this.disposed)return Promise.resolve(!1);let d,p,_;c?(d=c.resolve,p=c.reject,_=c.promise):_=new Promise((O,B)=>{d=O,p=B});const b=++this.navigationId;let I;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),I=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):I=0,this.setTransition({id:b,targetPageId:I,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:d,reject:p,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(O=>Promise.reject(O))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const o=new n_(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:function(){return ZE()},providedIn:"root"}),n})();function FA(n){return"imperative"!==n}let xu=(()=>{class n{constructor(e,i,r,o,c){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=c,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new jt.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,s.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,s.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,s.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(hi),s.Y36(ua),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[s.TTD]}),n})(),Vh=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new jt.x,this.subscription=e.events.subscribe(o=>{o instanceof Iu&&this.updateTargetUrlAndHref()})}set preserveFragment(e){this._preserveFragment=(0,s.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,s.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,s.D6c)(e)}get replaceUrl(){return this._replaceUrl}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,o,c){return!!(0!==e||i||r||o||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(hi),s.Y36(ua),s.Y36(Me))},n.\u0275dir=s.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&s.uIk("target",i.target)("href",i.href,s.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[s.TTD]}),n})();class LA{}let BA=(()=>{class n{constructor(e,i,r,o,c){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(x(e=>e instanceof Iu),Le(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,s.MMx)(o.providers,e,`Route: ${o.path}`));const c=o._injector??e,d=o._loadedInjector??c;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?r.push(this.preloadConfig(c,o)):(o.children||o._loadedRoutes)&&r.push(this.processRoutes(d,o.children??o._loadedRoutes))}return(0,Tn.D)(r).pipe((0,Fl.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):dt(null);const o=r.pipe((0,M.z)(c=>null===c?dt(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??e,c.routes))));if(i.loadComponent&&!i._loadedComponent){const c=this.loader.loadComponent(i);return(0,Tn.D)([o,c]).pipe((0,Fl.J)())}return o})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(hi),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(LA),s.LFG(NA))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ed=new s.OlP("");let $E=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof cA?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Iu&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof i_&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new i_(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Dd(n,t){return{\u0275kind:n,\u0275providers:t}}function Np(n){return[{provide:PA,multi:!0,useValue:n}]}function HM(){const n=(0,s.f3M)(s.zs3);return t=>{const e=n.get(s.z2F);if(t!==e.components[0])return;const i=n.get(hi),r=n.get(VA);1===n.get(UA)&&i.initialNavigation(),n.get(ha,null,s.XFs.Optional)?.setUpPreloading(),n.get(Ed,null,s.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.next(),r.complete()}}const VA=new s.OlP("",{factory:()=>new jt.x}),UA=new s.OlP("",{providedIn:"root",factory:()=>1});const ha=new s.OlP("");function GM(n){return Dd(0,[{provide:ha,useExisting:BA},{provide:LA,useExisting:n}])}const JE=new s.OlP("ROUTER_FORROOT_GUARD"),ZM=[je,{provide:vp,useClass:Cu},{provide:hi,useFactory:ZE},d_,{provide:ua,useFactory:function KE(n){return n.routerState.root},deps:[hi]},NA];function XE(){return new s.PXZ("Router",hi)}let Uh=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[ZM,[],Np(e),{provide:JE,useFactory:eD,deps:[[hi,new s.FiY,new s.tp0]]},{provide:Rp,useValue:i||{}},i?.useHash?{provide:Me,useClass:ut}:{provide:Me,useClass:Ze},{provide:Ed,useFactory:()=>{const n=(0,s.f3M)(hi),t=(0,s.f3M)(uu),e=(0,s.f3M)(Rp);return e.scrollOffset&&t.setOffset(e.scrollOffset),new $E(n,t,e)}},i?.preloadingStrategy?GM(i.preloadingStrategy).\u0275providers:[],{provide:s.PXZ,multi:!0,useFactory:XE},i?.initialNavigation?tD(i):[],[{provide:HA,useFactory:HM},{provide:s.tb,multi:!0,useExisting:HA}]]}}static forChild(e){return{ngModule:n,providers:[Np(e)]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(JE,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Cd]}),n})();function eD(n){return"guarded"}function tD(n){return["disabled"===n.initialNavigation?Dd(3,[{provide:s.ip1,multi:!0,useFactory:()=>{const t=(0,s.f3M)(hi);return()=>{t.setUpLocationChangeListener()}}},{provide:UA,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Dd(2,[{provide:UA,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:t=>{const e=t.get(ne,Promise.resolve());let i=!1;return()=>e.then(()=>new Promise(o=>{const c=t.get(hi),d=t.get(VA);(function r(o){t.get(hi).events.pipe(x(d=>d instanceof Iu||d instanceof n_||d instanceof hE),(0,ot.U)(d=>d instanceof Iu||d instanceof n_&&(0===d.code||1===d.code)&&null),x(d=>null!==d),nn(1)).subscribe(()=>{o()})})(()=>{o(!0),i=!0}),c.afterPreactivation=()=>(o(!0),i||d.closed?dt(void 0):d),c.initialNavigation()}))}}]).\u0275providers:[]]}const HA=new s.OlP("");var Ja=j(6451),x_=j(5363),nD=j(6063);class KM extends jt.x{constructor(t=1/0,e=1/0,i=nD.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:c}=this;e||(i.push(t),!r&&i.push(o.now()+c)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let c=0;c<o.length&&!t.closed;c+=i?1:2)t.next(o[c]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const c=e.now();let d=0;for(let p=1;p<i.length&&i[p]<=c;p+=2)d=p;d&&i.splice(0,d+1)}}}var zA=j(3099);function QM(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,zA.B)({connector:()=>new KM(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function jA(n,t){return(0,ir.m)(t)?Ti(()=>n,t):Ti(()=>n)}var M_=j(9468),xn=j(5813),Er=j(2011);j(5867);var xe=j(5861),ks=j(9681),Xa=j(4859),G=j(2090),el=j(1877);const O_=new Map,qA={activated:!1,tokenObservers:[]},ZA={initialized:!1,enabled:!1};function us(n){return O_.get(n)||Object.assign({},qA)}function R_(){return ZA}class aD{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,xe.Z)(function*(){e.stop();try{e.pending=new G.BH,yield function r1(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new G.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Ui=new G.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function $A(n){if(!us(n).activated)throw Ui.create("use-before-activation",{appName:n.name})}function P_(n,t){return lD.apply(this,arguments)}function lD(){return(lD=(0,xe.Z)(function*({url:n,body:t},e){var i,r;const o={"Content-Type":"application/json"},c=e.getImmediate({optional:!0});if(c){const B=yield c.getHeartbeatsHeader();B&&(o["X-Firebase-Client"]=B)}const d={method:"POST",body:JSON.stringify(t),headers:o};let p,_;try{p=yield fetch(n,d)}catch(B){throw Ui.create("fetch-network-error",{originalErrorMessage:null===(i=B)||void 0===i?void 0:i.message})}if(200!==p.status)throw Ui.create("fetch-status-error",{httpStatus:p.status});try{_=yield p.json()}catch(B){throw Ui.create("fetch-parse-error",{originalErrorMessage:null===(r=B)||void 0===r?void 0:r.message})}const b=_.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw Ui.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const I=1e3*Number(b[1]),O=Date.now();return{token:_.token,expireTimeMillis:O+I,issuedAtTimeMillis:O}})).apply(this,arguments)}function QA(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const L_="firebase-app-check-store";let B_=null;function uD(){return B_||(B_=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var o;t(Ui.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(L_,{keyPath:"compositeKey"})}}catch(i){t(Ui.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),B_)}function V_(){return(V_=(0,xe.Z)(function*(n,t){const i=(yield uD()).transaction(L_,"readwrite"),o=i.objectStore(L_).put({compositeKey:n,value:t});return new Promise((c,d)=>{o.onsuccess=p=>{c()},i.onerror=p=>{var _;d(Ui.create("storage-set",{originalErrorMessage:null===(_=p.target.error)||void 0===_?void 0:_.message}))}})})).apply(this,arguments)}const H_=new el.Yd("@firebase/app-check");function fD(n,t){return(0,G.hl)()?function dD(n,t){return function a1(n,t){return V_.apply(this,arguments)}(function U_(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{H_.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function l1(){return R_().enabled}function c1(){return gD.apply(this,arguments)}function gD(){return(gD=(0,xe.Z)(function*(){const n=R_();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Mu={error:"UNKNOWN_ERROR"};function nb(n){return G.US.encodeString(JSON.stringify(n),!1)}function z_(n){return j_.apply(this,arguments)}function j_(){return(j_=(0,xe.Z)(function*(n,t=!1){const e=n.app;$A(e);const i=us(e);let o,r=i.token;if(r&&!Id(r)&&(i.token=void 0,r=void 0),!r){const p=yield i.cachedTokenPromise;p&&(Id(p)?r=p:yield fD(e,void 0))}if(!t&&r&&Id(r))return{token:r.token};let d,c=!1;if(l1()){i.exchangeTokenPromise||(i.exchangeTokenPromise=P_(QA(e,yield c1()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);const p=yield i.exchangeTokenPromise;return yield fD(e,p),i.token=p,{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),r=yield us(e).exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?H_.warn(p.message):H_.error(p),o=p}return r?o?d=Id(r)?{token:r.token,internalError:o}:mD(o):(d={token:r.token},i.token=r,yield fD(e,r)):d=mD(o),c&&Vc(e,d),d})).apply(this,arguments)}function G_(n,t){const e=us(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function q_(n){const{app:t}=n,e=us(t);let i=e.tokenRefresher;i||(i=function u1(n){const{app:t}=n;return new aD((0,xe.Z)(function*(){let i;if(i=us(t).token?yield z_(n,!0):yield z_(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=us(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function Vc(n,t){const e=us(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function Id(n){return n.expireTimeMillis-Date.now()>0}function mD(n){return{token:nb(Mu),error:n}}class d1{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=us(this.app);for(const e of t)G_(this.app,e.next);return Promise.resolve()}}const CD="app-check-internal";!function ub(){(0,ks._registerComponent)(new Xa.wA("app-check",n=>function _D(n,t){return new d1(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(CD).initialize()})),(0,ks._registerComponent)(new Xa.wA(CD,n=>function h1(n){return{getToken:t=>z_(n,t),addTokenListener:t=>function Vp(n,t,e,i){const{app:r}=n,o=us(r);if(o.tokenObservers=[...o.tokenObservers,{next:e,error:i,type:t}],o.token&&Id(o.token)){const d=o.token;Promise.resolve().then(()=>{e({token:d.token}),q_(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>q_(n))}(n,"INTERNAL",t),removeTokenListener:t=>G_(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ks.registerVersion)("@firebase/app-check","0.5.17")}();class Hp{constructor(){return(0,xn.vb)("app-check")}}typeof window<"u"&&window;var $_=j(127);const fb=new s.OlP("angularfire2.auth.use-emulator"),zp=new s.OlP("angularfire2.auth.settings"),pb=new s.OlP("angularfire2.auth.tenant-id"),gb=new s.OlP("angularfire2.auth.langugage-code"),Zh=new s.OlP("angularfire2.auth.use-device-language"),jp=new s.OlP("angularfire.auth.persistence"),Wh=(n,t,e,i,r,o,c,d)=>(0,Er.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=t.runOutsideAngular(()=>n.auth());if(e&&p.useEmulator(...e),i&&(p.tenantId=i),p.languageCode=r,o&&p.useDeviceLanguage(),c)for(const[_,b]of Object.entries(c))p.settings[_]=b;return d&&p.setPersistence(d),p},[e,i,r,o,c,d]);let Uc=(()=>{class n{constructor(e,i,r,o,c,d,p,_,b,I,O,B){const z=new jt.x,X=dt(void 0).pipe((0,x_.Q)(c.outsideAngular),Ti(()=>o.runOutsideAngular(()=>Promise.resolve().then(j.bind(j,5881)))),(0,ot.U)(()=>(0,Er.on)(e,o,i)),(0,ot.U)(se=>Wh(se,o,d,_,b,I,p,O)),QM({bufferSize:1,refCount:!1}));if(Yo(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=dt(null);else{X.pipe(me()).subscribe();const Fe=X.pipe(Ti(ct=>ct.getRedirectResult().then(Pt=>Pt,()=>null)),xn.iC,QM({bufferSize:1,refCount:!1})),it=X.pipe(Ti(ct=>new si.y(Pt=>({unsubscribe:o.runOutsideAngular(()=>ct.onAuthStateChanged(Vt=>Pt.next(Vt),Vt=>Pt.error(Vt),()=>Pt.complete()))})))),at=X.pipe(Ti(ct=>new si.y(Pt=>({unsubscribe:o.runOutsideAngular(()=>ct.onIdTokenChanged(Vt=>Pt.next(Vt),Vt=>Pt.error(Vt),()=>Pt.complete()))}))));this.authState=Fe.pipe(jA(it),(0,M_.R)(c.outsideAngular),(0,x_.Q)(c.insideAngular)),this.user=Fe.pipe(jA(at),(0,M_.R)(c.outsideAngular),(0,x_.Q)(c.insideAngular)),this.idToken=this.user.pipe(Ti(ct=>ct?(0,Tn.D)(ct.getIdToken()):dt(null))),this.idTokenResult=this.user.pipe(Ti(ct=>ct?(0,Tn.D)(ct.getIdTokenResult()):dt(null))),this.credential=(0,Ja.T)(Fe,z,this.authState.pipe(x(ct=>!ct))).pipe((0,ot.U)(ct=>ct?.user?ct:null),(0,M_.R)(c.outsideAngular),(0,x_.Q)(c.insideAngular))}return(0,Er.pX)(this,X,o,{spy:{apply:(se,Fe,it)=>{(se.startsWith("signIn")||se.startsWith("createUser"))&&it.then(at=>z.next(at))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Er.Dh),s.LFG(Er.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(xn.HU),s.LFG(fb,8),s.LFG(zp,8),s.LFG(pb,8),s.LFG(gb,8),s.LFG(Zh,8),s.LFG(jp,8),s.LFG(Hp,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),mb=(()=>{class n{constructor(){$_.Z.registerVersion("angularfire",xn.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Uc]}),n})(),SD=(()=>{class n{constructor(e){this.afAuth=e}canActivate(e,i){return this.afAuth.authState.pipe(nn(1),(0,ot.U)(r=>!!r))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Uc))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ql_firebaseConfig={apiKey:"AIzaSyBKb3Uju1AUWO3BoGZLMTlbnGi83H-V7XE",authDomain:"airbnb-team2.firebaseapp.com",projectId:"airbnb-team2",storageBucket:"airbnb-team2.appspot.com",messagingSenderId:"986153956513",appId:"1:986153956513:web:8972b9de27010b5672ece0"},ql_baseApiUrl="http://airbnb-dev.us-east-1.elasticbeanstalk.com/api";class _b{}class yb{}class nl{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),c=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(c):this.headers.set(o,[c])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof nl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new nl;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof nl?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let c=this.headers.get(e);if(!c)return;c=c.filter(d=>-1===o.indexOf(d)),0===c.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,c)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Hc{encodeKey(t){return xD(t)}encodeValue(t){return xD(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Q_=/%(\d[a-f0-9])/gi,Gp={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function xD(n){return encodeURIComponent(n).replace(Q_,(t,e)=>Gp[e]??t)}function Yh(n){return`${n}`}class zc{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Hc,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function K_(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[c,d]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],p=e.get(c)||[];p.push(d),e.set(c,p)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(Yh):[Yh(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new zc({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Yh(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(Yh(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class A1{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function MD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function b1(n){return typeof Blob<"u"&&n instanceof Blob}function kD(n){return typeof FormData<"u"&&n instanceof FormData}class Zp{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function qp(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new nl),this.context||(this.context=new A1),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=e;else{const d=e.indexOf("?");this.urlWithParams=e+(-1===d?"?":d<e.length-1?"&":"")+c}}else this.params=new zc,this.urlWithParams=e}serializeBody(){return null===this.body?null:MD(this.body)||b1(this.body)||kD(this.body)||function vL(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof zc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||kD(this.body)?null:b1(this.body)?this.body.type||null:MD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof zc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,c=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,d=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let p=t.headers||this.headers,_=t.params||this.params;const b=t.context??this.context;return void 0!==t.setHeaders&&(p=Object.keys(t.setHeaders).reduce((I,O)=>I.set(O,t.setHeaders[O]),p)),t.setParams&&(_=Object.keys(t.setParams).reduce((I,O)=>I.set(O,t.setParams[O]),_)),new Zp(e,i,o,{params:_,headers:p,context:b,reportProgress:d,responseType:r,withCredentials:c})}}var fr=(()=>((fr=fr||{})[fr.Sent=0]="Sent",fr[fr.UploadProgress=1]="UploadProgress",fr[fr.ResponseHeader=2]="ResponseHeader",fr[fr.DownloadProgress=3]="DownloadProgress",fr[fr.Response=4]="Response",fr[fr.User=5]="User",fr))();class vb{constructor(t,e=200,i="OK"){this.headers=t.headers||new nl,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class J_ extends vb{constructor(t={}){super(t),this.type=fr.ResponseHeader}clone(t={}){return new J_({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Td extends vb{constructor(t={}){super(t),this.type=fr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Td({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class OD extends vb{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Wp(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let $h=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof Zp)o=e;else{let p,_;p=r.headers instanceof nl?r.headers:new nl(r.headers),r.params&&(_=r.params instanceof zc?r.params:new zc({fromObject:r.params})),o=new Zp(e,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:_,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=dt(o).pipe(Le(p=>this.handler.handle(p)));if(e instanceof Zp||"events"===r.observe)return c;const d=c.pipe(x(p=>p instanceof Td));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return d.pipe((0,ot.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return d.pipe((0,ot.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return d.pipe((0,ot.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return d.pipe((0,ot.U)(p=>p.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new zc).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Wp(r,i))}post(e,i,r={}){return this.request("POST",e,Wp(r,i))}put(e,i,r={}){return this.request("PUT",e,Wp(r,i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(_b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class RD{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Ab=new s.OlP("HTTP_INTERCEPTORS");let w1=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const C1=/^\)\]\}',?\n/;let Qh=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new si.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((B,z)=>r.setRequestHeader(B,z.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const B=e.detectContentTypeHeader();null!==B&&r.setRequestHeader("Content-Type",B)}if(e.responseType){const B=e.responseType.toLowerCase();r.responseType="json"!==B?B:"text"}const o=e.serializeBody();let c=null;const d=()=>{if(null!==c)return c;const B=r.statusText||"OK",z=new nl(r.getAllResponseHeaders()),X=function Zl(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return c=new J_({headers:z,status:r.status,statusText:B,url:X}),c},p=()=>{let{headers:B,status:z,statusText:X,url:se}=d(),Fe=null;204!==z&&(Fe=typeof r.response>"u"?r.responseText:r.response),0===z&&(z=Fe?200:0);let it=z>=200&&z<300;if("json"===e.responseType&&"string"==typeof Fe){const at=Fe;Fe=Fe.replace(C1,"");try{Fe=""!==Fe?JSON.parse(Fe):null}catch(ct){Fe=at,it&&(it=!1,Fe={error:ct,text:Fe})}}it?(i.next(new Td({body:Fe,headers:B,status:z,statusText:X,url:se||void 0})),i.complete()):i.error(new OD({error:Fe,headers:B,status:z,statusText:X,url:se||void 0}))},_=B=>{const{url:z}=d(),X=new OD({error:B,status:r.status||0,statusText:r.statusText||"Unknown Error",url:z||void 0});i.error(X)};let b=!1;const I=B=>{b||(i.next(d()),b=!0);let z={type:fr.DownloadProgress,loaded:B.loaded};B.lengthComputable&&(z.total=B.total),"text"===e.responseType&&!!r.responseText&&(z.partialText=r.responseText),i.next(z)},O=B=>{let z={type:fr.UploadProgress,loaded:B.loaded};B.lengthComputable&&(z.total=B.total),i.next(z)};return r.addEventListener("load",p),r.addEventListener("error",_),r.addEventListener("timeout",_),r.addEventListener("abort",_),e.reportProgress&&(r.addEventListener("progress",I),null!==o&&r.upload&&r.upload.addEventListener("progress",O)),r.send(o),i.next({type:fr.Sent}),()=>{r.removeEventListener("error",_),r.removeEventListener("abort",_),r.removeEventListener("load",p),r.removeEventListener("timeout",_),e.reportProgress&&(r.removeEventListener("progress",I),null!==o&&r.upload&&r.upload.removeEventListener("progress",O)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(mo))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Gr=new s.OlP("XSRF_COOKIE_NAME"),jc=new s.OlP("XSRF_HEADER_NAME");class Yp{}let pa=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=vl(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ae),s.LFG(s.Lbi),s.LFG(Gr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),$p=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const o=this.tokenService.getToken();return null!==o&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,o)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Yp),s.LFG(jc))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Jh=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(Ab,[]);this.chain=i.reduceRight((r,o)=>new RD(r,o),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(yb),s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Xh=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:$p,useClass:w1}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:Gr,useValue:e.cookieName}:[],e.headerName?{provide:jc,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[$p,{provide:Ab,useExisting:$p,multi:!0},{provide:Yp,useClass:pa},{provide:Gr,useValue:"XSRF-TOKEN"},{provide:jc,useValue:"X-XSRF-TOKEN"}]}),n})(),xd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[$h,{provide:_b,useClass:Jh},Qh,{provide:yb,useExisting:Qh}],imports:[Xh.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})(),Wl=(()=>{class n{constructor(e){this.httpClient=e,this.categoryItemEmitter=new s.vpe,this.apiUrl=`${ql_baseApiUrl}`}getAllCategories(){return this.httpClient.get(`${this.apiUrl}/Category`)}getFilteredCategoris(e){return this.httpClient.get(`${this.apiUrl}/Hotel/filter-by-category${e}`).pipe((0,$e.b)(i=>{this.categoryItemEmitter.emit(i)}))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG($h))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Md(...n){const t=(0,Ks.jO)(n),{args:e,keys:i}=ja(n),r=new si.y(o=>{const{length:c}=e;if(!c)return void o.complete();const d=new Array(c);let p=c,_=c;for(let b=0;b<c;b++){let I=!1;(0,hr.Xf)(e[b]).subscribe((0,oi.x)(o,O=>{I||(I=!0,_--),d[b]=O},()=>p--,void 0,()=>{(!p||!I)&&(_||o.next(i?Oc(i,d):d),o.complete())}))}});return t?r.pipe(kc(t)):r}let wb=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),ku=(()=>{class n extends wb{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const Os=new s.OlP("NgValueAccessor"),ND={provide:Os,useExisting:(0,s.Gpc)(()=>ey),multi:!0};let ey=(()=>{class n extends ku{writeValue(e){this.setProperty("checked",e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,i){1&e&&s.NdJ("change",function(o){return i.onChange(o.target.checked)})("blur",function(){return i.onTouched()})},features:[s._Bn([ND]),s.qOj]}),n})();const FD={provide:Os,useExisting:(0,s.Gpc)(()=>il),multi:!0},BD=new s.OlP("CompositionEventMode");let il=(()=>{class n extends wb{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function LD(){const n=U()?U().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(BD,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[s._Bn([FD]),s.qOj]}),n})();function Ou(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Cb(n){return null!=n&&"number"==typeof n.length}const Dr=new s.OlP("NgValidators"),Gc=new s.OlP("NgAsyncValidators"),Eb=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class eg{static min(t){return function VD(n){return t=>{if(Ou(t.value)||Ou(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function tg(n){return t=>{if(Ou(t.value)||Ou(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return ng(t)}static requiredTrue(t){return function ty(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function UD(n){return Ou(n.value)||Eb.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function ig(n){return t=>Ou(t.value)||!Cb(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function rg(n){return t=>Cb(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function ny(n){if(!n)return sg;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Ou(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return Tb(t)}static composeAsync(t){return xb(t)}}function ng(n){return Ou(n.value)?{required:!0}:null}function sg(n){return null}function iy(n){return null!=n}function Db(n){return(0,s.QGY)(n)?(0,Tn.D)(n):n}function Ib(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function ry(n,t){return t.map(e=>e(n))}function HD(n){return n.map(t=>function Sb(n){return!n.validate}(t)?t:e=>t.validate(e))}function Tb(n){if(!n)return null;const t=n.filter(iy);return 0==t.length?null:function(e){return Ib(ry(e,t))}}function sy(n){return null!=n?Tb(HD(n)):null}function xb(n){if(!n)return null;const t=n.filter(iy);return 0==t.length?null:function(e){return Md(ry(e,t).map(Db)).pipe((0,ot.U)(Ib))}}function oy(n){return null!=n?xb(HD(n)):null}function zD(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Mb(n){return n._rawValidators}function kb(n){return n._rawAsyncValidators}function og(n){return n?Array.isArray(n)?n:[n]:[]}function kd(n,t){return Array.isArray(n)?n.includes(t):n===t}function Ob(n,t){const e=og(t);return og(n).forEach(r=>{kd(e,r)||e.push(r)}),e}function Rb(n,t){return og(t).filter(e=>!kd(n,e))}class Pb{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=sy(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=oy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Xr extends Pb{get formDirective(){return null}get path(){return null}}class Yl extends Pb{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Nb{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Od=(()=>{class n extends Nb{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Yl,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[s.qOj]}),n})(),Rd=(()=>{class n extends Nb{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Xr,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[s.qOj]}),n})();const Pd="VALID",ef="INVALID",Rs="PENDING",cg="DISABLED";function Lb(n){return(ug(n)?n.validators:n)||null}function rl(n){return Array.isArray(n)?sy(n):n||null}function Io(n,t){return(ug(t)?t.asyncValidators:n)||null}function ga(n){return Array.isArray(n)?oy(n):n||null}function ug(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class $D{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=rl(this._rawValidators),this._composedAsyncValidatorFn=ga(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Pd}get invalid(){return this.status===ef}get pending(){return this.status==Rs}get disabled(){return this.status===cg}get enabled(){return this.status!==cg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=rl(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=ga(t)}addValidators(t){this.setValidators(Ob(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Ob(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Rb(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Rb(t,this._rawAsyncValidators))}hasValidator(t){return kd(this._rawValidators,t)}hasAsyncValidator(t){return kd(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Rs,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=cg,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Pd,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pd||this.status===Rs)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?cg:Pd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Rs,this._hasOwnPendingAsyncValidator=!0;const e=Db(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?cg:this.errors?ef:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rs)?Rs:this._anyControlsHaveStatus(ef)?ef:Pd}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ug(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class So extends $D{constructor(t,e,i){super(Lb(e),Io(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function YD(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new s.vHH(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function Bb(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new s.vHH(1e3,"");if(!i[e])throw new s.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function hg(n,t){return[...t.path,n]}function fg(n,t){Vb(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function QD(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&_g(n,t)})}(n,t),function Hb(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Ub(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&_g(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function ay(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function pg(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),mg(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function gg(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Vb(n,t){const e=Mb(n);null!==t.validator?n.setValidators(zD(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=kb(n);null!==t.asyncValidator?n.setAsyncValidators(zD(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();gg(t._rawValidators,r),gg(t._rawAsyncValidators,r)}function mg(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=Mb(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(c=>c!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=kb(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(c=>c!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return gg(t._rawValidators,i),gg(t._rawAsyncValidators,i),e}function _g(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function zb(n,t){Vb(n,t)}function ly(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function eI(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Gb(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===il?e=o:function N1(n){return Object.getPrototypeOf(n.constructor)===ku}(o)?i=o:r=o}),r||i||e||null}const L1={provide:Xr,useExisting:(0,s.Gpc)(()=>tf)},yg=(()=>Promise.resolve())();let tf=(()=>{class n extends Xr{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new So({},sy(e),oy(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){yg.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),fg(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){yg.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){yg.then(()=>{const i=this._findContainer(e.path),r=new So({});zb(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){yg.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){yg.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,eI(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Dr,10),s.Y36(Gc,10))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([L1]),s.qOj]}),n})();function tI(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function nI(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const mn=class extends $D{constructor(t=null,e,i){super(Lb(e),Io(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ug(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=nI(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){tI(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){tI(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){nI(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},sI={provide:Yl,useExisting:(0,s.Gpc)(()=>cy)},Zb=(()=>Promise.resolve())();let cy=(()=>{class n extends Yl{constructor(e,i,r,o,c){super(),this._changeDetectorRef=c,this.control=new mn,this._registered=!1,this.update=new s.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Gb(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),ly(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){fg(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Zb.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,s.D6c)(i);Zb.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?hg(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Xr,9),s.Y36(Dr,10),s.Y36(Gc,10),s.Y36(Os,10),s.Y36(s.sBO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([sI]),s.qOj,s.TTD]}),n})(),Nd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const oI={provide:Os,useExisting:(0,s.Gpc)(()=>nf),multi:!0};let nf=(()=>{class n extends ku{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[s._Bn([oI]),s.qOj]}),n})(),uy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const uI=new s.OlP("NgModelWithFormControlWarning"),dI={provide:Xr,useExisting:(0,s.Gpc)(()=>To)};let To=(()=>{class n extends Xr{constructor(e,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(mg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return fg(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){pg(e.control||null,e,!1),function F1(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,eI(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(pg(i||null,e),(n=>n instanceof mn)(r)&&(fg(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);zb(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function JD(n,t){return mg(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Vb(this.form,this),this._oldForm&&mg(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Dr,10),s.Y36(Gc,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([dI]),s.qOj,s.TTD]}),n})();const rf={provide:Yl,useExisting:(0,s.Gpc)(()=>Ru)};let Ru=(()=>{class n extends Yl{constructor(e,i,r,o,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Gb(0,o)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),ly(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return hg(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(s.Y36(Xr,13),s.Y36(Dr,10),s.Y36(Gc,10),s.Y36(Os,10),s.Y36(uI,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([rf]),s.qOj,s.TTD]}),n})();const dy={provide:Os,useExisting:(0,s.Gpc)(()=>fI),multi:!0};function vg(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let fI=(()=>{class n extends ku{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=vg(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function $i(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&s.NdJ("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([dy]),s.qOj]}),n})(),$b=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(vg(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(fI,9))},n.\u0275dir=s.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const pI={provide:Os,useExisting:(0,s.Gpc)(()=>hy),multi:!0};function gI(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let hy=(()=>{class n extends ku{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(o=>this._getOptionId(o));i=(o,c)=>{o._setSelected(r.indexOf(c.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const c=o;for(let d=0;d<c.length;d++){const _=this._getOptionValue(c[d].value);r.push(_)}}else{const c=i.options;for(let d=0;d<c.length;d++){const p=c[d];if(p.selected){const _=this._getOptionValue(p.value);r.push(_)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function mI(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&s.NdJ("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([pI]),s.qOj]}),n})(),Kb=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(gI(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(gI(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(hy,9))},n.\u0275dir=s.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Bd=(()=>{class n{constructor(){this._validator=sg}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):sg,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();const fy={provide:Dr,useExisting:(0,s.Gpc)(()=>sf),multi:!0};let sf=(()=>{class n extends Bd{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=s.D6c,this.createValidator=e=>ng}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[s._Bn([fy]),s.qOj]}),n})(),DI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[uy]}),n})(),II=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[DI]}),n})(),py=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:uI,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[DI]}),n})();var wg=j(8247),K1=j(5226),Cg=j.n(K1),Eg=j(4986);function ew(){return(0,Si.e)((n,t)=>{let e,i=!1;n.subscribe((0,oi.x)(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}function tw(n,t=Ga.y){return n=n??SI,(0,Si.e)((e,i)=>{let r,o=!0;e.subscribe((0,oi.x)(i,c=>{const d=t(c);(o||!n(r,d))&&(o=!1,r=d,i.next(c))}))})}function SI(n,t){return n===t}j(5881);var Mt,nw=j(3942),Dg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qc={},iw=iw||{},ln=Dg||self;function gy(){}function Ig(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Sg(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var sw="closure_uid_"+(1e9*Math.random()>>>0),TI=0;function xI(n,t,e){return n.call.apply(n.bind,arguments)}function Q1(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function ds(n,t,e){return(ds=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xI:Q1).apply(null,arguments)}function my(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Ir(n,t){function e(){}e.prototype=t.prototype,n.X=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Wb=function(i,r,o){for(var c=Array(arguments.length-2),d=2;d<arguments.length;d++)c[d-2]=arguments[d];return t.prototype[r].apply(i,c)}}function Pu(){this.s=this.s,this.o=this.o}Pu.prototype.s=!1,Pu.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function rw(n){Object.prototype.hasOwnProperty.call(n,sw)&&n[sw]||(n[sw]=++TI)}(this)},Pu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kI=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function ow(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function OI(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(Ig(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let c=0;c<o;c++)n[r+c]=i[c]}else n.push(i)}}function hs(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}hs.prototype.h=function(){this.defaultPrevented=!0};var J1=function(){if(!ln.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ln.addEventListener("test",gy,t),ln.removeEventListener("test",gy,t)}catch{}return n}();function _y(n){return/^[\s\xa0]*$/.test(n)}var RI=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function aw(n,t){return n<t?-1:n>t?1:0}function Tg(){var n=ln.navigator;return n&&(n=n.userAgent)?n:""}function sl(n){return-1!=Tg().indexOf(n)}function lw(n){return lw[" "](n),n}lw[" "]=gy;var cf,n,PI=sl("Opera"),lf=sl("Trident")||sl("MSIE"),NI=sl("Edge"),cw=NI||lf,yy=sl("Gecko")&&!(-1!=Tg().toLowerCase().indexOf("webkit")&&!sl("Edge"))&&!(sl("Trident")||sl("MSIE"))&&!sl("Edge"),uw=-1!=Tg().toLowerCase().indexOf("webkit")&&!sl("Edge");function dw(){var n=ln.document;return n?n.documentMode:void 0}e:{var hw="",fw=(n=Tg(),yy?/rv:([^\);]+)(\)|;)/.exec(n):NI?/Edge\/([\d\.]+)/.exec(n):lf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):uw?/WebKit\/(\S+)/.exec(n):PI?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(fw&&(hw=fw?fw[1]:""),lf){var xg=dw();if(null!=xg&&xg>parseFloat(hw)){cf=String(xg);break e}}cf=hw}var ek={};var tk=ln.document&&lf&&(dw()||parseInt(cf,10))||void 0;function vy(n,t){if(hs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(yy){e:{try{lw(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:LI[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&vy.X.h.call(this)}}Ir(vy,hs);var LI={2:"touch",3:"pen",4:"mouse"};vy.prototype.h=function(){vy.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Vd="closure_listenable_"+(1e6*Math.random()|0),nk=0;function gw(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ha=r,this.key=++nk,this.ba=this.ea=!1}function Ay(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function by(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function wy(n){const t={};for(const e in n)t[e]=n[e];return t}const mw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _w(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<mw.length;o++)e=mw[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function Mg(n){this.src=n,this.g={},this.h=0}function Cy(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=kI(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Ay(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function yw(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.ba&&o.listener==t&&o.capture==!!e&&o.ha==i)return r}return-1}Mg.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var c=yw(n,t,i,r);return-1<c?(t=n[c],e||(t.ea=!1)):((t=new gw(t,this.src,o,!!i,r)).ea=e,n.push(t)),t};var vw="closure_lm_"+(1e6*Math.random()|0),Aw={};function BI(n,t,e,i,r){if(i&&i.once)return ww(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)BI(n,t[o],e,i,r);return null}return e=Ey(e),n&&n[Vd]?n.N(t,e,Sg(i)?!!i.capture:!!i,r):bw(n,t,e,!1,i,r)}function bw(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var c=Sg(r)?!!r.capture:!!r,d=Ew(n);if(d||(n[vw]=d=new Mg(n)),(e=d.add(t,e,i,c,o)).proxy)return e;if(i=function HL(){const t=zL;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)J1||(r=c),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(ik(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function ww(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)ww(n,t[o],e,i,r);return null}return e=Ey(e),n&&n[Vd]?n.O(t,e,Sg(i)?!!i.capture:!!i,r):bw(n,t,e,!0,i,r)}function VI(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)VI(n,t[o],e,i,r);else i=Sg(i)?!!i.capture:!!i,e=Ey(e),n&&n[Vd]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=yw(o=n.g[t],e,i,r))&&(Ay(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=Ew(n))&&(t=n.g[t.toString()],n=-1,t&&(n=yw(t,e,i,r)),(e=-1<n?t[n]:null)&&Cw(e))}function Cw(n){if("number"!=typeof n&&n&&!n.ba){var t=n.src;if(t&&t[Vd])Cy(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(ik(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=Ew(t))?(Cy(e,n),0==e.h&&(e.src=null,t[vw]=null)):Ay(n)}}}function ik(n){return n in Aw?Aw[n]:Aw[n]="on"+n}function zL(n,t){if(n.ba)n=!0;else{t=new vy(t,this);var e=n.listener,i=n.ha||n.src;n.ea&&Cw(n),n=e.call(i,t)}return n}function Ew(n){return(n=n[vw])instanceof Mg?n:null}var Dw="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ey(n){return"function"==typeof n?n:(n[Dw]||(n[Dw]=function(t){return n.handleEvent(t)}),n[Dw])}function Sr(){Pu.call(this),this.i=new Mg(this),this.P=this,this.I=null}function qr(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new hs(t,n);else if(t instanceof hs)t.target=t.target||n;else{var r=t;_w(t=new hs(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var c=t.g=e[o];r=kg(c,i,!0,t)&&r}if(r=kg(c=t.g=n,i,!0,t)&&r,r=kg(c,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=kg(c=t.g=e[o],i,!1,t)&&r}function kg(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var c=t[o];if(c&&!c.ba&&c.capture==e){var d=c.listener,p=c.ha||c.src;c.ea&&Cy(n.i,c),r=!1!==d.call(p,i)&&r}}return r&&!i.defaultPrevented}Ir(Sr,Pu),Sr.prototype[Vd]=!0,Sr.prototype.removeEventListener=function(n,t,e,i){VI(this,n,t,e,i)},Sr.prototype.M=function(){if(Sr.X.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)Ay(e[i]);delete n.g[t],n.h--}}this.I=null},Sr.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Sr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var Iw=ln.JSON.stringify;function rk(){var n=Sw;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var Dy,UI=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new ok,n=>n.reset());class ok{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function ak(n){ln.setTimeout(()=>{throw n},0)}function uf(n,t){Dy||function HI(){var n=ln.Promise.resolve(void 0);Dy=function(){n.then(zI)}}(),Iy||(Dy(),Iy=!0),Sw.add(n,t)}var Iy=!1,Sw=new class sk{constructor(){this.h=this.g=null}add(t,e){const i=UI.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function zI(){for(var n;n=rk();){try{n.h.call(n.g)}catch(e){ak(e)}var t=UI;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Iy=!1}function Og(n,t){Sr.call(this),this.h=n||1,this.g=t||ln,this.j=ds(this.lb,this),this.l=Date.now()}function Tw(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function jI(n,t,e){if("function"==typeof n)e&&(n=ds(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ds(n.handleEvent,n)}return 2147483647<Number(t)?-1:ln.setTimeout(n,t||0)}function xw(n){n.g=jI(()=>{n.g=null,n.i&&(n.i=!1,xw(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Ir(Og,Sr),(Mt=Og.prototype).ca=!1,Mt.R=null,Mt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),qr(this,"tick"),this.ca&&(Tw(this),this.start()))}},Mt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Mt.M=function(){Og.X.M.call(this),Tw(this),delete this.g};class lk extends Pu{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:xw(this)}M(){super.M(),this.g&&(ln.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rg(n){Pu.call(this),this.h=n,this.g={}}Ir(Rg,Pu);var GI=[];function qI(n,t,e,i){Array.isArray(e)||(e&&(GI[0]=e.toString()),e=GI);for(var r=0;r<e.length;r++){var o=BI(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function df(n){by(n.g,function(t,e){this.g.hasOwnProperty(e)&&Cw(t)},n),n.g={}}function Sy(){this.g=!0}function hf(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function Pg(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var c=1;c<r.length;c++)r[c]=""}}}return Iw(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Rg.prototype.M=function(){Rg.X.M.call(this),df(this)},Rg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Sy.prototype.Aa=function(){this.g=!1},Sy.prototype.info=function(){};var Ud={},ZI=null;function Ty(){return ZI=ZI||new Sr}function Ng(n){hs.call(this,Ud.Pa,n)}function Fu(n){const t=Ty();qr(t,new Ng(t))}function WI(n,t){hs.call(this,Ud.STAT_EVENT,n),this.stat=t}function Ps(n){const t=Ty();qr(t,new WI(t,n))}function Ow(n,t){hs.call(this,Ud.Qa,n),this.size=t}function ff(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ln.setTimeout(function(){n()},t)}Ud.Pa="serverreachability",Ir(Ng,hs),Ud.STAT_EVENT="statevent",Ir(WI,hs),Ud.Qa="timingevent",Ir(Ow,hs);var pf={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Rw={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Pw(){}function ck(){}Pw.prototype.h=null;var Lg,Hd={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Fg(){hs.call(this,"d")}function xy(){hs.call(this,"c")}function gf(){}function Bg(n,t,e,i){this.l=n,this.j=t,this.m=e,this.U=i||1,this.S=new Rg(this),this.O=uk,this.T=new Og(n=cw?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new $I}function $I(){this.i=null,this.g="",this.h=!1}Ir(Fg,hs),Ir(xy,hs),Ir(gf,Pw),gf.prototype.g=function(){return new XMLHttpRequest},gf.prototype.i=function(){return{}},Lg=new gf;var uk=45e3,Nw={},Vg={};function Ug(n,t,e){n.K=1,n.v=My(Kl(t)),n.s=e,n.P=!0,Fw(n,null)}function Fw(n,t){n.F=Date.now(),Hg(n),n.A=Kl(n.v);var e=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),jw(e.i,"t",i),n.C=0,e=n.l.H,n.h=new $I,n.g=yS(n.l,e?t:null,!n.s),0<n.N&&(n.L=new lk(ds(n.La,n,n.g),n.N)),qI(n.S,n.g,"readystatechange",n.ib),t=n.H?wy(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,t)):(n.u="GET",n.g.da(n.A,n.u,null,t)),Fu(),function Mw(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var c="",d=o.split("&"),p=0;p<d.length;p++){var _=d[p].split("=");if(1<_.length){var b=_[0];_=_[1];var I=b.split("_");c=2<=I.length&&"type"==I[1]?c+(b+"=")+_+"&":c+(b+"=redacted&")}}else c=null;else c=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function Lw(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function Bw(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=KI(n,e),r==Vg){4==t&&(n.o=4,Ps(14),i=!1),hf(n.j,n.m,null,"[Incomplete Response]");break}if(r==Nw){n.o=4,Ps(15),hf(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}hf(n.j,n.m,r,null),Uw(n,r)}Lw(n)&&r!=Vg&&r!=Nw&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Ps(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.$&&(n.$=!0,(t=n.l).g==n&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),Qw(t),t.K=!0,Ps(11))):(hf(n.j,n.m,e,"[Invalid Chunked Response]"),Lu(n),jg(n))}function KI(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?Vg:(e=Number(t.substring(e,i)),isNaN(e)?Nw:(i+=1)+e>t.length?Vg:(t=t.substr(i,e),n.C=i+e,t))}function Hg(n){n.V=Date.now()+n.O,Vw(n,n.O)}function Vw(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=ff(ds(n.gb,n),t)}function zg(n){n.B&&(ln.clearTimeout(n.B),n.B=null)}function jg(n){0==n.l.G||n.I||wk(n.l,n)}function Lu(n){zg(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,Tw(n.T),df(n.S),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function Uw(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||Gw(e.h,n)))if(!n.J&&Gw(e.h,n)&&3==e.G){try{var i=e.Fa.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;Fy(e),Kg(e)}Kw(e),Ps(18)}}else e.Ba=r[1],0<e.Ba-e.T&&37500>r[2]&&e.L&&0==e.A&&!e.v&&(e.v=ff(ds(e.cb,e),6e3));if(1>=fk(e.h)&&e.ja){try{e.ja()}catch{}e.ja=void 0}}else Ef(e,11)}else if((n.J||e.g==n)&&Fy(e),!_y(t))for(r=e.Fa.g.parse(t),t=0;t<r.length;t++){let _=r[t];if(e.T=_[0],_=_[1],2==e.G)if("c"==_[0]){e.I=_[1],e.ka=_[2];const b=_[3];null!=b&&(e.ma=b,e.j.info("VER="+e.ma));const I=_[4];null!=I&&(e.Ca=I,e.j.info("SVER="+e.Ca));const O=_[5];null!=O&&"number"==typeof O&&0<O&&(e.J=i=1.5*O,e.j.info("backChannelRequestTimeoutMs_="+i)),i=e;const B=n.g;if(B){const z=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(z){var o=i.h;o.g||-1==z.indexOf("spdy")&&-1==z.indexOf("quic")&&-1==z.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(qw(o,o.h),o.h=null))}if(i.D){const X=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;X&&(i.za=X,xi(i.F,i.D,X))}}e.G=3,e.l&&e.l.xa(),e.$&&(e.P=Date.now()-n.F,e.j.info("Handshake RTT: "+e.P+"ms"));var c=n;if((i=e).sa=_S(i,i.H?i.ka:null,i.V),c.J){oS(i.h,c);var d=c,p=i.J;p&&d.setTimeout(p),d.B&&(zg(d),Hg(d)),i.g=c}else gS(i);0<e.i.length&&wf(e)}else"stop"!=_[0]&&"close"!=_[0]||Ef(e,7);else 3==e.G&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?Ef(e,7):Ny(e):"noop"!=_[0]&&e.l&&e.l.wa(_),e.A=0)}Fu()}catch{}}function QI(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(Ig(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function mf(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Ig(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function Ns(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Ig(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}(Mt=Bg.prototype).setTimeout=function(n){this.O=n},Mt.ib=function(n){n=n.target;const t=this.L;t&&3==Vu(n)?t.l():this.La(n)},Mt.La=function(n){try{if(n==this.g)e:{const b=Vu(this.g);var t=this.g.Ea();if(this.g.aa(),!(3>b)&&(3!=b||cw||this.g&&(this.h.h||this.g.fa()||vk(this.g)))){this.I||4!=b||7==t||Fu(),zg(this);var e=this.g.aa();this.Y=e;t:if(Lw(this)){var i=vk(this.g);n="";var r=i.length,o=4==Vu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Lu(this),jg(this);var c="";break t}this.h.i=new ln.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==e,function $l(n,t,e,i,r,o,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+c})}(this.j,this.u,this.A,this.m,this.U,b,e),this.i){if(this.Z&&!this.J){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_y(d)){var _=d;break t}}_=null}if(!(e=_)){this.i=!1,this.o=3,Ps(12),Lu(this),jg(this);break e}hf(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Uw(this,e)}this.P?(Bw(this,b,c),cw&&this.i&&3==b&&(qI(this.S,this.T,"tick",this.hb),this.T.start())):(hf(this.j,this.m,c,null),Uw(this,c)),4==b&&Lu(this),this.i&&!this.I&&(4==b?wk(this.l,this):(this.i=!1,Hg(this)))}else 400==e&&0<c.indexOf("Unknown SID")?(this.o=3,Ps(12)):(this.o=0,Ps(13)),Lu(this),jg(this)}}}catch{}},Mt.hb=function(){if(this.g){var n=Vu(this.g),t=this.g.fa();this.C<t.length&&(zg(this),Bw(this,n,t),this.i&&4!=n&&Hg(this))}},Mt.cancel=function(){this.I=!0,Lu(this)},Mt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function kw(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Fu(),Ps(17)),Lu(this),this.o=2,jg(this)):Vw(this,this.V-n)};var JI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _f(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof _f){this.h=void 0!==t?t:n.h,Gg(this,n.j),this.s=n.s,this.g=n.g,Bu(this,n.m),this.l=n.l,t=n.i;var e=new zd;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),XI(this,e),this.o=n.o}else n&&(e=String(n).match(JI))?(this.h=!!t,Gg(this,e[1]||"",!0),this.s=yf(e[2]||""),this.g=yf(e[3]||"",!0),Bu(this,e[4]),this.l=yf(e[5]||"",!0),XI(this,e[6]||"",!0),this.o=yf(e[7]||"")):(this.h=!!t,this.i=new zd(null,this.h))}function Kl(n){return new _f(n)}function Gg(n,t,e){n.j=e?yf(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function Bu(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function XI(n,t,e){t instanceof zd?(n.i=t,function hk(n,t){t&&!n.j&&(jd(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(zw(this,i),jw(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=qg(t,nS)),n.i=new zd(t,n.h))}function xi(n,t,e){n.i.set(t,e)}function My(n){return xi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function yf(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function qg(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,dk),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function dk(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}_f.prototype.toString=function(){var n=[],t=this.j;t&&n.push(qg(t,eS,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(qg(t,eS,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(qg(e,"/"==e.charAt(0)?tS:Hw,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",qg(e,ky)),n.join("")};var eS=/[#\/\?@]/g,Hw=/[#\?:]/g,tS=/[#\?]/g,nS=/[#\?@]/g,ky=/#/g;function zd(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function jd(n){n.g||(n.g=new Map,n.h=0,n.i&&function jL(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function zw(n,t){jd(n),t=ol(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function iS(n,t){return jd(n),t=ol(n,t),n.g.has(t)}function jw(n,t,e){zw(n,t),0<e.length&&(n.i=null,n.g.set(ol(n,t),ow(e)),n.h+=e.length)}function ol(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function Oy(n){this.l=n||GL,n=ln.PerformanceNavigationTiming?0<(n=ln.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ln.g&&ln.g.Ga&&ln.g.Ga()&&ln.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Mt=zd.prototype).add=function(n,t){jd(this),this.i=null,n=ol(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},Mt.forEach=function(n,t){jd(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},Mt.oa=function(){jd(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let o=0;o<r.length;o++)e.push(t[i])}return e},Mt.W=function(n){jd(this);let t=[];if("string"==typeof n)iS(this,n)&&(t=t.concat(this.g.get(ol(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},Mt.set=function(n,t){return jd(this),this.i=null,iS(this,n=ol(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},Mt.get=function(n,t){return n&&0<(n=this.W(n)).length?String(n[0]):t},Mt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const o=encodeURIComponent(String(i)),c=this.W(i);for(i=0;i<c.length;i++){var r=o;""!==c[i]&&(r+="="+encodeURIComponent(String(c[i]))),n.push(r)}}return this.i=n.join("&")};var GL=10;function sS(n){return!!n.h||!!n.g&&n.g.size>=n.j}function fk(n){return n.h?1:n.g?n.g.size:0}function Gw(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function qw(n,t){n.g?n.g.add(t):n.h=t}function oS(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function Zw(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return ow(n.i)}function Ry(){}function pk(){this.g=new Ry}function aS(n,t,e){const i=e||"";try{QI(n,function(r,o){let c=r;Sg(r)&&(c=Iw(r)),t.push(i+o+"="+encodeURIComponent(c))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function Py(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Zg(n){this.l=n.ac||null,this.j=n.jb||!1}function Wg(n,t){Sr.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=Ww,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Oy.prototype.cancel=function(){if(this.i=Zw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Ry.prototype.stringify=function(n){return ln.JSON.stringify(n,void 0)},Ry.prototype.parse=function(n){return ln.JSON.parse(n,void 0)},Ir(Zg,Pw),Zg.prototype.g=function(){return new Wg(this.l,this.j)},Zg.prototype.i=function(n){return function(){return n}}({}),Ir(Wg,Sr);var Ww=0;function Yw(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function vf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Af(n)}function Af(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Mt=Wg.prototype).open=function(n,t){if(this.readyState!=Ww)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Af(this)},Mt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||ln).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Mt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,vf(this)),this.readyState=Ww},Mt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Af(this)),this.g&&(this.readyState=3,Af(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof ln.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Yw(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},Mt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?vf(this):Af(this),3==this.readyState&&Yw(this)}},Mt.Va=function(n){this.g&&(this.response=this.responseText=n,vf(this))},Mt.Ua=function(n){this.g&&(this.response=n,vf(this))},Mt.ga=function(){this.g&&vf(this)},Mt.setRequestHeader=function(n,t){this.v.append(n,t)},Mt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Mt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Wg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var cS=ln.JSON.parse;function Ki(n){Sr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=uS,this.K=this.L=!1}Ir(Ki,Sr);var uS="",qL=/^https?$/i,dS=["POST","PUT"];function gk(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,mk(n),$w(n)}function mk(n){n.D||(n.D=!0,qr(n,"complete"),qr(n,"error"))}function _k(n){if(n.h&&typeof iw<"u"&&(!n.C[1]||4!=Vu(n)||2!=n.aa()))if(n.v&&4==Vu(n))jI(n.Ha,0,n);else if(qr(n,"readystatechange"),4==Vu(n)){n.h=!1;try{const d=n.aa();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===d){var r=String(n.H).match(JI)[1]||null;if(!r&&ln.self&&ln.self.location){var o=ln.self.location.protocol;r=o.substr(0,o.length-1)}i=!qL.test(r?r.toLowerCase():"")}e=i}if(e)qr(n,"complete"),qr(n,"success");else{n.m=6;try{var c=2<Vu(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",mk(n)}}finally{$w(n)}}}function $w(n,t){if(n.g){yk(n);const e=n.g,i=n.C[0]?gy:null;n.g=null,n.C=null,t||qr(n,"ready");try{e.onreadystatechange=i}catch{}}}function yk(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(ln.clearTimeout(n.A),n.A=null)}function Vu(n){return n.g?n.g.readyState:0}function vk(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case uS:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Yg(n){let t="";return by(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function hS(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=Yg(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):xi(n,t,e))}function bf(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function $g(n){this.Ca=0,this.i=[],this.j=new Sy,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=bf("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=bf("baseRetryDelayMs",5e3,n),this.bb=bf("retryDelaySeedMs",1e4,n),this.$a=bf("forwardChannelMaxRetries",2,n),this.ta=bf("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new Oy(n&&n.concurrentRequestLimit),this.Fa=new pk,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Ny(n){if(Ak(n),3==n.G){var t=n.U++,e=Kl(n.F);xi(e,"SID",n.I),xi(e,"RID",t),xi(e,"TYPE","terminate"),Cf(n,e),(t=new Bg(n,n.j,t,void 0)).K=2,t.v=My(Kl(e)),e=!1,ln.navigator&&ln.navigator.sendBeacon&&(e=ln.navigator.sendBeacon(t.v.toString(),"")),!e&&ln.Image&&((new Image).src=t.v,e=!0),e||(t.g=yS(t.l,null),t.g.da(t.v)),t.F=Date.now(),Hg(t)}mS(n)}function Kg(n){n.g&&(Qw(n),n.g.cancel(),n.g=null)}function Ak(n){Kg(n),n.u&&(ln.clearTimeout(n.u),n.u=null),Fy(n),n.h.cancel(),n.m&&("number"==typeof n.m&&ln.clearTimeout(n.m),n.m=null)}function wf(n){sS(n.h)||n.m||(n.m=!0,uf(n.Ja,n),n.C=0)}function pS(n,t){var e;e=t?t.m:n.U++;const i=Kl(n.F);xi(i,"SID",n.I),xi(i,"RID",e),xi(i,"AID",n.T),Cf(n,i),n.o&&n.s&&hS(i,n.o,n.s),e=new Bg(n,n.j,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.i=t.D.concat(n.i)),t=bk(n,e,1e3),e.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),qw(n.h,e),Ug(e,i,t)}function Cf(n,t){n.ia&&by(n.ia,function(e,i){xi(t,i,e)}),n.l&&QI({},function(e,i){xi(t,i,e)})}function bk(n,t,e){e=Math.min(n.i.length,e);var i=n.l?ds(n.l.Ra,n.l,n):null;e:{var r=n.i;let o=-1;for(;;){const c=["count="+e];-1==o?0<e?(o=r[0].h,c.push("ofs="+o)):o=0:c.push("ofs="+o);let d=!0;for(let p=0;p<e;p++){let _=r[p].h;const b=r[p].g;if(_-=o,0>_)o=Math.max(0,r[p].h-100),d=!1;else try{aS(b,c,"req"+_+"_")}catch{i&&i(b)}}if(d){i=c.join("&");break e}}}return n=n.i.splice(0,e),t.D=n,i}function gS(n){n.g||n.u||(n.Z=1,uf(n.Ia,n),n.A=0)}function Kw(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=ff(ds(n.Ia,n),Ck(n,n.A)),n.A++,0))}function Qw(n){null!=n.B&&(ln.clearTimeout(n.B),n.B=null)}function Qg(n){n.g=new Bg(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var t=Kl(n.sa);xi(t,"RID","rpc"),xi(t,"SID",n.I),xi(t,"CI",n.L?"0":"1"),xi(t,"AID",n.T),xi(t,"TYPE","xmlhttp"),Cf(n,t),n.o&&n.s&&hS(t,n.o,n.s),n.J&&n.g.setTimeout(n.J);var e=n.g;n=n.ka,e.K=1,e.v=My(Kl(t)),e.s=null,e.P=!0,Fw(e,n)}function Fy(n){null!=n.v&&(ln.clearTimeout(n.v),n.v=null)}function wk(n,t){var e=null;if(n.g==t){Fy(n),Qw(n),n.g=null;var i=2}else{if(!Gw(n.h,t))return;e=t.D,oS(n.h,t),i=1}if(0!=n.G)if(n.pa=t.Y,t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;qr(i=Ty(),new Ow(i,e)),wf(n)}else gS(n);else if(3==(r=t.o)||0==r&&0<n.pa||!(1==i&&function fS(n,t){return!(fk(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=t.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=ff(ds(n.Ja,n,t),Ck(n,n.C)),n.C++,0)))}(n,t)||2==i&&Kw(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),r){case 1:Ef(n,5);break;case 4:Ef(n,10);break;case 3:Ef(n,6);break;default:Ef(n,2)}}function Ck(n,t){let e=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(e*=2),e*t}function Ef(n,t){if(n.j.info("Error code "+t),2==t){var e=null;n.l&&(e=null);var i=ds(n.kb,n);e||(e=new _f("//www.google.com/images/cleardot.gif"),ln.location&&"http"==ln.location.protocol||Gg(e,"https"),My(e)),function lS(n,t){const e=new Sy;if(ln.Image){const i=new Image;i.onload=my(Py,e,i,"TestLoadImage: loaded",!0,t),i.onerror=my(Py,e,i,"TestLoadImage: error",!1,t),i.onabort=my(Py,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=my(Py,e,i,"TestLoadImage: timeout",!1,t),ln.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Ps(2);n.G=0,n.l&&n.l.va(t),mS(n),Ak(n)}function mS(n){if(n.G=0,n.la=[],n.l){const t=Zw(n.h);(0!=t.length||0!=n.i.length)&&(OI(n.la,t),OI(n.la,n.i),n.h.i.length=0,ow(n.i),n.i.length=0),n.l.ua()}}function _S(n,t,e){var i=e instanceof _f?Kl(e):new _f(e,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),Bu(i,i.m);else{var r=ln.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new _f(null,void 0);i&&Gg(o,i),t&&(o.g=t),r&&Bu(o,r),e&&(o.l=e),i=o}return t=n.za,(e=n.D)&&t&&xi(i,e,t),xi(i,"VER",n.ma),Cf(n,i),i}function yS(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Ki(e&&n.Da&&!n.ra?new Zg({jb:!0}):n.ra)).Ka(n.H),t}function Ek(){}function Ly(){if(lf&&!(10<=Number(tk)))throw Error("Environmental error: no available transport.")}function to(n,t){Sr.call(this),this.g=new $g(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.S=n,(n=t&&t.Yb)&&!_y(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!_y(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new fs(this)}function Jw(n){Fg.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function Dk(){xy.call(this),this.status=1}function fs(n){this.g=n}(Mt=Ki.prototype).Ka=function(n){this.L=n},Mt.da=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Lg.g(),this.C=function YI(n){return n.h||(n.h=n.i())}(this.u?this.u:Lg),this.g.onreadystatechange=ds(this.Ha,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(o){return void gk(this,o)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())e.set(o,i.get(o))}i=Array.from(e.keys()).find(o=>"content-type"==o.toLowerCase()),r=ln.FormData&&n instanceof ln.FormData,!(0<=kI(dS,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,c]of e)this.g.setRequestHeader(o,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{yk(this),0<this.B&&((this.K=function ZL(n){return lf&&function FI(){return function X1(n){var t=ek;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=RI(String(cf)).split("."),e=RI("9").split("."),i=Math.max(t.length,e.length);for(let c=0;0==n&&c<i;c++){var r=t[c]||"",o=e[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=aw(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||aw(0==r[2].length,0==o[2].length)||aw(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ds(this.qa,this)):this.A=jI(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){gk(this,o)}},Mt.qa=function(){typeof iw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qr(this,"timeout"),this.abort(8))},Mt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,qr(this,"complete"),qr(this,"abort"),$w(this))},Mt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$w(this,!0)),Ki.X.M.call(this)},Mt.Ha=function(){this.s||(this.F||this.v||this.l?_k(this):this.fb())},Mt.fb=function(){_k(this)},Mt.aa=function(){try{return 2<Vu(this)?this.g.status:-1}catch{return-1}},Mt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Mt.Sa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),cS(t)}},Mt.Ea=function(){return this.m},Mt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Mt=$g.prototype).ma=8,Mt.G=1,Mt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new Bg(this,this.j,n,void 0);let o=this.s;if(this.S&&(o?(o=wy(o),_w(o,this.S)):o=this.S),null!==this.o||this.N||(r.H=o,o=null),this.O)e:{for(var t=0,e=0;e<this.i.length;e++){var i=this.i[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=bk(this,r,t),xi(e=Kl(this.F),"RID",n),xi(e,"CVER",22),this.D&&xi(e,"X-HTTP-Session-Id",this.D),Cf(this,e),o&&(this.N?t="headers="+encodeURIComponent(String(Yg(o)))+"&"+t:this.o&&hS(e,this.o,o)),qw(this.h,r),this.Ya&&xi(e,"TYPE","init"),this.O?(xi(e,"$req",t),xi(e,"SID","null"),r.Z=!0,Ug(r,e,null)):Ug(r,e,t),this.G=2}}else 3==this.G&&(n?pS(this,n):0==this.i.length||sS(this.h)||pS(this))},Mt.Ia=function(){if(this.u=null,Qg(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=ff(ds(this.eb,this),n)}},Mt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ps(10),Kg(this),Qg(this))},Mt.cb=function(){null!=this.v&&(this.v=null,Kg(this),Kw(this),Ps(19))},Mt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Ps(2)):(this.j.info("Failed to ping google.com"),Ps(1))},(Mt=Ek.prototype).xa=function(){},Mt.wa=function(){},Mt.va=function(){},Mt.ua=function(){},Mt.Ra=function(){},Ly.prototype.g=function(n,t){return new to(n,t)},Ir(to,Sr),to.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;Ps(0),n.V=t,n.ia=e||{},n.L=n.Y,n.F=_S(n,null,n.V),wf(n)},to.prototype.close=function(){Ny(this.g)},to.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=Iw(n),n=e);t.i.push(new class{constructor(n,t){this.h=n,this.g=t}}(t.ab++,n)),3==t.G&&wf(t)},to.prototype.M=function(){this.g.l=null,delete this.j,Ny(this.g),delete this.g,to.X.M.call(this)},Ir(Jw,Fg),Ir(Dk,xy),Ir(fs,Ek),fs.prototype.xa=function(){qr(this.g,"a")},fs.prototype.wa=function(n){qr(this.g,new Jw(n))},fs.prototype.va=function(n){qr(this.g,new Dk)},fs.prototype.ua=function(){qr(this.g,"b")},Ly.prototype.createWebChannel=Ly.prototype.g,to.prototype.send=to.prototype.u,to.prototype.open=to.prototype.m,to.prototype.close=to.prototype.close,pf.NO_ERROR=0,pf.TIMEOUT=8,pf.HTTP_ERROR=6,Rw.COMPLETE="complete",ck.EventType=Hd,Hd.OPEN="a",Hd.CLOSE="b",Hd.ERROR="c",Hd.MESSAGE="d",Sr.prototype.listen=Sr.prototype.N,Ki.prototype.listenOnce=Ki.prototype.O,Ki.prototype.getLastError=Ki.prototype.Oa,Ki.prototype.getLastErrorCode=Ki.prototype.Ea,Ki.prototype.getStatus=Ki.prototype.aa,Ki.prototype.getResponseJson=Ki.prototype.Sa,Ki.prototype.getResponseText=Ki.prototype.fa,Ki.prototype.send=Ki.prototype.da,Ki.prototype.setWithCredentials=Ki.prototype.Ka;var Ik=qc.createWebChannelTransport=function(){return new Ly},Xw=qc.getStatEventTarget=function(){return Ty()},e0=qc.ErrorCode=pf,ma=qc.EventType=Rw,Sk=qc.Event=Ud,By=qc.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Tk=qc.FetchXmlHttpFactory=Zg,Vy=qc.WebChannel=ck,t0=qc.XhrIo=Ki;const n0="@firebase/firestore";class Tr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Tr.UNAUTHENTICATED=new Tr(null),Tr.GOOGLE_CREDENTIALS=new Tr("google-credentials-uid"),Tr.FIRST_PARTY=new Tr("first-party-uid"),Tr.MOCK_USER=new Tr("mock-user");let Df="9.14.0";const Zc=new el.Yd("@firebase/firestore");function Uy(){return Zc.logLevel}function tt(n,...t){if(Zc.logLevel<=el.in.DEBUG){const e=t.map(Ql);Zc.debug(`Firestore (${Df}): ${n}`,...e)}}function or(n,...t){if(Zc.logLevel<=el.in.ERROR){const e=t.map(Ql);Zc.error(`Firestore (${Df}): ${n}`,...e)}}function Wc(n,...t){if(Zc.logLevel<=el.in.WARN){const e=t.map(Ql);Zc.warn(`Firestore (${Df}): ${n}`,...e)}}function Ql(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Et(n="Unexpected state"){const t=`FIRESTORE (${Df}) INTERNAL ASSERTION FAILED: `+n;throw or(t),new Error(t)}function $t(n,t){n||Et()}function gt(n,t){return n}const Ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ye extends G.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class vS{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Mk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Tr.UNAUTHENTICATED))}shutdown(){}}class AS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class WL{constructor(t){this.t=t,this.currentUser=Tr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=_=>this.i!==r?(r=this.i,e(_)):Promise.resolve();let c=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new xr,t.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const _=c;t.enqueueRetryable((0,xe.Z)(function*(){yield _.promise,yield o(i.currentUser)}))},p=_=>{tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new xr)}},0),d()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?($t("string"==typeof i.accessToken),new vS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return $t(null===t||"string"==typeof t),new Tr(t)}}class bS{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r,this.type="FirstParty",this.user=Tr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():($t(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class kk{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r}getToken(){return Promise.resolve(new bS(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e(Tr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YL{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const i=o=>{null!=o.error&&tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.A;return this.A=o.token,tt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.T.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.T.getImmediate({optional:!0});o?r(o):tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?($t("string"==typeof e.token),this.A=e.token,new r0(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function CS(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class s0{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=CS(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function cn(n,t){return n<t?-1:n>t?1:0}function Gd(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function o0(n){return n+"\0"}class vi{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ye(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ye(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ye(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ye(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return vi.fromMillis(Date.now())}static fromDate(t){return vi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new vi(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?cn(this.nanoseconds,t.nanoseconds):cn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Gt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Gt(t)}static min(){return new Gt(new vi(0,0))}static max(){return new Gt(new vi(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class If{constructor(t,e,i){void 0===e?e=0:e>t.length&&Et(),void 0===i?i=t.length-e:i>t.length-e&&Et(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===If.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof If?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),c=e.get(r);if(o<c)return-1;if(o>c)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Un extends If{construct(t,e,i){return new Un(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ye(Ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Un(e)}static emptyPath(){return new Un([])}}const ES=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hi extends If{construct(t,e,i){return new Hi(t,e,i)}static isValidIdentifier(t){return ES.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Hi(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Ye(Ie.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const d=t[r];if("\\"===d){if(r+1===t.length)throw new Ye(Ie.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Ye(Ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=p,r+=2}else"`"===d?(c=!c,r++):"."!==d||c?(i+=d,r++):(o(),r++)}if(o(),c)throw new Ye(Ie.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Hi(e)}static emptyPath(){return new Hi([])}}class ft{constructor(t){this.path=t}static fromPath(t){return new ft(Un.fromString(t))}static fromName(t){return new ft(Un.fromString(t).popFirst(5))}static empty(){return new ft(Un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Un.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Un.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new Un(t.slice()))}}class Hy{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function DS(n){return n.fields.find(t=>2===t.kind)}function Sf(n){return n.fields.filter(t=>2!==t.kind)}Hy.UNKNOWN_ID=-1;class zy{constructor(t,e){this.fieldPath=t,this.kind=e}}class Jg{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Jg(0,_a.min())}}function Rk(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Gt.fromTimestamp(1e9===i?new vi(e+1,0):new vi(e,i));return new _a(r,ft.empty(),t)}function Pk(n){return new _a(n.readTime,n.key,-1)}class _a{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new _a(Gt.min(),ft.empty(),-1)}static max(){return new _a(Gt.max(),ft.empty(),-1)}}function SS(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=ft.comparator(n.documentKey,t.documentKey),0!==e?e:cn(n.largestBatchId,t.largestBatchId))}const Nk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function al(n){return a0.apply(this,arguments)}function a0(){return a0=(0,xe.Z)(function*(n){if(n.code!==Ie.FAILED_PRECONDITION||n.message!==Nk)throw n;tt("LocalStore","Unexpectedly lost primary lease")}),a0.apply(this,arguments)}class Ce{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Ce((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Ce?e:Ce.resolve(e)}catch(e){return Ce.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Ce.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Ce.reject(e)}static resolve(t){return new Ce((e,i)=>{e(t)})}static reject(t){return new Ce((e,i)=>{i(t)})}static waitFor(t){return new Ce((e,i)=>{let r=0,o=0,c=!1;t.forEach(d=>{++r,d.next(()=>{++o,c&&o===r&&e()},p=>i(p))}),c=!0,o===r&&e()})}static or(t){let e=Ce.resolve(!1);for(const i of t)e=e.next(r=>r?Ce.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new Ce((i,r)=>{const o=t.length,c=new Array(o);let d=0;for(let p=0;p<o;p++){const _=p;e(t[_]).next(b=>{c[_]=b,++d,d===o&&i(c)},b=>r(b))}})}static doWhile(t,e){return new Ce((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class Xg{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.P=new xr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{e.error?this.P.reject(new qd(t,e.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=Tf(i.target.error);this.P.reject(new qd(t,r))}}static open(t,e,i,r){try{return new Xg(e,t.transaction(r,i))}catch(o){throw new qd(e,o)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||(tt("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new Fk(e)}}class es{constructor(t,e,i){this.name=t,this.version=e,this.S=i,12.2===es.D((0,G.z$)())&&or("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return tt("SimpleDb","Removing database:",t),$c(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,G.hl)())return!1;if(es.N())return!0;const t=(0,G.z$)(),e=es.D(t),i=0<e&&e<10,r=es.k(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static N(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.O)}static M(t,e){return t.store(e)}static D(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(t){var e=this;return(0,xe.Z)(function*(){return e.db||(tt("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=c=>{i(c.target.result)},o.onblocked=()=>{r(new qd(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=c=>{const d=c.target.error;r("VersionError"===d.name?new Ye(Ie.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new Ye(Ie.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new qd(t,d))},o.onupgradeneeded=c=>{tt("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',c.oldVersion),e.S.$(c.target.result,o.transaction,c.oldVersion,e.version).next(()=>{tt("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,xe.Z)(function*(){const c="readonly"===e;let d=0;for(;;){++d;try{o.db=yield o.F(t);const p=Xg.open(o.db,t,c?"readonly":"readwrite",i),_=r(p).next(b=>(p.V(),b)).catch(b=>(p.abort(b),Ce.reject(b))).toPromise();return _.catch(()=>{}),yield p.v,_}catch(p){const _=p,b="FirebaseError"!==_.name&&d<3;if(tt("SimpleDb","Transaction failed with error:",_.message,"Retrying:",b),o.close(),!b)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class xS{constructor(t){this.U=t,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(t){this.U=t}done(){this.q=!0}j(t){this.K=t}delete(){return $c(this.U.delete())}}class qd extends Ye{constructor(t,e){super(Ie.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Jl(n){return"IndexedDbTransactionError"===n.name}class Fk{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(tt("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(tt("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),$c(i)}add(t){return tt("SimpleDb","ADD",this.store.name,t,t),$c(this.store.add(t))}get(t){return $c(this.store.get(t)).next(e=>(void 0===e&&(e=null),tt("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return tt("SimpleDb","DELETE",this.store.name,t),$c(this.store.delete(t))}count(){return tt("SimpleDb","COUNT",this.store.name),$c(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.H(r,(c,d)=>{o.push(d)}).next(()=>o)}{const r=this.store.getAll(i.range);return new Ce((o,c)=>{r.onerror=d=>{c(d.target.error)},r.onsuccess=d=>{o(d.target.result)}})}}J(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new Ce((r,o)=>{i.onerror=c=>{o(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}Y(t,e){tt("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.X=!1;const r=this.cursor(i);return this.H(r,(o,c,d)=>d.delete())}Z(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.H(r,e)}tt(t){const e=this.cursor({});return new Ce((i,r)=>{e.onerror=o=>{const c=Tf(o.target.error);r(c)},e.onsuccess=o=>{const c=o.target.result;c?t(c.primaryKey,c.value).next(d=>{d?c.continue():i()}):i()}})}H(t,e){const i=[];return new Ce((r,o)=>{t.onerror=c=>{o(c.target.error)},t.onsuccess=c=>{const d=c.target.result;if(!d)return void r();const p=new xS(d),_=e(d.primaryKey,d.value,p);if(_ instanceof Ce){const b=_.catch(I=>(p.done(),Ce.reject(I)));i.push(b)}p.isDone?r():null===p.G?d.continue():d.continue(p.G)}}).next(()=>Ce.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.X?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function $c(n){return new Ce((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=Tf(i.target.error);e(r)}})}let jy=!1;function Tf(n){const t=es.D((0,G.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Ye("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return jy||(jy=!0,setTimeout(()=>{throw i},0)),i}}return n}class $L{constructor(t,e){this.asyncQueue=t,this.et=e,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){var e=this;tt("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,xe.Z)(function*(){e.task=null;try{tt("IndexBackiller",`Documents written: ${yield e.et.st()}`)}catch(i){Jl(i)?tt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield al(i)}yield e.nt(6e4)}))}}class KL{constructor(t,e){this.localStore=t,this.persistence=e}st(t=50){var e=this;return(0,xe.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.it(i,t))})()}it(t,e){const i=new Set;let r=e,o=!0;return Ce.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(c=>{if(null!==c&&!i.has(c))return tt("IndexBackiller",`Processing collection: ${c}`),this.rt(t,c,r).next(d=>{r-=d,i.add(c)});o=!1})).next(()=>e-r)}rt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const c=o.changes;return this.localStore.indexManager.updateIndexEntries(t,c).next(()=>this.ot(r,o)).next(d=>(tt("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(t,e,d))).next(()=>c.size)}))}ot(t,e){let i=t;return e.changes.forEach((r,o)=>{const c=Pk(o);SS(c,i)>0&&(i=c)}),new _a(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class xo{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>e.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}function Lk(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Uu(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function MS(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}xo.at=-1;class Qi{constructor(t,e){this.comparator=t,this.root=e||ts.EMPTY}insert(t,e){return new Qi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ts.BLACK,null,null))}remove(t){return new Qi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ts.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Gy(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Gy(this.root,t,this.comparator,!1)}getReverseIterator(){return new Gy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Gy(this.root,t,this.comparator,!0)}}class Gy{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ts{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??ts.RED,this.left=r??ts.EMPTY,this.right=o??ts.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new ts(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ts.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return ts.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ts.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ts.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Et();const t=this.left.check();if(t!==this.right.check())throw Et();return t+(this.isRed()?0:1)}}ts.EMPTY=null,ts.RED=!0,ts.BLACK=!1,ts.EMPTY=new class{constructor(){this.size=0}get key(){throw Et()}get value(){throw Et()}get color(){throw Et()}get left(){throw Et()}get right(){throw Et()}copy(n,t,e,i,r){return this}insert(n,t,e){return new ts(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ai{constructor(t){this.comparator=t,this.data=new Qi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new l0(this.data.getIterator())}getIteratorFrom(t){return new l0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof ai)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new ai(this.comparator);return e.data=t,e}}class l0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Zd(n){return n.hasNext()?n.getNext():void 0}class Mo{constructor(t){this.fields=t,t.sort(Hi.comparator)}static empty(){return new Mo([])}unionWith(t){let e=new ai(Hi.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Mo(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Gd(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class pr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new pr(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new pr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return cn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}pr.EMPTY_BYTE_STRING=new pr("");const c0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wd(n){if($t(!!n),"string"==typeof n){let t=0;const e=c0.exec(n);if($t(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:zi(n.seconds),nanos:zi(n.nanos)}}function zi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Kc(n){return"string"==typeof n?pr.fromBase64String(n):pr.fromUint8Array(n)}function u0(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function kS(n){const t=n.mapValue.fields.__previous_value__;return u0(t)?kS(t):t}function qy(n){const t=Wd(n.mapValue.fields.__local_write_time__.timestampValue);return new vi(t.seconds,t.nanos)}class QL{constructor(t,e,i,r,o,c,d,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.useFetchStreams=p}}class Hu{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Hu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Hu&&t.projectId===this.projectId&&t.database===this.database}}function em(n){return null==n}function tm(n){return 0===n&&1/n==-1/0}function Vk(n){return"number"==typeof n&&Number.isInteger(n)&&!tm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Yd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},d0={nullValue:"NULL_VALUE"};function xf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?u0(n)?4:g(n)?9007199254740991:10:Et()}function Qc(n,t){if(n===t)return!0;const e=xf(n);if(e!==xf(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return qy(n).isEqual(qy(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=Wd(i.timestampValue),c=Wd(r.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Kc(n.bytesValue).isEqual(Kc(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return zi(i.geoPointValue.latitude)===zi(r.geoPointValue.latitude)&&zi(i.geoPointValue.longitude)===zi(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return zi(i.integerValue)===zi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=zi(i.doubleValue),c=zi(r.doubleValue);return o===c?tm(o)===tm(c):isNaN(o)&&isNaN(c)}return!1}(n,t);case 9:return Gd(n.arrayValue.values||[],t.arrayValue.values||[],Qc);case 10:return function(i,r){const o=i.mapValue.fields||{},c=r.mapValue.fields||{};if(Lk(o)!==Lk(c))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(void 0===c[d]||!Qc(o[d],c[d])))return!1;return!0}(n,t);default:return Et()}var r}function nm(n,t){return void 0!==(n.values||[]).find(e=>Qc(e,t))}function $d(n,t){if(n===t)return 0;const e=xf(n),i=xf(t);if(e!==i)return cn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return cn(n.booleanValue,t.booleanValue);case 2:return function(r,o){const c=zi(r.integerValue||r.doubleValue),d=zi(o.integerValue||o.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,t);case 3:return Uk(n.timestampValue,t.timestampValue);case 4:return Uk(qy(n),qy(t));case 5:return cn(n.stringValue,t.stringValue);case 6:return function(r,o){const c=Kc(r),d=Kc(o);return c.compareTo(d)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const c=r.split("/"),d=o.split("/");for(let p=0;p<c.length&&p<d.length;p++){const _=cn(c[p],d[p]);if(0!==_)return _}return cn(c.length,d.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const c=cn(zi(r.latitude),zi(o.latitude));return 0!==c?c:cn(zi(r.longitude),zi(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const c=r.values||[],d=o.values||[];for(let p=0;p<c.length&&p<d.length;++p){const _=$d(c[p],d[p]);if(_)return _}return cn(c.length,d.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===Yd.mapValue&&o===Yd.mapValue)return 0;if(r===Yd.mapValue)return 1;if(o===Yd.mapValue)return-1;const c=r.fields||{},d=Object.keys(c),p=o.fields||{},_=Object.keys(p);d.sort(),_.sort();for(let b=0;b<d.length&&b<_.length;++b){const I=cn(d[b],_[b]);if(0!==I)return I;const O=$d(c[d[b]],p[_[b]]);if(0!==O)return O}return cn(d.length,_.length)}(n.mapValue,t.mapValue);default:throw Et()}}function Uk(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return cn(n,t);const e=Wd(n),i=Wd(t),r=cn(e.seconds,i.seconds);return 0!==r?r:cn(e.nanos,i.nanos)}function im(n){return OS(n)}function OS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Wd(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Kc(n.bytesValue).toBase64():"referenceValue"in n?ft.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=OS(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${OS(i.fields[d])}`;return o+"}"}(n.mapValue):Et();var t}function Mf(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function RS(n){return!!n&&"integerValue"in n}function a(n){return!!n&&"arrayValue"in n}function l(n){return!!n&&"nullValue"in n}function u(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function h(n){return!!n&&"mapValue"in n}function f(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Uu(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=f(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=f(n.arrayValue.values[e]);return t}return Object.assign({},n)}function g(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function v(n){return"nullValue"in n?d0:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Mf(Hu.empty(),ft.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Et()}function C(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Mf(Hu.empty(),ft.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Yd:Et()}function T(n,t){const e=$d(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function k(n,t){const e=$d(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class F{constructor(t){this.value=t}static empty(){return new F({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!h(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=f(e)}setAll(t){let e=Hi.emptyPath(),i={},r=[];t.forEach((c,d)=>{if(!e.isImmediateParentOf(d)){const p=this.getFieldsMap(e);this.applyChanges(p,i,r),i={},r=[],e=d.popLast()}c?i[d.lastSegment()]=f(c):r.push(d.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());h(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Qc(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];h(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Uu(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new F(f(this.value))}}function q(n){const t=[];return Uu(n.fields,(e,i)=>{const r=new Hi([e]);if(h(i)){const o=q(i.mapValue).fields;if(0===o.length)t.push(r);else for(const c of o)t.push(r.child(c))}else t.push(r)}),new Mo(t)}class J{constructor(t,e,i,r,o,c){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=o,this.documentState=c}static newInvalidDocument(t){return new J(t,0,Gt.min(),Gt.min(),F.empty(),0)}static newFoundDocument(t,e,i){return new J(t,1,e,Gt.min(),i,0)}static newNoDocument(t,e){return new J(t,2,e,Gt.min(),F.empty(),0)}static newUnknownDocument(t,e){return new J(t,3,e,Gt.min(),F.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=F.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=F.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Gt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof J&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new J(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ge{constructor(t,e=null,i=[],r=[],o=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=d,this.ht=null}}function Re(n,t=null,e=[],i=[],r=null,o=null,c=null){return new ge(n,t,e,i,r,o,c)}function et(n){const t=gt(n);if(null===t.ht){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+im(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),em(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>im(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>im(i)).join(",")),t.ht=e}return t.ht}function bt(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!o8(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!Qc(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!XL(n.startAt,t.startAt)&&XL(n.endAt,t.endAt)}function Lt(n){return ft.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function ze(n,t){return n.filters.filter(e=>e instanceof Cn&&e.field.isEqual(t))}function Kt(n,t,e){let i=d0,r=!0;for(const o of ze(n,t)){let c=d0,d=!0;switch(o.op){case"<":case"<=":c=v(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,d=!1;break;case"!=":case"not-in":c=d0}T({value:i,inclusive:r},{value:c,inclusive:d})<0&&(i=c,r=d)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const c=e.position[o];T({value:i,inclusive:r},{value:c,inclusive:e.inclusive})<0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}function Yn(n,t,e){let i=Yd,r=!0;for(const o of ze(n,t)){let c=Yd,d=!0;switch(o.op){case">=":case">":c=C(o.value),d=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,d=!1;break;case"!=":case"not-in":c=Yd}k({value:i,inclusive:r},{value:c,inclusive:d})>0&&(i=c,r=d)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const c=e.position[o];k({value:i,inclusive:r},{value:c,inclusive:e.inclusive})>0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}class Cn extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.lt(t,e,i):new Kd(t,e,i):"array-contains"===e?new p0(t,i):"in"===e?new g0(t,i):"not-in"===e?new m0(t,i):"array-contains-any"===e?new _0(t,i):new Cn(t,e,i)}static lt(t,e,i){return"in"===e?new h0(t,i):new f0(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.ft($d(e,this.value)):null!==e&&xf(this.value)===xf(e)&&this.ft($d(e,this.value))}ft(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Et()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Kd extends Cn{constructor(t,e,i){super(t,e,i),this.key=ft.fromName(i.referenceValue)}matches(t){const e=ft.comparator(t.key,this.key);return this.ft(e)}}class h0 extends Cn{constructor(t,e){super(t,"in",e),this.keys=Zy(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class f0 extends Cn{constructor(t,e){super(t,"not-in",e),this.keys=Zy(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Zy(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>ft.fromName(i.referenceValue))}class p0 extends Cn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return a(e)&&nm(e.arrayValue,this.value)}}class g0 extends Cn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&nm(this.value.arrayValue,e)}}class m0 extends Cn{constructor(t,e){super(t,"not-in",e)}matches(t){if(nm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!nm(this.value.arrayValue,e)}}class _0 extends Cn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!a(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>nm(this.value.arrayValue,i))}}class Xl{constructor(t,e){this.position=t,this.inclusive=e}}class zu{constructor(t,e="asc"){this.field=t,this.dir=e}}function o8(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function JL(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(i=o.field.isKeyField()?ft.comparator(ft.fromName(c.referenceValue),e.key):$d(c,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function XL(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Qc(n.position[e],t.position[e]))return!1;return!0}class Qd{constructor(t,e=null,i=[],r=[],o=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=p,this._t=null,this.wt=null}}function e2(n,t,e,i,r,o,c,d){return new Qd(n,t,e,i,r,o,c,d)}function Wy(n){return new Qd(n)}function t2(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Hk(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function zk(n){for(const t of n.filters)if(t.dt())return t.field;return null}function jk(n){return null!==n.collectionGroup}function Yy(n){const t=gt(n);if(null===t._t){t._t=[];const e=zk(t),i=Hk(t);if(null!==e&&null===i)e.isKeyField()||t._t.push(new zu(e)),t._t.push(new zu(Hi.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t._t.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new zu(Hi.keyField(),o))}}}return t._t}function ko(n){const t=gt(n);if(!t.wt)if("F"===t.limitType)t.wt=Re(t.path,t.collectionGroup,Yy(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of Yy(t))e.push(new zu(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new Xl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Xl(t.startAt.position,t.startAt.inclusive):null;t.wt=Re(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.wt}function PS(n,t,e){return new Qd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function y0(n,t){return bt(ko(n),ko(t))&&n.limitType===t.limitType}function n2(n){return`${et(ko(n))}|lt:${n.limitType}`}function Gk(n){return`Query(target=${function ht(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${im(i.value)}`;var i}).join(", ")}]`),em(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>im(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>im(e)).join(",")),`Target(${t})`}(ko(n))}; limitType=${n.limitType})`}function qk(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):ft.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,c){const d=JL(r,o,c);return r.inclusive?d<=0:d<0}(e.startAt,Yy(e),i)||e.endAt&&!function(r,o,c){const d=JL(r,o,c);return r.inclusive?d>=0:d>0}(e.endAt,Yy(e),i)));var e,i}function r2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function s2(n){return(t,e)=>{let i=!1;for(const r of Yy(n)){const o=a8(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function a8(n,t,e){const i=n.field.isKeyField()?ft.comparator(t.key,e.key):function(r,o,c){const d=o.data.field(r),p=c.data.field(r);return null!==d&&null!==p?$d(d,p):Et()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Et()}}function o2(n,t){if(n.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tm(t)?"-0":t}}function a2(n){return{integerValue:""+n}}function l2(n,t){return Vk(t)?a2(t):o2(n,t)}class NS{constructor(){this._=void 0}}function l8(n,t,e){return n instanceof $y?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof rm?u2(n,t):n instanceof sm?d2(n,t):function(i,r){const o=c2(i,r),c=h2(o)+h2(i.yt);return RS(o)&&RS(i.yt)?a2(c):o2(i.It,c)}(n,t)}function c8(n,t,e){return n instanceof rm?u2(n,t):n instanceof sm?d2(n,t):e}function c2(n,t){return n instanceof Ky?RS(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class $y extends NS{}class rm extends NS{constructor(t){super(),this.elements=t}}function u2(n,t){const e=f2(t);for(const i of n.elements)e.some(r=>Qc(r,i))||e.push(i);return{arrayValue:{values:e}}}class sm extends NS{constructor(t){super(),this.elements=t}}function d2(n,t){let e=f2(t);for(const i of n.elements)e=e.filter(r=>!Qc(r,i));return{arrayValue:{values:e}}}class Ky extends NS{constructor(t,e){super(),this.It=t,this.yt=e}}function h2(n){return zi(n.integerValue||n.doubleValue)}function f2(n){return a(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class v0{constructor(t,e){this.field=t,this.transform=e}}class d8{constructor(t,e){this.version=t,this.transformResults=e}}class Ji{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ji}static exists(t){return new Ji(void 0,t)}static updateTime(t){return new Ji(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function FS(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class LS{}function p2(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Jy(n.key,Ji.none()):new Qy(n.key,n.data,Ji.none());{const e=n.data,i=F.empty();let r=new ai(Hi.comparator);for(let o of t.fields)if(!r.has(o)){let c=e.field(o);null===c&&o.length>1&&(o=o.popLast(),c=e.field(o)),null===c?i.delete(o):i.set(o,c),r=r.add(o)}return new Jd(n.key,i,new Mo(r.toArray()),Ji.none())}}function h8(n,t,e){n instanceof Qy?function(i,r,o){const c=i.value.clone(),d=_2(i.fieldTransforms,r,o.transformResults);c.setAll(d),r.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,t,e):n instanceof Jd?function(i,r,o){if(!FS(i.precondition,r))return void r.convertToUnknownDocument(o.version);const c=_2(i.fieldTransforms,r,o.transformResults),d=r.data;d.setAll(m2(i)),d.setAll(c),r.convertToFoundDocument(o.version,d).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function A0(n,t,e,i){return n instanceof Qy?function(r,o,c,d){if(!FS(r.precondition,o))return c;const p=r.value.clone(),_=y2(r.fieldTransforms,d,o);return p.setAll(_),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),null}(n,t,e,i):n instanceof Jd?function(r,o,c,d){if(!FS(r.precondition,o))return c;const p=y2(r.fieldTransforms,d,o),_=o.data;return _.setAll(m2(r)),_.setAll(p),o.convertToFoundDocument(o.version,_).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(b=>b.field))}(n,t,e,i):(c=e,FS(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c);var o,c}function f8(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=c2(i.transform,r||null);null!=o&&(null===e&&(e=F.empty()),e.set(i.field,o))}return e||null}function g2(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Gd(e,i,(r,o)=>function u8(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof rm&&i instanceof rm||e instanceof sm&&i instanceof sm?Gd(e.elements,i.elements,Qc):e instanceof Ky&&i instanceof Ky?Qc(e.yt,i.yt):e instanceof $y&&i instanceof $y);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class Qy extends LS{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Jd extends LS{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function m2(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function _2(n,t,e){const i=new Map;$t(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,d=t.data.field(o.field);i.set(o.field,c8(c,d,e[r]))}return i}function y2(n,t,e){const i=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);i.set(r.field,l8(o,c,t))}return i}class Jy extends LS{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Zk extends LS{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class p8{constructor(t){this.count=t}}var Zr,$n;function v2(n){switch(n){default:return Et();case Ie.CANCELLED:case Ie.UNKNOWN:case Ie.DEADLINE_EXCEEDED:case Ie.RESOURCE_EXHAUSTED:case Ie.INTERNAL:case Ie.UNAVAILABLE:case Ie.UNAUTHENTICATED:return!1;case Ie.INVALID_ARGUMENT:case Ie.NOT_FOUND:case Ie.ALREADY_EXISTS:case Ie.PERMISSION_DENIED:case Ie.FAILED_PRECONDITION:case Ie.ABORTED:case Ie.OUT_OF_RANGE:case Ie.UNIMPLEMENTED:case Ie.DATA_LOSS:return!0}}function A2(n){if(void 0===n)return or("GRPC error has no .code"),Ie.UNKNOWN;switch(n){case Zr.OK:return Ie.OK;case Zr.CANCELLED:return Ie.CANCELLED;case Zr.UNKNOWN:return Ie.UNKNOWN;case Zr.DEADLINE_EXCEEDED:return Ie.DEADLINE_EXCEEDED;case Zr.RESOURCE_EXHAUSTED:return Ie.RESOURCE_EXHAUSTED;case Zr.INTERNAL:return Ie.INTERNAL;case Zr.UNAVAILABLE:return Ie.UNAVAILABLE;case Zr.UNAUTHENTICATED:return Ie.UNAUTHENTICATED;case Zr.INVALID_ARGUMENT:return Ie.INVALID_ARGUMENT;case Zr.NOT_FOUND:return Ie.NOT_FOUND;case Zr.ALREADY_EXISTS:return Ie.ALREADY_EXISTS;case Zr.PERMISSION_DENIED:return Ie.PERMISSION_DENIED;case Zr.FAILED_PRECONDITION:return Ie.FAILED_PRECONDITION;case Zr.ABORTED:return Ie.ABORTED;case Zr.OUT_OF_RANGE:return Ie.OUT_OF_RANGE;case Zr.UNIMPLEMENTED:return Ie.UNIMPLEMENTED;case Zr.DATA_LOSS:return Ie.DATA_LOSS;default:return Et()}}($n=Zr||(Zr={}))[$n.OK=0]="OK",$n[$n.CANCELLED=1]="CANCELLED",$n[$n.UNKNOWN=2]="UNKNOWN",$n[$n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$n[$n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$n[$n.NOT_FOUND=5]="NOT_FOUND",$n[$n.ALREADY_EXISTS=6]="ALREADY_EXISTS",$n[$n.PERMISSION_DENIED=7]="PERMISSION_DENIED",$n[$n.UNAUTHENTICATED=16]="UNAUTHENTICATED",$n[$n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$n[$n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$n[$n.ABORTED=10]="ABORTED",$n[$n.OUT_OF_RANGE=11]="OUT_OF_RANGE",$n[$n.UNIMPLEMENTED=12]="UNIMPLEMENTED",$n[$n.INTERNAL=13]="INTERNAL",$n[$n.UNAVAILABLE=14]="UNAVAILABLE",$n[$n.DATA_LOSS=15]="DATA_LOSS";class kf{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Uu(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return MS(this.inner)}size(){return this.innerSize}}const g8=new Qi(ft.comparator);function ya(){return g8}const b2=new Qi(ft.comparator);function b0(...n){let t=b2;for(const e of n)t=t.insert(e.key,e);return t}function w2(n){let t=b2;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function ju(){return w0()}function C2(){return w0()}function w0(){return new kf(n=>n.toString(),(n,t)=>n.isEqual(t))}const m8=new Qi(ft.comparator),_8=new ai(ft.comparator);function En(...n){let t=_8;for(const e of n)t=t.add(e);return t}const y8=new ai(cn);function BS(){return y8}class C0{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,E0.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new C0(Gt.min(),r,BS(),ya(),En())}}class E0{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new E0(i,e,En(),En(),En())}}class VS{constructor(t,e,i,r){this.Tt=t,this.removedTargetIds=e,this.key=i,this.Et=r}}class E2{constructor(t,e){this.targetId=t,this.At=e}}class D2{constructor(t,e,i=pr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class I2{constructor(){this.Rt=0,this.bt=T2(),this.Pt=pr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(t){t.approximateByteSize()>0&&(this.Vt=!0,this.Pt=t)}xt(){let t=En(),e=En(),i=En();return this.bt.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Et()}}),new E0(this.Pt,this.vt,t,e,i)}Nt(){this.Vt=!1,this.bt=T2()}kt(t,e){this.Vt=!0,this.bt=this.bt.insert(t,e)}Ot(t){this.Vt=!0,this.bt=this.bt.remove(t)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class v8{constructor(t){this.Bt=t,this.Lt=new Map,this.Ut=ya(),this.qt=S2(),this.Kt=new ai(cn)}Gt(t){for(const e of t.Tt)t.Et&&t.Et.isFoundDocument()?this.Qt(e,t.Et):this.jt(e,t.key,t.Et);for(const e of t.removedTargetIds)this.jt(e,t.key,t.Et)}Wt(t){this.forEachTarget(t,e=>{const i=this.zt(e);switch(t.state){case 0:this.Ht(e)&&i.Ct(t.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(t.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(e);break;case 3:this.Ht(e)&&(i.$t(),i.Ct(t.resumeToken));break;case 4:this.Ht(e)&&(this.Jt(e),i.Ct(t.resumeToken));break;default:Et()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Lt.forEach((i,r)=>{this.Ht(r)&&e(r)})}Yt(t){const e=t.targetId,i=t.At.count,r=this.Xt(e);if(r){const o=r.target;if(Lt(o))if(0===i){const c=new ft(o.path);this.jt(e,c,J.newNoDocument(c,Gt.min()))}else $t(1===i);else this.Zt(e)!==i&&(this.Jt(e),this.Kt=this.Kt.add(e))}}te(t){const e=new Map;this.Lt.forEach((o,c)=>{const d=this.Xt(c);if(d){if(o.current&&Lt(d.target)){const p=new ft(d.target.path);null!==this.Ut.get(p)||this.ee(c,p)||this.jt(c,p,J.newNoDocument(p,t))}o.Dt&&(e.set(c,o.xt()),o.Nt())}});let i=En();this.qt.forEach((o,c)=>{let d=!0;c.forEachWhile(p=>{const _=this.Xt(p);return!_||2===_.purpose||(d=!1,!1)}),d&&(i=i.add(o))}),this.Ut.forEach((o,c)=>c.setReadTime(t));const r=new C0(t,e,this.Kt,this.Ut,i);return this.Ut=ya(),this.qt=S2(),this.Kt=new ai(cn),r}Qt(t,e){if(!this.Ht(t))return;const i=this.ee(t,e.key)?2:0;this.zt(t).kt(e.key,i),this.Ut=this.Ut.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ne(e.key).add(t))}jt(t,e,i){if(!this.Ht(t))return;const r=this.zt(t);this.ee(t,e)?r.kt(e,1):r.Ot(e),this.qt=this.qt.insert(e,this.ne(e).delete(t)),i&&(this.Ut=this.Ut.insert(e,i))}removeTarget(t){this.Lt.delete(t)}Zt(t){const e=this.zt(t).xt();return this.Bt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Mt(t){this.zt(t).Mt()}zt(t){let e=this.Lt.get(t);return e||(e=new I2,this.Lt.set(t,e)),e}ne(t){let e=this.qt.get(t);return e||(e=new ai(cn),this.qt=this.qt.insert(t,e)),e}Ht(t){const e=null!==this.Xt(t);return e||tt("WatchChangeAggregator","Detected inactive target",t),e}Xt(t){const e=this.Lt.get(t);return e&&e.St?null:this.Bt.se(t)}Jt(t){this.Lt.set(t,new I2),this.Bt.getRemoteKeysForTarget(t).forEach(e=>{this.jt(t,e,null)})}ee(t,e){return this.Bt.getRemoteKeysForTarget(t).has(e)}}function S2(){return new Qi(ft.comparator)}function T2(){return new Qi(ft.comparator)}const A8={asc:"ASCENDING",desc:"DESCENDING"},b8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class w8{constructor(t,e){this.databaseId=t,this.gt=e}}function D0(n,t){return n.gt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function x2(n,t){return n.gt?t.toBase64():t.toUint8Array()}function C8(n,t){return D0(n,t.toTimestamp())}function ps(n){return $t(!!n),Gt.fromTimestamp(function(t){const e=Wd(t);return new vi(e.seconds,e.nanos)}(n))}function Wk(n,t){return(e=n,new Un(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function M2(n){const t=Un.fromString(n);return $t(B2(t)),t}function I0(n,t){return Wk(n.databaseId,t.path)}function Gu(n,t){const e=M2(t);if(e.get(1)!==n.databaseId.projectId)throw new Ye(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ye(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new ft(O2(e))}function Yk(n,t){return Wk(n.databaseId,t)}function k2(n){const t=M2(n);return 4===t.length?Un.emptyPath():O2(t)}function S0(n){return new Un(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function O2(n){return $t(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function R2(n,t,e){return{name:I0(n,t),fields:e.value.mapValue.fields}}function P2(n,t,e){const i=Gu(n,t.name),r=ps(t.updateTime),o=new F({mapValue:{fields:t.fields}}),c=J.newFoundDocument(i,r,o);return e&&c.setHasCommittedMutations(),e?c.setHasCommittedMutations():c}function T0(n,t){let e;if(t instanceof Qy)e={update:R2(n,t.key,t.value)};else if(t instanceof Jy)e={delete:I0(n,t.key)};else if(t instanceof Jd)e={update:R2(n,t.key,t.data),updateMask:O8(t.fieldMask)};else{if(!(t instanceof Zk))return Et();e={verify:I0(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const c=o.transform;if(c instanceof $y)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof rm)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof sm)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ky)return{fieldPath:o.field.canonicalString(),increment:c.yt};throw Et()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:C8(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Et()),e;var r}function $k(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Ji.updateTime(ps(r.updateTime)):void 0!==r.exists?Ji.exists(r.exists):Ji.none():Ji.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,c){let d=null;"setToServerValue"in c?($t("REQUEST_TIME"===c.setToServerValue),d=new $y):"appendMissingElements"in c?d=new rm(c.appendMissingElements.values||[]):"removeAllFromArray"in c?d=new sm(c.removeAllFromArray.values||[]):"increment"in c?d=new Ky(o,c.increment):Et();const p=Hi.fromServerFormat(c.fieldPath);return new v0(p,d)}(n,r)):[];var r;if(t.update){const r=Gu(n,t.update.name),o=new F({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=new Mo((t.updateMask.fieldPaths||[]).map(_=>Hi.fromServerFormat(_)));return new Jd(r,o,c,e,i)}return new Qy(r,o,e,i)}if(t.delete){const r=Gu(n,t.delete);return new Jy(r,e)}if(t.verify){const r=Gu(n,t.verify);return new Zk(r,e)}return Et()}function N2(n,t){return{documents:[Yk(n,t.path)]}}function Kk(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=Yk(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=Yk(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0===p.length)return;const _=p.map(b=>function(I){if("=="===I.op){if(u(I.value))return{unaryFilter:{field:Xy(I.field),op:"IS_NAN"}};if(l(I.value))return{unaryFilter:{field:Xy(I.field),op:"IS_NULL"}}}else if("!="===I.op){if(u(I.value))return{unaryFilter:{field:Xy(I.field),op:"IS_NOT_NAN"}};if(l(I.value))return{unaryFilter:{field:Xy(I.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xy(I.field),op:x8(I.op),value:I.value}}}(b));return 1===_.length?_[0]:{compositeFilter:{op:"AND",filters:_}}}(t.filters);r&&(e.structuredQuery.where=r);const o=function(p){if(0!==p.length)return p.map(_=>{return{field:Xy((b=_).field),direction:T8(b.dir)};var b})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const c=(_=t.limit,n.gt||em(_)?_:{value:_});var _,d,p;return null!==c&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt={before:(d=t.startAt).inclusive,values:d.position}),t.endAt&&(e.structuredQuery.endAt={before:!(p=t.endAt).inclusive,values:p.position}),e}function F2(n){let t=k2(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){$t(1===i);const b=e.from[0];b.allDescendants?r=b.collectionId:t=t.child(b.collectionId)}let o=[];e.where&&(o=L2(e.where));let c=[];e.orderBy&&(c=e.orderBy.map(b=>{return new zu(ev((I=b).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let d=null;e.limit&&(d=function(b){let I;return I="object"==typeof b?b.value:b,em(I)?null:I}(e.limit));let p=null;var b;e.startAt&&(p=new Xl((b=e.startAt).values||[],!!b.before));let _=null;return e.endAt&&(_=function(b){return new Xl(b.values||[],!b.before)}(e.endAt)),e2(t,r,c,o,d,"F",p,_)}function L2(n){return n?void 0!==n.unaryFilter?[k8(n)]:void 0!==n.fieldFilter?[M8(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>L2(t)).reduce((t,e)=>t.concat(e)):Et():[]}function T8(n){return A8[n]}function x8(n){return b8[n]}function Xy(n){return{fieldPath:n.canonicalString()}}function ev(n){return Hi.fromServerFormat(n.fieldPath)}function M8(n){return Cn.create(ev(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Et()}}(n.fieldFilter.op),n.fieldFilter.value)}function k8(n){switch(n.unaryFilter.op){case"IS_NAN":const t=ev(n.unaryFilter.field);return Cn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=ev(n.unaryFilter.field);return Cn.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ev(n.unaryFilter.field);return Cn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=ev(n.unaryFilter.field);return Cn.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Et()}}function O8(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function B2(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Oo(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=V2(t)),t=R8(n.get(e),t);return V2(t)}function R8(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function V2(n){return n+"\x01\x01"}function qu(n){const t=n.length;if($t(t>=2),2===t)return $t("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Un.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const c=n.indexOf("\x01",o);switch((c<0||c>e)&&Et(),n.charAt(c+1)){case"\x01":const d=n.substring(o,c);let p;0===r.length?p=d:(r+=d,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(o,c),r+="\0";break;case"\x11":r+=n.substring(o,c+1);break;default:Et()}o=c+2}return new Un(i)}const U2=["userId","batchId"];function US(n,t){return[n,Oo(t)]}function H2(n,t,e){return[n,Oo(t),e]}const P8={},N8=["prefixPath","collectionGroup","readTime","documentId"],F8=["prefixPath","collectionGroup","documentId"],L8=["collectionGroup","readTime","prefixPath","documentId"],B8=["canonicalId","targetId"],V8=["targetId","path"],U8=["path","targetId"],H8=["collectionId","parent"],z8=["indexId","uid"],j8=["uid","sequenceNumber"],G8=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],q8=["indexId","uid","orderedDocumentKey"],Z8=["userId","collectionPath","documentId"],W8=["userId","collectionPath","largestBatchId"],Y8=["userId","collectionGroup","largestBatchId"],z2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],$8=[...z2,"documentOverlays"],j2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],G2=j2,K8=[...G2,"indexConfiguration","indexState","indexEntries"];class Qk extends TS{constructor(t,e){super(),this.ie=t,this.currentSequenceNumber=e}}function gs(n,t){const e=gt(n);return es.M(e.ie,t)}class Jk{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&h8(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=A0(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=A0(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=C2();return this.mutations.forEach(r=>{const o=t.get(r.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=e.has(r.key)?null:d;const p=p2(c,d);null!==p&&i.set(r.key,p),c.isValidDocument()||c.convertToNoDocument(Gt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),En())}isEqual(t){return this.batchId===t.batchId&&Gd(this.mutations,t.mutations,(e,i)=>g2(e,i))&&Gd(this.baseMutations,t.baseMutations,(e,i)=>g2(e,i))}}class Xk{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){$t(t.mutations.length===i.length);let r=m8;const o=t.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new Xk(t,e,i,r)}}class eO{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Of{constructor(t,e,i,r,o=Gt.min(),c=Gt.min(),d=pr.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d}withSequenceNumber(t){return new Of(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Of(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Of(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class q2{constructor(t){this.re=t}}function Z2(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:HS(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:I0(r=n.re,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:D0(r,o.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:om(t.version)};else{if(!t.isUnknownDocument())return Et();i.unknownDocument={path:e.path.toArray(),version:om(t.version)}}var r,o;return i}function HS(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function om(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function am(n){const t=new vi(n.seconds,n.nanoseconds);return Gt.fromTimestamp(t)}function lm(n,t){const e=(t.baseMutations||[]).map(o=>$k(n.re,o));for(let o=0;o<t.mutations.length-1;++o){const c=t.mutations[o];o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(c.updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o)}const i=t.mutations.map(o=>$k(n.re,o)),r=vi.fromMillis(t.localWriteTimeMs);return new Jk(t.batchId,r,e,i)}function x0(n){const t=am(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?am(n.lastLimboFreeSnapshotVersion):Gt.min();let i;var r;return void 0!==n.query.documents?($t(1===(r=n.query).documents.length),i=ko(Wy(k2(r.documents[0])))):i=ko(F2(n.query)),new Of(i,n.targetId,0,n.lastListenSequenceNumber,t,e,pr.fromBase64String(n.resumeToken))}function W2(n,t){const e=om(t.snapshotVersion),i=om(t.lastLimboFreeSnapshotVersion);let r;r=Lt(t.target)?N2(n.re,t.target):Kk(n.re,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:et(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function tO(n){const t=F2({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?PS(t,t.limit,"L"):t}function nO(n,t){return new eO(t.largestBatchId,$k(n.re,t.overlayMutation))}function Y2(n,t){const e=t.path.lastSegment();return[n,Oo(t.path.popLast()),e]}function $2(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:om(i.readTime),documentKey:Oo(i.documentKey.path),largestBatchId:i.largestBatchId}}class J8{getBundleMetadata(t,e){return K2(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:am(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return K2(t).put({bundleId:(i=e).id,createTime:om(ps(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return Q2(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:tO(r.bundledQuery),readTime:am(r.readTime)};var r})}saveNamedQuery(t,e){return Q2(t).put({name:(i=e).name,readTime:om(ps(i.readTime)),bundledQuery:i.bundledQuery});var i}}function K2(n){return gs(n,"bundles")}function Q2(n){return gs(n,"namedQueries")}class zS{constructor(t,e){this.It=t,this.userId=e}static oe(t,e){return new zS(t,e.uid||"")}getOverlay(t,e){return M0(t).get(Y2(this.userId,e)).next(i=>i?nO(this.It,i):null)}getOverlays(t,e){const i=ju();return Ce.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,c)=>{const d=new eO(e,c);r.push(this.ue(t,d))}),Ce.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(c=>r.add(Oo(c.getCollectionPath())));const o=[];return r.forEach(c=>{const d=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);o.push(M0(t).Y("collectionPathOverlayIndex",d))}),Ce.waitFor(o)}getOverlaysForCollection(t,e,i){const r=ju(),o=Oo(e),c=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return M0(t).W("collectionPathOverlayIndex",c).next(d=>{for(const p of d){const _=nO(this.It,p);r.set(_.getKey(),_)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=ju();let c;const d=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return M0(t).Z({index:"collectionGroupOverlayIndex",range:d},(p,_,b)=>{const I=nO(this.It,_);o.size()<r||I.largestBatchId===c?(o.set(I.getKey(),I),c=I.largestBatchId):b.done()}).next(()=>o)}ue(t,e){return M0(t).put(function(i,r,o){const[c,d,p]=Y2(r,o.mutation.key);return{userId:r,collectionPath:d,documentId:p,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:T0(i.re,o.mutation)}}(this.It,this.userId,e))}}function M0(n){return gs(n,"documentOverlays")}class cm{constructor(){}ce(t,e){this.ae(t,e),e.he()}ae(t,e){if("nullValue"in t)this.le(e,5);else if("booleanValue"in t)this.le(e,10),e.fe(t.booleanValue?1:0);else if("integerValue"in t)this.le(e,15),e.fe(zi(t.integerValue));else if("doubleValue"in t){const i=zi(t.doubleValue);isNaN(i)?this.le(e,13):(this.le(e,15),tm(i)?e.fe(0):e.fe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.le(e,20),"string"==typeof i?e.de(i):(e.de(`${i.seconds||""}`),e.fe(i.nanos||0))}else if("stringValue"in t)this._e(t.stringValue,e),this.we(e);else if("bytesValue"in t)this.le(e,30),e.me(Kc(t.bytesValue)),this.we(e);else if("referenceValue"in t)this.ge(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.le(e,45),e.fe(i.latitude||0),e.fe(i.longitude||0)}else"mapValue"in t?g(t)?this.le(e,Number.MAX_SAFE_INTEGER):(this.ye(t.mapValue,e),this.we(e)):"arrayValue"in t?(this.pe(t.arrayValue,e),this.we(e)):Et()}_e(t,e){this.le(e,25),this.Ie(t,e)}Ie(t,e){e.de(t)}ye(t,e){const i=t.fields||{};this.le(e,55);for(const r of Object.keys(i))this._e(r,e),this.ae(i[r],e)}pe(t,e){const i=t.values||[];this.le(e,50);for(const r of i)this.ae(r,e)}ge(t,e){this.le(e,37),ft.fromName(t).path.forEach(i=>{this.le(e,60),this.Ie(i,e)})}le(t,e){t.fe(e)}we(t){t.fe(2)}}function X8(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function J2(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=X8(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}cm.Te=new cm;class ej{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ae(i.value),i=e.next();this.Re()}be(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Pe(i.value),i=e.next();this.ve()}Ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=e.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=e.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(t){const e=this.Ce(t),i=J2(e);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Ne(t){const e=this.Ce(t),i=J2(e);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(t){this.xe(t.length),this.buffer.set(t,this.position),this.position+=t.length}$e(){return this.buffer.slice(0,this.position)}Ce(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ae(t){const e=255&t;0===e?(this.Oe(0),this.Oe(255)):255===e?(this.Oe(255),this.Oe(0)):this.Oe(e)}Pe(t){const e=255&t;0===e?(this.Fe(0),this.Fe(255)):255===e?(this.Fe(255),this.Fe(0)):this.Fe(t)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(t){this.xe(1),this.buffer[this.position++]=t}Fe(t){this.xe(1),this.buffer[this.position++]=~t}xe(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class tj{constructor(t){this.Be=t}me(t){this.Be.Ee(t)}de(t){this.Be.Ve(t)}fe(t){this.Be.De(t)}he(){this.Be.ke()}}class nj{constructor(t){this.Be=t}me(t){this.Be.be(t)}de(t){this.Be.Se(t)}fe(t){this.Be.Ne(t)}he(){this.Be.Me()}}class k0{constructor(){this.Be=new ej,this.Le=new tj(this.Be),this.Ue=new nj(this.Be)}seed(t){this.Be.seed(t)}qe(t){return 0===t?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class um{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new um(this.indexId,this.documentKey,this.arrayValue,i)}}function dm(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=X2(n.arrayValue,t.arrayValue),0!==e?e:(e=X2(n.directionalValue,t.directionalValue),0!==e?e:ft.comparator(n.documentKey,t.documentKey)))}function X2(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class ij{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];for(const e of t.filters){const i=e;i.dt()?this.je=i:this.Qe.push(i)}}We(t){const e=DS(t);if(void 0!==e&&!this.ze(e))return!1;const i=Sf(t);let r=0,o=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const c=i[r];if(!this.He(this.je,c)||!this.Je(this.Ge[o++],c))return!1;++r}for(;r<i.length;++r){const c=i[r];if(o>=this.Ge.length||!this.Je(this.Ge[o++],c))return!1}return!0}ze(t){for(const e of this.Qe)if(this.He(e,t))return!0;return!1}He(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Je(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class rj{constructor(){this.Ye=new iO}addToCollectionParentIndex(t,e){return this.Ye.add(e),Ce.resolve()}getCollectionParents(t,e){return Ce.resolve(this.Ye.getEntries(e))}addFieldIndex(t,e){return Ce.resolve()}deleteFieldIndex(t,e){return Ce.resolve()}getDocumentsMatchingTarget(t,e){return Ce.resolve(null)}getIndexType(t,e){return Ce.resolve(0)}getFieldIndexes(t,e){return Ce.resolve([])}getNextCollectionGroupToUpdate(t){return Ce.resolve(null)}getMinOffset(t,e){return Ce.resolve(_a.min())}getMinOffsetFromCollectionGroup(t,e){return Ce.resolve(_a.min())}updateCollectionGroup(t,e,i){return Ce.resolve()}updateIndexEntries(t,e){return Ce.resolve()}}class iO{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new ai(Un.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new ai(Un.comparator)).toArray()}}const jS=new Uint8Array(0);class sj{constructor(t,e){this.user=t,this.databaseId=e,this.Xe=new iO,this.Ze=new kf(i=>et(i),(i,r)=>bt(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Xe.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Xe.add(e)});const o={collectionId:i,parent:Oo(r)};return eB(t).put(o)}return Ce.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[o0(e),""],!1,!0);return eB(t).W(r).next(o=>{for(const c of o){if(c.collectionId!==e)break;i.push(qu(c.parent))}return i})}addFieldIndex(t,e){const i=GS(t),r={indexId:(c=e).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var c;delete r.indexId;const o=i.add(r);if(e.indexState){const c=R0(t);return o.next(d=>{c.put($2(d,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=GS(t),r=R0(t),o=O0(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=O0(t);let r=!0;const o=new Map;return Ce.forEach(this.tn(e),c=>this.en(t,c).next(d=>{r&&(r=!!d),o.set(c,d)})).next(()=>{if(r){let c=En();const d=[];return Ce.forEach(o,(p,_)=>{var b;tt("IndexedDbIndexManager",`Using index ${b=p,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(at=>`${at.fieldPath}:${at.kind}`).join(",")}`} to execute ${et(e)}`);const I=function(at,ct){const Pt=DS(ct);if(void 0===Pt)return null;for(const Vt of ze(at,Pt.fieldPath))switch(Vt.op){case"array-contains-any":return Vt.value.arrayValue.values||[];case"array-contains":return[Vt.value]}return null}(_,p),O=function(at,ct){const Pt=new Map;for(const Vt of Sf(ct))for(const On of ze(at,Vt.fieldPath))switch(On.op){case"==":case"in":Pt.set(Vt.fieldPath.canonicalString(),On.value);break;case"not-in":case"!=":return Pt.set(Vt.fieldPath.canonicalString(),On.value),Array.from(Pt.values())}return null}(_,p),B=function(at,ct){const Pt=[];let Vt=!0;for(const On of Sf(ct)){const Rr=0===On.kind?Kt(at,On.fieldPath,at.startAt):Yn(at,On.fieldPath,at.startAt);Pt.push(Rr.value),Vt&&(Vt=Rr.inclusive)}return new Xl(Pt,Vt)}(_,p),z=function(at,ct){const Pt=[];let Vt=!0;for(const On of Sf(ct)){const Rr=0===On.kind?Yn(at,On.fieldPath,at.endAt):Kt(at,On.fieldPath,at.endAt);Pt.push(Rr.value),Vt&&(Vt=Rr.inclusive)}return new Xl(Pt,Vt)}(_,p),X=this.nn(p,_,B),se=this.nn(p,_,z),Fe=this.sn(p,_,O),it=this.rn(p.indexId,I,X,B.inclusive,se,z.inclusive,Fe);return Ce.forEach(it,at=>i.J(at,e.limit).next(ct=>{ct.forEach(Pt=>{const Vt=ft.fromSegments(Pt.documentKey);c.has(Vt)||(c=c.add(Vt),d.push(Vt))})}))}).next(()=>d)}return Ce.resolve(null)})}tn(t){let e=this.Ze.get(t);return e||(e=[t],this.Ze.set(t,e),e)}rn(t,e,i,r,o,c,d){const p=(null!=e?e.length:1)*Math.max(i.length,o.length),_=p/(null!=e?e.length:1),b=[];for(let I=0;I<p;++I){const O=e?this.on(e[I/_]):jS,B=this.un(t,O,i[I%_],r),z=this.cn(t,O,o[I%_],c),X=d.map(se=>this.un(t,O,se,!0));b.push(...this.createRange(B,z,X))}return b}un(t,e,i,r){const o=new um(t,ft.empty(),e,i);return r?o:o.Ke()}cn(t,e,i,r){const o=new um(t,ft.empty(),e,i);return r?o.Ke():o}en(t,e){const i=new ij(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let c=null;for(const d of o)i.We(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c})}getIndexType(t,e){let i=2;return Ce.forEach(this.tn(e),r=>this.en(t,r).next(o=>{o?0!==i&&o.fields.length<function(c){let d=new ai(Hi.comparator),p=!1;for(const _ of c.filters){const b=_;b.field.isKeyField()||("array-contains"===b.op||"array-contains-any"===b.op?p=!0:d=d.add(b.field))}for(const _ of c.orderBy)_.field.isKeyField()||(d=d.add(_.field));return d.size+(p?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(t,e){const i=new k0;for(const r of Sf(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const c=i.qe(r.kind);cm.Te.ce(o,c)}return i.$e()}on(t){const e=new k0;return cm.Te.ce(t,e.qe(0)),e.$e()}hn(t,e){const i=new k0;return cm.Te.ce(Mf(this.databaseId,e),i.qe(function(r){const o=Sf(r);return 0===o.length?0:o[o.length-1].kind}(t))),i.$e()}sn(t,e,i){if(null===i)return[];let r=[];r.push(new k0);let o=0;for(const c of Sf(t)){const d=i[o++];for(const p of r)if(this.ln(e,c.fieldPath)&&a(d))r=this.fn(r,c,d);else{const _=p.qe(c.kind);cm.Te.ce(d,_)}}return this.dn(r)}nn(t,e,i){return this.sn(t,e,i.position)}dn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].$e();return e}fn(t,e,i){const r=[...t],o=[];for(const c of i.arrayValue.values||[])for(const d of r){const p=new k0;p.seed(d.$e()),cm.Te.ce(c,p.qe(e.kind)),o.push(p)}return o}ln(t,e){return!!t.filters.find(i=>i instanceof Cn&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=GS(t),r=R0(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(o=>{const c=[];return Ce.forEach(o,d=>r.get([d.indexId,this.uid]).next(p=>{c.push(function(_,b){const I=b?new Jg(b.sequenceNumber,new _a(am(b.readTime),new ft(qu(b.documentKey)),b.largestBatchId)):Jg.empty(),O=_.fields.map(([B,z])=>new zy(Hi.fromServerFormat(B),z));return new Hy(_.indexId,_.collectionGroup,O,I)}(d,p))})).next(()=>c)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:cn(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=GS(t),o=R0(t);return this._n(t).next(c=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(d=>Ce.forEach(d,p=>o.put($2(p.indexId,this.user,c,i)))))}updateIndexEntries(t,e){const i=new Map;return Ce.forEach(e,(r,o)=>{const c=i.get(r.collectionGroup);return(c?Ce.resolve(c):this.getFieldIndexes(t,r.collectionGroup)).next(d=>(i.set(r.collectionGroup,d),Ce.forEach(d,p=>this.wn(t,r,p).next(_=>{const b=this.mn(o,p);return _.isEqual(b)?Ce.resolve():this.gn(t,o,p,_,b)}))))})}yn(t,e,i,r){return O0(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,e.key),documentKey:e.key.path.toArray()})}pn(t,e,i,r){return O0(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,e.key),e.key.path.toArray()])}wn(t,e,i){const r=O0(t);let o=new ai(dm);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,e)])},(c,d)=>{o=o.add(new um(i.indexId,e,d.arrayValue,d.directionalValue))}).next(()=>o)}mn(t,e){let i=new ai(dm);const r=this.an(e,t);if(null==r)return i;const o=DS(e);if(null!=o){const c=t.data.field(o.fieldPath);if(a(c))for(const d of c.arrayValue.values||[])i=i.add(new um(e.indexId,t.key,this.on(d),r))}else i=i.add(new um(e.indexId,t.key,jS,r));return i}gn(t,e,i,r,o){tt("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const c=[];return function(d,p,_,b,I){const O=d.getIterator(),B=p.getIterator();let z=Zd(O),X=Zd(B);for(;z||X;){let se=!1,Fe=!1;if(z&&X){const it=_(z,X);it<0?Fe=!0:it>0&&(se=!0)}else null!=z?Fe=!0:se=!0;se?(b(X),X=Zd(B)):Fe?(I(z),z=Zd(O)):(z=Zd(O),X=Zd(B))}}(r,o,dm,d=>{c.push(this.yn(t,e,i,d))},d=>{c.push(this.pn(t,e,i,d))}),Ce.waitFor(c)}_n(t){let e=1;return R0(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((c,d)=>dm(c,d)).filter((c,d,p)=>!d||0!==dm(c,p[d-1]));const r=[];r.push(t);for(const c of i){const d=dm(c,t),p=dm(c,e);if(0===d)r[0]=t.Ke();else if(d>0&&p<0)r.push(c),r.push(c.Ke());else if(p>0)break}r.push(e);const o=[];for(let c=0;c<r.length;c+=2)o.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,jS,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,jS,[]]));return o}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(tB)}getMinOffset(t,e){return Ce.mapArray(this.tn(e),i=>this.en(t,i).next(r=>r||Et())).next(tB)}}function eB(n){return gs(n,"collectionParents")}function O0(n){return gs(n,"indexEntries")}function GS(n){return gs(n,"indexConfiguration")}function R0(n){return gs(n,"indexState")}function tB(n){$t(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;SS(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new _a(t.readTime,t.documentKey,e)}const nB={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class va{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new va(t,va.DEFAULT_COLLECTION_PERCENTILE,va.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function iB(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],c=IDBKeyRange.only(e.batchId);let d=0;const p=i.Z({range:c},(b,I,O)=>(d++,O.delete()));o.push(p.next(()=>{$t(1===d)}));const _=[];for(const b of e.mutations){const I=H2(t,b.key.path,e.batchId);o.push(r.delete(I)),_.push(b.key)}return Ce.waitFor(o).next(()=>_)}function qS(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw Et();t=n.noDocument}return JSON.stringify(t).length}va.DEFAULT_COLLECTION_PERCENTILE=10,va.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,va.DEFAULT=new va(41943040,va.DEFAULT_COLLECTION_PERCENTILE,va.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),va.DISABLED=new va(-1,0,0);class ZS{constructor(t,e,i,r){this.userId=t,this.It=e,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(t,e,i,r){$t(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new ZS(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Rf(t).Z({index:"userMutationsIndex",range:i},(r,o,c)=>{e=!1,c.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=tv(t),c=Rf(t);return c.add({}).next(d=>{$t("number"==typeof d);const p=new Jk(d,e,i,r),_=function(O,B,z){const X=z.baseMutations.map(Fe=>T0(O.re,Fe)),se=z.mutations.map(Fe=>T0(O.re,Fe));return{userId:B,batchId:z.batchId,localWriteTimeMs:z.localWriteTime.toMillis(),baseMutations:X,mutations:se}}(this.It,this.userId,p),b=[];let I=new ai((O,B)=>cn(O.canonicalString(),B.canonicalString()));for(const O of r){const B=H2(this.userId,O.key.path,d);I=I.add(O.key.path.popLast()),b.push(c.put(_)),b.push(o.put(B,P8))}return I.forEach(O=>{b.push(this.indexManager.addToCollectionParentIndex(t,O))}),t.addOnCommittedListener(()=>{this.In[d]=p.keys()}),Ce.waitFor(b).next(()=>p)})}lookupMutationBatch(t,e){return Rf(t).get(e).next(i=>i?($t(i.userId===this.userId),lm(this.It,i)):null)}Tn(t,e){return this.In[e]?Ce.resolve(this.In[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.In[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Rf(t).Z({index:"userMutationsIndex",range:r},(c,d,p)=>{d.userId===this.userId&&($t(d.batchId>=i),o=lm(this.It,d)),p.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Rf(t).Z({index:"userMutationsIndex",range:e,reverse:!0},(r,o,c)=>{i=o.batchId,c.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Rf(t).W("userMutationsIndex",e).next(i=>i.map(r=>lm(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=US(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return tv(t).Z({range:r},(c,d,p)=>{const[_,b,I]=c,O=qu(b);if(_===this.userId&&e.path.isEqual(O))return Rf(t).get(I).next(B=>{if(!B)throw Et();$t(B.userId===this.userId),o.push(lm(this.It,B))});p.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ai(cn);const r=[];return e.forEach(o=>{const c=US(this.userId,o.path),d=IDBKeyRange.lowerBound(c),p=tv(t).Z({range:d},(_,b,I)=>{const[O,B,z]=_,X=qu(B);O===this.userId&&o.path.isEqual(X)?i=i.add(z):I.done()});r.push(p)}),Ce.waitFor(r).next(()=>this.En(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=US(this.userId,i),c=IDBKeyRange.lowerBound(o);let d=new ai(cn);return tv(t).Z({range:c},(p,_,b)=>{const[I,O,B]=p,z=qu(O);I===this.userId&&i.isPrefixOf(z)?z.length===r&&(d=d.add(B)):b.done()}).next(()=>this.En(t,d))}En(t,e){const i=[],r=[];return e.forEach(o=>{r.push(Rf(t).get(o).next(c=>{if(null===c)throw Et();$t(c.userId===this.userId),i.push(lm(this.It,c))}))}),Ce.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return iB(t.ie,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.An(e.batchId)}),Ce.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}An(t){delete this.In[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Ce.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return tv(t).Z({range:i},(o,c,d)=>{if(o[0]===this.userId){const p=qu(o[1]);r.push(p)}else d.done()}).next(()=>{$t(0===r.length)})})}containsKey(t,e){return rB(t,this.userId,e)}Rn(t){return sB(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function rB(n,t,e){const i=US(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let c=!1;return tv(n).Z({range:o,X:!0},(d,p,_)=>{const[b,I,O]=d;b===t&&I===r&&(c=!0),_.done()}).next(()=>c)}function Rf(n){return gs(n,"mutations")}function tv(n){return gs(n,"documentMutations")}function sB(n){return gs(n,"mutationQueues")}class hm{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new hm(0)}static vn(){return new hm(-1)}}class oj{constructor(t,e){this.referenceDelegate=t,this.It=e}allocateTargetId(t){return this.Vn(t).next(e=>{const i=new hm(e.highestTargetId);return e.highestTargetId=i.next(),this.Sn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Vn(t).next(e=>Gt.fromTimestamp(new vi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Vn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Vn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Sn(t,r)))}addTargetData(t,e){return this.Dn(t,e).next(()=>this.Vn(t).next(i=>(i.targetCount+=1,this.Cn(e,i),this.Sn(t,i))))}updateTargetData(t,e){return this.Dn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>nv(t).delete(e.targetId)).next(()=>this.Vn(t)).next(i=>($t(i.targetCount>0),i.targetCount-=1,this.Sn(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return nv(t).Z((c,d)=>{const p=x0(d);p.sequenceNumber<=e&&null===i.get(p.targetId)&&(r++,o.push(this.removeTargetData(t,p)))}).next(()=>Ce.waitFor(o)).next(()=>r)}forEachTarget(t,e){return nv(t).Z((i,r)=>{const o=x0(r);e(o)})}Vn(t){return oB(t).get("targetGlobalKey").next(e=>($t(null!==e),e))}Sn(t,e){return oB(t).put("targetGlobalKey",e)}Dn(t,e){return nv(t).put(W2(this.It,e))}Cn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Vn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=et(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return nv(t).Z({range:r,index:"queryTargetsIndex"},(c,d,p)=>{const _=x0(d);bt(e,_.target)&&(o=_,p.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=Pf(t);return e.forEach(c=>{const d=Oo(c.path);r.push(o.put({targetId:i,path:d})),r.push(this.referenceDelegate.addReference(t,i,c))}),Ce.waitFor(r)}removeMatchingKeys(t,e,i){const r=Pf(t);return Ce.forEach(e,o=>{const c=Oo(o.path);return Ce.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=Pf(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Pf(t);let o=En();return r.Z({range:i,X:!0},(c,d,p)=>{const _=qu(c[1]),b=new ft(_);o=o.add(b)}).next(()=>o)}containsKey(t,e){const i=Oo(e.path),r=IDBKeyRange.bound([i],[o0(i)],!1,!0);let o=0;return Pf(t).Z({index:"documentTargetsIndex",X:!0,range:r},([c,d],p,_)=>{0!==c&&(o++,_.done())}).next(()=>o>0)}se(t,e){return nv(t).get(e).next(i=>i?x0(i):null)}}function nv(n){return gs(n,"targets")}function oB(n){return gs(n,"targetGlobal")}function Pf(n){return gs(n,"targetDocuments")}function aB([n,t],[e,i]){const r=cn(n,e);return 0===r?cn(t,i):r}class aj{constructor(t){this.xn=t,this.buffer=new ai(aB),this.Nn=0}kn(){return++this.Nn}On(t){const e=[t,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();aB(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class lj{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(t){var e=this;tt("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,xe.Z)(function*(){e.Mn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Jl(i)?tt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield al(i)}yield e.Fn(3e5)}))}}class cj{constructor(t,e){this.$n=t,this.params=e}calculateTargetCount(t,e){return this.$n.Bn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return Ce.resolve(xo.at);const i=new aj(e);return this.$n.forEachTarget(t,r=>i.On(r.sequenceNumber)).next(()=>this.$n.Ln(t,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.$n.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.$n.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(tt("LruGarbageCollector","Garbage collection skipped; disabled"),Ce.resolve(nB)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(tt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nB):this.Un(t,e))}getCacheSize(t){return this.$n.getCacheSize(t)}Un(t,e){let i,r,o,c,d,p,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(tt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),r=this.params.maximumSequenceNumbersToCollect):r=I,c=Date.now(),this.nthSequenceNumber(t,r))).next(I=>(i=I,d=Date.now(),this.removeTargets(t,i,e))).next(I=>(o=I,p=Date.now(),this.removeOrphanedDocuments(t,i))).next(I=>(_=Date.now(),Uy()<=el.in.DEBUG&&tt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-b}ms\n\tDetermined least recently used ${r} in `+(d-c)+`ms\n\tRemoved ${o} targets in `+(p-d)+`ms\n\tRemoved ${I} documents in `+(_-p)+`ms\nTotal Duration: ${_-b}ms`),Ce.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:I})))}}class uj{constructor(t,e){this.db=t,this.garbageCollector=new cj(this,e)}Bn(t){const e=this.qn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}qn(t){let e=0;return this.Ln(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Ln(t,e){return this.Kn(t,(i,r)=>e(r))}addReference(t,e,i){return WS(t,i)}removeReference(t,e,i){return WS(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return WS(t,e)}Gn(t,e){return function(i,r){let o=!1;return sB(i).tt(c=>rB(i,c,r).next(d=>(d&&(o=!0),Ce.resolve(!d)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Kn(t,(c,d)=>{if(d<=e){const p=this.Gn(t,c).next(_=>{if(!_)return o++,i.getEntry(t,c).next(()=>(i.removeEntry(c,Gt.min()),Pf(t).delete([0,Oo(c.path)])))});r.push(p)}}).next(()=>Ce.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return WS(t,e)}Kn(t,e){const i=Pf(t);let r,o=xo.at;return i.Z({index:"documentTargetsIndex"},([c,d],{path:p,sequenceNumber:_})=>{0===c?(o!==xo.at&&e(new ft(qu(r)),o),o=_,r=p):o=xo.at}).next(()=>{o!==xo.at&&e(new ft(qu(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function WS(n,t){return Pf(n).put((i=n.currentSequenceNumber,{targetId:0,path:Oo(t.path),sequenceNumber:i}));var i}class lB{constructor(){this.changes=new kf(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,J.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Ce.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class dj{constructor(t){this.It=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return fm(t).put(i)}removeEntry(t,e,i){return fm(t).delete(function(r,o){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],HS(o),c[c.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Qn(t,i)))}getEntry(t,e){let i=J.newInvalidDocument(e);return fm(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(P0(e))},(r,o)=>{i=this.jn(e,o)}).next(()=>i)}Wn(t,e){let i={size:0,document:J.newInvalidDocument(e)};return fm(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(P0(e))},(r,o)=>{i={document:this.jn(e,o),size:qS(o)}}).next(()=>i)}getEntries(t,e){let i=ya();return this.zn(t,e,(r,o)=>{const c=this.jn(r,o);i=i.insert(r,c)}).next(()=>i)}Hn(t,e){let i=ya(),r=new Qi(ft.comparator);return this.zn(t,e,(o,c)=>{const d=this.jn(o,c);i=i.insert(o,d),r=r.insert(o,qS(c))}).next(()=>({documents:i,Jn:r}))}zn(t,e,i){if(e.isEmpty())return Ce.resolve();let r=new ai(hB);e.forEach(p=>r=r.add(p));const o=IDBKeyRange.bound(P0(r.first()),P0(r.last())),c=r.getIterator();let d=c.getNext();return fm(t).Z({index:"documentKeyIndex",range:o},(p,_,b)=>{const I=ft.fromSegments([..._.prefixPath,_.collectionGroup,_.documentId]);for(;d&&hB(d,I)<0;)i(d,null),d=c.getNext();d&&d.isEqual(I)&&(i(d,_),d=c.hasNext()?c.getNext():null),d?b.j(P0(d)):b.done()}).next(()=>{for(;d;)i(d,null),d=c.hasNext()?c.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),HS(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],o=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return fm(t).W(IDBKeyRange.bound(r,o,!0)).next(c=>{let d=ya();for(const p of c){const _=this.jn(ft.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);d=d.insert(_.key,_)}return d})}getAllFromCollectionGroup(t,e,i,r){let o=ya();const c=dB(e,i),d=dB(e,_a.max());return fm(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,d,!0)},(p,_,b)=>{const I=this.jn(ft.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);o=o.insert(I.key,I),o.size===r&&b.done()}).next(()=>o)}newChangeBuffer(t){return new hj(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return uB(t).get("remoteDocumentGlobalKey").next(e=>($t(!!e),e))}Qn(t,e){return uB(t).put("remoteDocumentGlobalKey",e)}jn(t,e){if(e){const i=function Q8(n,t){let e;if(t.document)e=P2(n.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=ft.fromSegments(t.noDocument.path),r=am(t.noDocument.readTime);e=J.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return Et();{const i=ft.fromSegments(t.unknownDocument.path),r=am(t.unknownDocument.version);e=J.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new vi(i[0],i[1]);return Gt.fromTimestamp(r)}(t.readTime)),e}(this.It,e);if(!i.isNoDocument()||!i.version.isEqual(Gt.min()))return i}return J.newInvalidDocument(t)}}function cB(n){return new dj(n)}class hj extends lB{constructor(t,e){super(),this.Yn=t,this.trackRemovals=e,this.Xn=new kf(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new ai((o,c)=>cn(o.canonicalString(),c.canonicalString()));return this.changes.forEach((o,c)=>{const d=this.Xn.get(o);if(e.push(this.Yn.removeEntry(t,o,d.readTime)),c.isValidDocument()){const p=Z2(this.Yn.It,c);r=r.add(o.path.popLast()),i+=qS(p)-d.size,e.push(this.Yn.addEntry(t,o,p))}else if(i-=d.size,this.trackRemovals){const p=Z2(this.Yn.It,c.convertToNoDocument(Gt.min()));e.push(this.Yn.addEntry(t,o,p))}}),r.forEach(o=>{e.push(this.Yn.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.Yn.updateMetadata(t,i)),Ce.waitFor(e)}getFromCache(t,e){return this.Yn.Wn(t,e).next(i=>(this.Xn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Yn.Hn(t,e).next(({documents:i,Jn:r})=>(r.forEach((o,c)=>{this.Xn.set(o,{size:c,readTime:i.get(o).readTime})}),i))}}function uB(n){return gs(n,"remoteDocumentGlobal")}function fm(n){return gs(n,"remoteDocumentsV14")}function P0(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function dB(n,t){const e=t.documentKey.path.toArray();return[n,HS(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function hB(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=cn(e[o],i[o]),r)return r;return r=cn(e.length,i.length),r||(r=cn(e[e.length-2],i[i.length-2]),r||cn(e[e.length-1],i[i.length-1]))}class fj{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class fB{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.getBaseDocument(t,e,i))).next(r=>(null!==i&&A0(i.mutation,r,Mo.empty(),vi.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,En()).next(()=>i))}getLocalViewOfDocuments(t,e,i=En()){const r=ju();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let c=b0();return o.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const i=ju();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,En()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((c,d)=>{e.set(c,d)})})}computeViews(t,e,i,r){let o=ya();const c=w0(),d=w0();return e.forEach((p,_)=>{const b=i.get(_.key);r.has(_.key)&&(void 0===b||b.mutation instanceof Jd)?o=o.insert(_.key,_):void 0!==b&&(c.set(_.key,b.mutation.getFieldMask()),A0(b.mutation,_,b.mutation.getFieldMask(),vi.now()))}),this.recalculateAndSaveOverlays(t,o).next(p=>(p.forEach((_,b)=>c.set(_,b)),e.forEach((_,b)=>{var I;return d.set(_,new fj(b,null!==(I=c.get(_))&&void 0!==I?I:null))}),d))}recalculateAndSaveOverlays(t,e){const i=w0();let r=new Qi((c,d)=>c-d),o=En();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const d of c)d.keys().forEach(p=>{const _=e.get(p);if(null===_)return;let b=i.get(p)||Mo.empty();b=d.applyToLocalView(_,b),i.set(p,b);const I=(r.get(d.batchId)||En()).add(p);r=r.insert(d.batchId,I)})}).next(()=>{const c=[],d=r.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),_=p.key,b=p.value,I=C2();b.forEach(O=>{if(!o.has(O)){const B=p2(e.get(O),i.get(O));null!==B&&I.set(O,B),o=o.add(O)}}),c.push(this.documentOverlayCache.saveOverlays(t,_,I))}return Ce.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return ft.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):jk(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):Ce.resolve(ju());let d=-1,p=o;return c.next(_=>Ce.forEach(_,(b,I)=>(d<I.largestBatchId&&(d=I.largestBatchId),o.get(b)?Ce.resolve():this.getBaseDocument(t,b,I).next(O=>{p=p.insert(b,O)}))).next(()=>this.populateOverlays(t,_,o)).next(()=>this.computeViews(t,p,_,En())).next(b=>({batchId:d,changes:w2(b)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new ft(e)).next(i=>{let r=b0();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let o=b0();return this.indexManager.getCollectionParents(t,r).next(c=>Ce.forEach(c,d=>{const p=(_=e,b=d.child(r),new Qd(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,b;return this.getDocumentsMatchingCollectionQuery(t,p,i).next(_=>{_.forEach((b,I)=>{o=o.insert(b,I)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(o=>(r=o,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(o=>{o.forEach((d,p)=>{const _=p.getKey();null===r.get(_)&&(r=r.insert(_,J.newInvalidDocument(_)))});let c=b0();return r.forEach((d,p)=>{const _=o.get(d);void 0!==_&&A0(_.mutation,p,Mo.empty(),vi.now()),qk(e,p)&&(c=c.insert(d,p))}),c})}getBaseDocument(t,e,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(t,e):Ce.resolve(J.newInvalidDocument(e))}}class pj{constructor(t){this.It=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return Ce.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var i;return this.Zn.set(e.id,{id:(i=e).id,version:i.version,createTime:ps(i.createTime)}),Ce.resolve()}getNamedQuery(t,e){return Ce.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,{name:(i=e).name,query:tO(i.bundledQuery),readTime:ps(i.readTime)}),Ce.resolve();var i}}class gj{constructor(){this.overlays=new Qi(ft.comparator),this.es=new Map}getOverlay(t,e){return Ce.resolve(this.overlays.get(e))}getOverlays(t,e){const i=ju();return Ce.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.ue(t,e,o)}),Ce.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.es.delete(i)),Ce.resolve()}getOverlaysForCollection(t,e,i){const r=ju(),o=e.length+1,c=new ft(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,_=p.getKey();if(!e.isPrefixOf(_.path))break;_.path.length===o&&p.largestBatchId>i&&r.set(p.getKey(),p)}return Ce.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new Qi((_,b)=>_-b);const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===e&&_.largestBatchId>i){let b=o.get(_.largestBatchId);null===b&&(b=ju(),o=o.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const d=ju(),p=o.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,b)=>d.set(_,b)),!(d.size()>=r)););return Ce.resolve(d)}ue(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new eO(e,i));let o=this.es.get(e);void 0===o&&(o=En(),this.es.set(e,o)),this.es.set(e,o.add(i.key))}}class rO{constructor(){this.ns=new ai(ms.ss),this.rs=new ai(ms.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const i=new ms(t,e);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.cs(new ms(t,e))}hs(t,e){t.forEach(i=>this.removeReference(i,e))}ls(t){const e=new ft(new Un([])),i=new ms(e,t),r=new ms(e,t+1),o=[];return this.rs.forEachInRange([i,r],c=>{this.cs(c),o.push(c.key)}),o}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new ft(new Un([])),i=new ms(e,t),r=new ms(e,t+1);let o=En();return this.rs.forEachInRange([i,r],c=>{o=o.add(c.key)}),o}containsKey(t){const e=new ms(t,0),i=this.ns.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class ms{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return ft.comparator(t.key,e.key)||cn(t._s,e._s)}static os(t,e){return cn(t._s,e._s)||ft.comparator(t.key,e.key)}}class mj{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new ai(ms.ss)}checkEmpty(t){return Ce.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.ws;this.ws++;const c=new Jk(o,e,i,r);this.mutationQueue.push(c);for(const d of r)this.gs=this.gs.add(new ms(d.key,o)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return Ce.resolve(c)}lookupMutationBatch(t,e){return Ce.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ps(e+1),o=r<0?0:r;return Ce.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new ms(e,0),r=new ms(e,Number.POSITIVE_INFINITY),o=[];return this.gs.forEachInRange([i,r],c=>{const d=this.ys(c._s);o.push(d)}),Ce.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ai(cn);return e.forEach(r=>{const o=new ms(r,0),c=new ms(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([o,c],d=>{i=i.add(d._s)})}),Ce.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;ft.isDocumentKey(o)||(o=o.child(""));const c=new ms(new ft(o),0);let d=new ai(cn);return this.gs.forEachWhile(p=>{const _=p.key.path;return!!i.isPrefixOf(_)&&(_.length===r&&(d=d.add(p._s)),!0)},c),Ce.resolve(this.Is(d))}Is(t){const e=[];return t.forEach(i=>{const r=this.ys(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){$t(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return Ce.forEach(e.mutations,r=>{const o=new ms(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.gs=i})}An(t){}containsKey(t,e){const i=new ms(e,0),r=this.gs.firstAfterOrEqual(i);return Ce.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return Ce.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class _j{constructor(t){this.Es=t,this.docs=new Qi(ft.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,c=this.Es(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Ce.resolve(i?i.document.mutableCopy():J.newInvalidDocument(e))}getEntries(t,e){let i=ya();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():J.newInvalidDocument(r))}),Ce.resolve(i)}getAllFromCollection(t,e,i){let r=ya();const o=new ft(e.child("")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:d,value:{document:p}}=c.getNext();if(!e.isPrefixOf(d.path))break;d.path.length>e.length+1||SS(Pk(p),i)<=0||(r=r.insert(p.key,p.mutableCopy()))}return Ce.resolve(r)}getAllFromCollectionGroup(t,e,i,r){Et()}As(t,e){return Ce.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new yj(this)}getSize(t){return Ce.resolve(this.size)}}class yj extends lB{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Yn.addEntry(t,r)):this.Yn.removeEntry(i)}),Ce.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}class vj{constructor(t){this.persistence=t,this.Rs=new kf(e=>et(e),bt),this.lastRemoteSnapshotVersion=Gt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new rO,this.targetCount=0,this.vs=hm.Pn()}forEachTarget(t,e){return this.Rs.forEach((i,r)=>e(r)),Ce.resolve()}getLastRemoteSnapshotVersion(t){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ce.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.bs&&(this.bs=e),Ce.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new hm(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,Ce.resolve()}updateTargetData(t,e){return this.Dn(e),Ce.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Rs.forEach((c,d)=>{d.sequenceNumber<=e&&null===i.get(d.targetId)&&(this.Rs.delete(c),o.push(this.removeMatchingKeysForTargetId(t,d.targetId)),r++)}),Ce.waitFor(o).next(()=>r)}getTargetCount(t){return Ce.resolve(this.targetCount)}getTargetData(t,e){const i=this.Rs.get(e)||null;return Ce.resolve(i)}addMatchingKeys(t,e,i){return this.Ps.us(e,i),Ce.resolve()}removeMatchingKeys(t,e,i){this.Ps.hs(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(c=>{o.push(r.markPotentiallyOrphaned(t,c))}),Ce.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),Ce.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ps.ds(e);return Ce.resolve(i)}containsKey(t,e){return Ce.resolve(this.Ps.containsKey(e))}}class pB{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new xo(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new vj(this),this.indexManager=new rj,this.remoteDocumentCache=new _j(i=>this.referenceDelegate.xs(i)),this.It=new q2(e),this.Ns=new pj(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new gj,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Vs[t.toKey()];return i||(i=new mj(e,this.referenceDelegate),this.Vs[t.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,i){tt("MemoryPersistence","Starting transaction:",t);const r=new Aj(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(o=>this.referenceDelegate.Os(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ms(t,e){return Ce.or(Object.values(this.Vs).map(i=>()=>i.containsKey(t,e)))}}class Aj extends TS{constructor(t){super(),this.currentSequenceNumber=t}}class YS{constructor(t){this.persistence=t,this.Fs=new rO,this.$s=null}static Bs(t){return new YS(t)}get Ls(){if(this.$s)return this.$s;throw Et()}addReference(t,e,i){return this.Fs.addReference(i,e),this.Ls.delete(i.toString()),Ce.resolve()}removeReference(t,e,i){return this.Fs.removeReference(i,e),this.Ls.add(i.toString()),Ce.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),Ce.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Ls.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}ks(){this.$s=new Set}Os(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.Ls,i=>{const r=ft.fromPath(i);return this.Us(t,r).next(o=>{o||e.removeEntry(r,Gt.min())})}).next(()=>(this.$s=null,e.apply(t)))}updateLimboDocument(t,e){return this.Us(t,e).next(i=>{i?this.Ls.delete(e.toString()):this.Ls.add(e.toString())})}xs(t){return 0}Us(t,e){return Ce.or([()=>Ce.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ms(t,e)])}}class bj{constructor(t){this.It=t}$(t,e,i,r){const o=new Xg("createOrUpgrade",e);var d;i<1&&r>=1&&(t.createObjectStore("owner"),(d=t).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",U2,{unique:!0}),d.createObjectStore("documentMutations"),gB(t),function(d){d.createObjectStore("remoteDocuments")}(t));let c=Ce.resolve();return i<3&&r>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(t),gB(t)),c=c.next(()=>function(d){const p=d.store("targetGlobal"),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Gt.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",_)}(o))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(d,p){return p.store("mutations").W().next(_=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",U2,{unique:!0});const b=p.store("mutations"),I=_.map(O=>b.put(O));return Ce.waitFor(I)})}(t,o))),c=c.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(c=c.next(()=>this.qs(o))),i<6&&r>=6&&(c=c.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(t),this.Ks(o)))),i<7&&r>=7&&(c=c.next(()=>this.Gs(o))),i<8&&r>=8&&(c=c.next(()=>this.Qs(t,o))),i<9&&r>=9&&(c=c.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(c=c.next(()=>this.js(o))),i<11&&r>=11&&(c=c.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(c=c.next(()=>{!function(d){const p=d.createObjectStore("documentOverlays",{keyPath:Z8});p.createIndex("collectionPathOverlayIndex",W8,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",Y8,{unique:!1})}(t)})),i<13&&r>=13&&(c=c.next(()=>function(d){const p=d.createObjectStore("remoteDocumentsV14",{keyPath:N8});p.createIndex("documentKeyIndex",F8),p.createIndex("collectionGroupIndex",L8)}(t)).next(()=>this.Ws(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.zs(t,o))),i<15&&r>=15&&(c=c.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:z8}).createIndex("sequenceNumberIndex",j8,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:G8}).createIndex("documentKeyIndex",q8,{unique:!1})}(t))),c}Ks(t){let e=0;return t.store("remoteDocuments").Z((i,r)=>{e+=qS(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>Ce.forEach(r,o=>{const c=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",c).next(d=>Ce.forEach(d,p=>{$t(p.userId===o.userId);const _=lm(this.It,p);return iB(t,o.userId,_).next(()=>{})}))}))}Gs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Z((c,d)=>{const p=new Un(c),_=[0,Oo(p)];o.push(e.get(_).next(b=>b?Ce.resolve():e.put({targetId:0,path:Oo(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Ce.waitFor(o))})}Qs(t,e){t.createObjectStore("collectionParents",{keyPath:H8});const i=e.store("collectionParents"),r=new iO,o=c=>{if(r.add(c)){const d=c.lastSegment(),p=c.popLast();return i.put({collectionId:d,parent:Oo(p)})}};return e.store("remoteDocuments").Z({X:!0},(c,d)=>{const p=new Un(c);return o(p.popLast())}).next(()=>e.store("documentMutations").Z({X:!0},([c,d,p],_)=>{const b=qu(d);return o(b.popLast())}))}js(t){const e=t.store("targets");return e.Z((i,r)=>{const o=x0(r),c=W2(this.It,o);return e.put(c)})}Ws(t,e){const i=e.store("remoteDocuments"),r=[];return i.Z((o,c)=>{const d=e.store("remoteDocumentsV14"),p=(_=c,_.document?new ft(Un.fromString(_.document.name).popFirst(5)):_.noDocument?ft.fromSegments(_.noDocument.path):_.unknownDocument?ft.fromSegments(_.unknownDocument.path):Et()).path.toArray();var _;const b={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(d.put(b))}).next(()=>Ce.waitFor(r))}zs(t,e){const i=e.store("mutations"),r=cB(this.It),o=new pB(YS.Bs,this.It.re);return i.W().next(c=>{const d=new Map;return c.forEach(p=>{var _;let b=null!==(_=d.get(p.userId))&&void 0!==_?_:En();lm(this.It,p).keys().forEach(I=>b=b.add(I)),d.set(p.userId,b)}),Ce.forEach(d,(p,_)=>{const b=new Tr(_),I=zS.oe(this.It,b),O=o.getIndexManager(b),B=ZS.oe(b,this.It,O,o.referenceDelegate);return new fB(r,B,I,O).recalculateAndSaveOverlaysForDocumentKeys(new Qk(e,xo.at),p).next()})})}}function gB(n){n.createObjectStore("targetDocuments",{keyPath:V8}).createIndex("documentTargetsIndex",U8,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",B8,{unique:!0}),n.createObjectStore("targetGlobal")}const sO="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class oO{constructor(t,e,i,r,o,c,d,p,_,b,I=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Hs=o,this.window=c,this.document=d,this.Js=_,this.Ys=b,this.Xs=I,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=O=>Promise.resolve(),!oO.C())throw new Ye(Ie.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new uj(this,r),this.ii=e+"main",this.It=new q2(p),this.ri=new es(this.ii,this.Xs,new bj(this.It)),this.Cs=new oj(this.referenceDelegate,this.It),this.remoteDocumentCache=cB(this.It),this.Ns=new J8,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===b&&or("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ye(Ie.FAILED_PRECONDITION,sO);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Cs.getHighestSequenceNumber(t))}).then(t=>{this.Ss=new xo(t,this.Js)}).then(()=>{this.Ds=!0}).catch(t=>(this.ri&&this.ri.close(),Promise.reject(t)))}li(t){var e=this;return this.si=function(){var i=(0,xe.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ri.L(function(){var e=(0,xe.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Hs.enqueueAndForget((0,xe.Z)(function*(){e.started&&(yield e.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>$S(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(t)).next(e=>this.isPrimary&&!e?this._i(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(Jl(t))return tt("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return tt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Hs.enqueueRetryable(()=>this.si(t)),this.isPrimary=t})}fi(t){return N0(t).get("owner").next(e=>Ce.resolve(this.mi(e)))}gi(t){return $S(t).delete(this.clientId)}yi(){var t=this;return(0,xe.Z)(function*(){if(t.isPrimary&&!t.pi(t.ni,18e5)){t.ni=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=gs(i,"clientMetadata");return r.W().next(o=>{const c=t.Ii(o,18e5),d=o.filter(p=>-1===c.indexOf(p));return Ce.forEach(d,p=>r.delete(p.clientId)).next(()=>d)})}).catch(()=>[]);if(t.oi)for(const i of e)t.oi.removeItem(t.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(t){return!!t&&t.ownerId===this.clientId}di(t){return this.Ys?Ce.resolve(!0):N0(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)){if(this.mi(e)&&this.networkEnabled)return!0;if(!this.mi(e)){if(!e.allowTabSynchronization)throw new Ye(Ie.FAILED_PRECONDITION,sO);return!1}}return!(!this.networkEnabled||!this.inForeground)||$S(t).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const c=!this.inForeground&&r.inForeground,d=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||c&&d)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&tt("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,xe.Z)(function*(){t.Ds=!1,t.Ai(),t.ei&&(t.ei.cancel(),t.ei=null),t.Ri(),t.bi(),yield t.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new Qk(e,xo.at);return t._i(i).next(()=>t.gi(i))}),t.ri.close(),t.Pi()})()}Ii(t,e){return t.filter(i=>this.pi(i.updateTimeMs,e)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",t=>$S(t).W().next(e=>this.Ii(e,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(t,e){return ZS.oe(t,this.It,e,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new sj(t,this.It.re.databaseId)}getDocumentOverlayCache(t){return zS.oe(this.It,t)}getBundleCache(){return this.Ns}runTransaction(t,e,i){tt("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(c=this.Xs)?K8:14===c?G2:13===c?j2:12===c?$8:11===c?z2:void Et();var c;let d;return this.ri.runTransaction(t,r,o,p=>(d=new Qk(p,this.Ss?this.Ss.next():xo.at),"readwrite-primary"===e?this.fi(d).next(_=>!!_||this.di(d)).next(_=>{if(!_)throw or(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ye(Ie.FAILED_PRECONDITION,Nk);return i(d)}).next(_=>this.wi(d).next(()=>_)):this.Vi(d).next(()=>i(d)))).then(p=>(d.raiseOnCommittedEvent(),p))}Vi(t){return N0(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ye(Ie.FAILED_PRECONDITION,sO)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return N0(t).put("owner",e)}static C(){return es.C()}_i(t){const e=N0(t);return e.get("owner").next(i=>this.mi(i)?(tt("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):Ce.resolve())}pi(t,e){const i=Date.now();return!(t<i-e||t>i&&(or(`Detected an update time that is in the future: ${t} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,G.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(t){var e;try{const i=null!==(null===(e=this.oi)||void 0===e?void 0:e.getItem(this.Ti(t)));return tt("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return or("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(t){or("Failed to set zombie client id.",t)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function N0(n){return gs(n,"owner")}function $S(n){return gs(n,"clientMetadata")}function aO(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class lO{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Si=i,this.Di=r}static Ci(t,e){let i=En(),r=En();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new lO(t,e.fromCache,i,r)}}class mB{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.ki(t,e).next(o=>o||this.Oi(t,e,r,i)).next(o=>o||this.Mi(t,e))}ki(t,e){if(t2(e))return Ce.resolve(null);let i=ko(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=PS(e,null,"F"),i=ko(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const c=En(...o);return this.Ni.getDocuments(t,c).next(d=>this.indexManager.getMinOffset(t,i).next(p=>{const _=this.Fi(e,d);return this.$i(e,_,c,p.readTime)?this.ki(t,PS(e,null,"F")):this.Bi(t,_,e,p)}))})))}Oi(t,e,i,r){return t2(e)||r.isEqual(Gt.min())?this.Mi(t,e):this.Ni.getDocuments(t,i).next(o=>{const c=this.Fi(e,o);return this.$i(e,c,i,r)?this.Mi(t,e):(Uy()<=el.in.DEBUG&&tt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Gk(e)),this.Bi(t,c,e,Rk(r,-1)))})}Fi(t,e){let i=new ai(s2(t));return e.forEach((r,o)=>{qk(t,o)&&(i=i.add(o))}),i}$i(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Mi(t,e){return Uy()<=el.in.DEBUG&&tt("QueryEngine","Using full collection scan to execute query:",Gk(e)),this.Ni.getDocumentsMatchingQuery(t,e,_a.min())}Bi(t,e,i,r){return this.Ni.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(c=>{o=o.insert(c.key,c)}),o))}}class wj{constructor(t,e,i,r){this.persistence=t,this.Li=e,this.It=r,this.Ui=new Qi(cn),this.qi=new kf(o=>et(o),bt),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(i)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new fB(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ui))}}function _B(n,t,e,i){return new wj(n,t,e,i)}function yB(n,t){return cO.apply(this,arguments)}function cO(){return cO=(0,xe.Z)(function*(n,t){const e=gt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.Qi(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const c=[],d=[];let p=En();for(const _ of r){c.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}for(const _ of o){d.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}return e.localDocuments.getDocuments(i,p).next(_=>({ji:_,removedBatchIds:c,addedBatchIds:d}))})})}),cO.apply(this,arguments)}function Cj(n,t){const e=gt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Gi.newChangeBuffer({trackRemovals:!0});return function(c,d,p,_){const b=p.batch,I=b.keys();let O=Ce.resolve();return I.forEach(B=>{O=O.next(()=>_.getEntry(d,B)).next(z=>{const X=p.docVersions.get(B);$t(null!==X),z.version.compareTo(X)<0&&(b.applyToRemoteDocument(z,p),z.isValidDocument()&&(z.setReadTime(p.commitVersion),_.addEntry(z)))})}),O.next(()=>c.mutationQueue.removeMutationBatch(d,b))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let d=En();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function vB(n){const t=gt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Cs.getLastRemoteSnapshotVersion(e))}function Ej(n,t){const e=gt(n),i=t.snapshotVersion;let r=e.Ui;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=e.Gi.newChangeBuffer({trackRemovals:!0});r=e.Ui;const d=[];t.targetChanges.forEach((b,I)=>{const O=r.get(I);if(!O)return;d.push(e.Cs.removeMatchingKeys(o,b.removedDocuments,I).next(()=>e.Cs.addMatchingKeys(o,b.addedDocuments,I)));let B=O.withSequenceNumber(o.currentSequenceNumber);var z,X,se;t.targetMismatches.has(I)?B=B.withResumeToken(pr.EMPTY_BYTE_STRING,Gt.min()).withLastLimboFreeSnapshotVersion(Gt.min()):b.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(b.resumeToken,i)),r=r.insert(I,B),X=B,se=b,(0===(z=O).resumeToken.approximateByteSize()||X.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=3e8||se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0)&&d.push(e.Cs.updateTargetData(o,B))});let p=ya(),_=En();if(t.documentUpdates.forEach(b=>{t.resolvedLimboDocuments.has(b)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(o,b))}),d.push(AB(o,c,t.documentUpdates).next(b=>{p=b.Wi,_=b.zi})),!i.isEqual(Gt.min())){const b=e.Cs.getLastRemoteSnapshotVersion(o).next(I=>e.Cs.setTargetsMetadata(o,o.currentSequenceNumber,i));d.push(b)}return Ce.waitFor(d).next(()=>c.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,p,_)).next(()=>p)}).then(o=>(e.Ui=r,o))}function AB(n,t,e){let i=En(),r=En();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let c=ya();return e.forEach((d,p)=>{const _=o.get(d);p.isFoundDocument()!==_.isFoundDocument()&&(r=r.add(d)),p.isNoDocument()&&p.version.isEqual(Gt.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||0===p.version.compareTo(_.version)&&_.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):tt("LocalStore","Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",p.version)}),{Wi:c,zi:r}})}function Dj(n,t){const e=gt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function iv(n,t){const e=gt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Cs.getTargetData(i,t).next(o=>o?(r=o,Ce.resolve(r)):e.Cs.allocateTargetId(i).next(c=>(r=new Of(t,c,0,i.currentSequenceNumber),e.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ui=e.Ui.insert(i.targetId,i),e.qi.set(t,i.targetId)),i})}function rv(n,t,e){return uO.apply(this,arguments)}function uO(){return uO=(0,xe.Z)(function*(n,t,e){const i=gt(n),r=i.Ui.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Jl(c))throw c;tt("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ui=i.Ui.remove(t),i.qi.delete(r.target)}),uO.apply(this,arguments)}function KS(n,t,e){const i=gt(n);let r=Gt.min(),o=En();return i.persistence.runTransaction("Execute query","readonly",c=>function(d,p,_){const b=gt(d),I=b.qi.get(_);return void 0!==I?Ce.resolve(b.Ui.get(I)):b.Cs.getTargetData(p,_)}(i,c,ko(t)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(c,d.targetId).next(p=>{o=p})}).next(()=>i.Li.getDocumentsMatchingQuery(c,t,e?r:Gt.min(),e?o:En())).next(d=>(CB(i,r2(t),d),{documents:d,Hi:o})))}function bB(n,t){const e=gt(n),i=gt(e.Cs),r=e.Ui.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.se(o,t).next(c=>c?c.target:null))}function wB(n,t){const e=gt(n),i=e.Ki.get(t)||Gt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Gi.getAllFromCollectionGroup(r,t,Rk(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(CB(e,t,r),r))}function CB(n,t,e){let i=n.Ki.get(t)||Gt.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Ki.set(t,i)}function dO(){return dO=(0,xe.Z)(function*(n,t,e,i){const r=gt(n);let o=En(),c=ya();for(const _ of e){const b=t.Ji(_.metadata.name);_.document&&(o=o.add(b));const I=t.Yi(_);I.setReadTime(t.Xi(_.metadata.readTime)),c=c.insert(b,I)}const d=r.Gi.newChangeBuffer({trackRemovals:!0}),p=yield iv(r,(_=i,ko(Wy(Un.fromString(`__bundle__/docs/${_}`)))));var _;return r.persistence.runTransaction("Apply bundle documents","readwrite",_=>AB(_,d,c).next(b=>(d.apply(_),b)).next(b=>r.Cs.removeMatchingKeysForTargetId(_,p.targetId).next(()=>r.Cs.addMatchingKeys(_,o,p.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(_,b.Wi,b.zi)).next(()=>b.Wi)))}),dO.apply(this,arguments)}function Sj(n,t){return hO.apply(this,arguments)}function hO(){return hO=(0,xe.Z)(function*(n,t,e=En()){const i=yield iv(n,ko(tO(t.bundledQuery))),r=gt(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const c=ps(t.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.Ns.saveNamedQuery(o,t);const d=i.withResumeToken(pr.EMPTY_BYTE_STRING,c);return r.Ui=r.Ui.insert(d.targetId,d),r.Cs.updateTargetData(o,d).next(()=>r.Cs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Cs.addMatchingKeys(o,e,i.targetId)).next(()=>r.Ns.saveNamedQuery(o,t))})}),hO.apply(this,arguments)}function EB(n,t){return`firestore_clients_${n}_${t}`}function DB(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function fO(n,t){return`firestore_targets_${n}_${t}`}class QS{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Zi(t,e,i){const r=JSON.parse(i);let o,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(o=new Ye(r.error.code,r.error.message))),c?new QS(t,e,r.state,o):(or("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class F0{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Zi(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Ye(i.error.code,i.error.message))),o?new F0(t,i.state,r):(or("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class JS{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Zi(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=BS();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=Vk(i.activeTargetIds[c]),o=o.add(i.activeTargetIds[c]);return r?new JS(t,o):(or("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class pO{constructor(t,e){this.clientId=t,this.onlineState=e}static Zi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new pO(e.clientId,e.onlineState):(or("SharedClientState",`Failed to parse online state: ${t}`),null)}}class gO{constructor(){this.activeTargetIds=BS()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class mO{constructor(t,e,i,r,o){this.window=t,this.Hs=e,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Qi(cn),this.started=!1,this.cr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ar=EB(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new gO),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,xe.Z)(function*(){const e=yield t.syncEngine.vi();for(const r of e){if(r===t.sr)continue;const o=t.getItem(EB(t.persistenceKey,r));if(o){const c=JS.Zi(r,o);c&&(t.ur=t.ur.insert(c.clientId,c))}}t.gr();const i=t.storage.getItem(t.wr);if(i){const r=t.yr(i);r&&t.pr(r)}for(const r of t.cr)t.rr(r);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.hr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(t){let e=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Tr(t,"pending")}updateMutationState(t,e,i){this.Tr(t,e,i),this.Er(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(fO(this.persistenceKey,t));if(i){const r=F0.Zi(t,i);r&&(e=r.state)}}return this.Ar.er(t),this.gr(),e}removeLocalQueryTarget(t){this.Ar.nr(t),this.gr()}isLocalQueryTarget(t){return this.Ar.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(fO(this.persistenceKey,t))}updateQueryState(t,e,i){this.Rr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Er(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.br(t)}notifyBundleLoaded(t){this.Pr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return tt("SharedClientState","READ",t,e),e}setItem(t,e){tt("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){tt("SharedClientState","REMOVE",t),this.storage.removeItem(t)}rr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(tt("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void or("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,xe.Z)(function*(){if(e.started){if(null!==i.key)if(e.lr.test(i.key)){if(null==i.newValue){const r=e.vr(i.key);return e.Vr(r,null)}{const r=e.Sr(i.key,i.newValue);if(r)return e.Vr(r.clientId,r)}}else if(e.dr.test(i.key)){if(null!==i.newValue){const r=e.Dr(i.key,i.newValue);if(r)return e.Cr(r)}}else if(e._r.test(i.key)){if(null!==i.newValue){const r=e.Nr(i.key,i.newValue);if(r)return e.kr(r)}}else if(i.key===e.wr){if(null!==i.newValue){const r=e.yr(i.newValue);if(r)return e.pr(r)}}else if(i.key===e.hr){const r=function(o){let c=xo.at;if(null!=o)try{const d=JSON.parse(o);$t("number"==typeof d),c=d}catch(d){or("SharedClientState","Failed to read sequence number from WebStorage",d)}return c}(i.newValue);r!==xo.at&&e.sequenceNumberHandler(r)}else if(i.key===e.mr){const r=e.Or(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Mr(o)))}}else e.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(t,e,i){const r=new QS(this.currentUser,t,e,i),o=DB(this.persistenceKey,this.currentUser,t);this.setItem(o,r.tr())}Er(t){const e=DB(this.persistenceKey,this.currentUser,t);this.removeItem(e)}br(t){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:t}))}Rr(t,e,i){const r=fO(this.persistenceKey,t),o=new F0(t,e,i);this.setItem(r,o.tr())}Pr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.mr,e)}vr(t){const e=this.lr.exec(t);return e?e[1]:null}Sr(t,e){const i=this.vr(t);return JS.Zi(i,e)}Dr(t,e){const i=this.dr.exec(t),r=Number(i[1]);return QS.Zi(new Tr(void 0!==i[2]?i[2]:null),r,e)}Nr(t,e){const i=this._r.exec(t),r=Number(i[1]);return F0.Zi(r,e)}yr(t){return pO.Zi(t)}Or(t){return JSON.parse(t)}Cr(t){var e=this;return(0,xe.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Fr(t.batchId,t.state,t.error);tt("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}kr(t){return this.syncEngine.$r(t.targetId,t.state,t.error)}Vr(t,e){const i=e?this.ur.insert(t,e):this.ur.remove(t),r=this.Ir(this.ur),o=this.Ir(i),c=[],d=[];return o.forEach(p=>{r.has(p)||c.push(p)}),r.forEach(p=>{o.has(p)||d.push(p)}),this.syncEngine.Br(c,d).then(()=>{this.ur=i})}pr(t){this.ur.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ir(t){let e=BS();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class IB{constructor(){this.Lr=new gO,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Lr.er(t),this.Ur[t]||"not-current"}updateQueryState(t,e,i){this.Ur[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.Ur[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new gO,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Tj{qr(t){}shutdown(){}}class SB{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){tt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){tt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const xj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Mj{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}class kj extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.oo=(t.ssl?"https":"http")+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(t,e,i,r,o){const c=this.ho(t,e);tt("RestConnection","Sending: ",c,i);const d={};return this.lo(d,r,o),this.fo(t,c,d,i).then(p=>(tt("RestConnection","Received: ",p),p),p=>{throw Wc("RestConnection",`${t} failed with error: `,p,"url: ",c,"request:",i),p})}_o(t,e,i,r,o,c){return this.ao(t,e,i,r,o)}lo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Df,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}ho(t,e){return`${this.oo}/v1/${e}:${xj[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,e,i,r){return new Promise((o,c)=>{const d=new t0;d.setWithCredentials(!0),d.listenOnce(ma.COMPLETE,()=>{var _;try{switch(d.getLastErrorCode()){case e0.NO_ERROR:const b=d.getResponseJson();tt("Connection","XHR received:",JSON.stringify(b)),o(b);break;case e0.TIMEOUT:tt("Connection",'RPC "'+t+'" timed out'),c(new Ye(Ie.DEADLINE_EXCEEDED,"Request time out"));break;case e0.HTTP_ERROR:const I=d.getStatus();if(tt("Connection",'RPC "'+t+'" failed with status:',I,"response text:",d.getResponseText()),I>0){let O=d.getResponseJson();Array.isArray(O)&&(O=O[0]);const B=null===(_=O)||void 0===_?void 0:_.error;if(B&&B.status&&B.message){const z=function(X){const se=X.toLowerCase().replace(/_/g,"-");return Object.values(Ie).indexOf(se)>=0?se:Ie.UNKNOWN}(B.status);c(new Ye(z,B.message))}else c(new Ye(Ie.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Ye(Ie.UNAVAILABLE,"Connection failed."));break;default:Et()}}finally{tt("Connection",'RPC "'+t+'" completed.')}});const p=JSON.stringify(r);d.send(e,"POST",p,i,15)})}wo(t,e,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=Ik(),c=Xw(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new Tk({})),this.lo(d.initMessageHeaders,e,i),d.encodeInitMessageHeaders=!0;const p=r.join("");tt("Connection","Creating WebChannel: "+p,d);const _=o.createWebChannel(p,d);let b=!1,I=!1;const O=new Mj({Hr:z=>{I?tt("Connection","Not sending because WebChannel is closed:",z):(b||(tt("Connection","Opening WebChannel transport."),_.open(),b=!0),tt("Connection","WebChannel sending:",z),_.send(z))},Jr:()=>_.close()}),B=(z,X,se)=>{z.listen(X,Fe=>{try{se(Fe)}catch(it){setTimeout(()=>{throw it},0)}})};return B(_,Vy.EventType.OPEN,()=>{I||tt("Connection","WebChannel transport opened.")}),B(_,Vy.EventType.CLOSE,()=>{I||(I=!0,tt("Connection","WebChannel transport closed"),O.io())}),B(_,Vy.EventType.ERROR,z=>{I||(I=!0,Wc("Connection","WebChannel transport errored:",z),O.io(new Ye(Ie.UNAVAILABLE,"The operation could not be completed")))}),B(_,Vy.EventType.MESSAGE,z=>{var X;if(!I){const se=z.data[0];$t(!!se);const Fe=se,it=Fe.error||(null===(X=Fe[0])||void 0===X?void 0:X.error);if(it){tt("Connection","WebChannel received error:",it);const at=it.status;let ct=function(Vt){const On=Zr[Vt];if(void 0!==On)return A2(On)}(at),Pt=it.message;void 0===ct&&(ct=Ie.INTERNAL,Pt="Unknown error status: "+at+" with message "+it.message),I=!0,O.io(new Ye(ct,Pt)),_.close()}else tt("Connection","WebChannel received:",se),O.ro(se)}}),B(c,Sk.STAT_EVENT,z=>{z.stat===By.PROXY?tt("Connection","Detected buffering proxy"):z.stat===By.NOPROXY&&tt("Connection","Detected no buffering proxy")}),setTimeout(()=>{O.so()},0),O}}function TB(){return typeof window<"u"?window:null}function XS(){return typeof document<"u"?document:null}function L0(n){return new w8(n,!0)}class _O{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Hs=t,this.timerId=e,this.mo=i,this.yo=r,this.po=o,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const e=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,e-i);r>0&&tt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class xB{constructor(t,e,i,r,o,c,d,p){this.Hs=t,this.vo=i,this.Vo=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new _O(t,e)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var t=this;return(0,xe.Z)(function*(){t.No()&&(yield t.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(t){this.Lo(),this.stream.send(t)}$o(){var t=this;return(0,xe.Z)(function*(){if(t.ko())return t.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(t,e){var i=this;return(0,xe.Z)(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==t?i.xo.reset():e&&e.code===Ie.RESOURCE_EXHAUSTED?(or(e.toString()),or("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):e&&e.code===Ie.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Zr(e)})()}qo(){}auth(){this.state=1;const t=this.Ko(this.So),e=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===e&&this.Go(i,r)},i=>{t(()=>{const r=new Ye(Ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(t,e){const i=this.Ko(this.So);this.stream=this.jo(t,e),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var t=this;this.state=5,this.xo.Ro((0,xe.Z)(function*(){t.state=0,t.start()}))}Qo(t){return tt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return e=>{this.Hs.enqueueAndForget(()=>this.So===t?e():(tt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Oj extends xB{constructor(t,e,i,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.It=o}jo(t,e){return this.connection.wo("Listen",t,e)}onMessage(t){this.xo.reset();const e=function D8(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(p=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:Et(),r=t.targetChange.targetIds||[],o=function(p,_){return p.gt?($t(void 0===_||"string"==typeof _),pr.fromBase64String(_||"")):($t(void 0===_||_ instanceof Uint8Array),pr.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(p){const _=void 0===p.code?Ie.UNKNOWN:A2(p.code);return new Ye(_,p.message||"")}(c);e=new D2(i,r,o,d||null)}else if("documentChange"in t){const i=t.documentChange,r=Gu(n,i.document.name),o=ps(i.document.updateTime),c=new F({mapValue:{fields:i.document.fields}}),d=J.newFoundDocument(r,o,c);e=new VS(i.targetIds||[],i.removedTargetIds||[],d.key,d)}else if("documentDelete"in t){const i=t.documentDelete,r=Gu(n,i.document),o=i.readTime?ps(i.readTime):Gt.min(),c=J.newNoDocument(r,o);e=new VS([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in t){const i=t.documentRemove,r=Gu(n,i.document);e=new VS([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return Et();{const i=t.filter,o=new p8(i.count||0);e=new E2(i.targetId,o)}}var p;return e}(this.It,t),i=function(r){if(!("targetChange"in r))return Gt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Gt.min():o.readTime?ps(o.readTime):Gt.min()}(t);return this.listener.Wo(e,i)}zo(t){const e={};e.database=S0(this.It),e.addTarget=function(r,o){let c;const d=o.target;return c=Lt(d)?{documents:N2(r,d)}:{query:Kk(r,d)},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?c.resumeToken=x2(r,o.resumeToken):o.snapshotVersion.compareTo(Gt.min())>0&&(c.readTime=D0(r,o.snapshotVersion.toTimestamp())),c}(this.It,t);const i=function S8(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Et()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Bo(e)}Ho(t){const e={};e.database=S0(this.It),e.removeTarget=t,this.Bo(e)}}class Rj extends xB{constructor(t,e,i,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.It=o,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(t,e){return this.connection.wo("Write",t,e)}onMessage(t){if($t(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const e=function I8(n,t){return n&&n.length>0?($t(void 0!==t),n.map(e=>function(i,r){let o=ps(i.updateTime?i.updateTime:r);return o.isEqual(Gt.min())&&(o=ps(r)),new d8(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=ps(t.commitTime);return this.listener.Zo(i,e)}return $t(!t.writeResults||0===t.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=S0(this.It),this.Bo(t)}Xo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>T0(this.It,i))};this.Bo(e)}}class Pj extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new Ye(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}ao(t,e,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.ao(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ye(Ie.UNKNOWN,r.toString())})}_o(t,e,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection._o(t,e,i,o,c,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ye(Ie.UNKNOWN,o.toString())})}terminate(){this.nu=!0}}class Fj{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(t){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,"Online"===t&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(or(e),this.ou=!1):tt("OnlineStateTracker",e)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Lj{constructor(t,e,i,r,o){var c=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=o,this.mu.qr(d=>{i.enqueueAndForget((0,xe.Z)(function*(){var p;Xd(c)&&(tt("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,xe.Z)(function*(_){const b=gt(_);b._u.add(4),yield sv(b),b.gu.set("Unknown"),b._u.delete(4),yield B0(b)}),function(_){return p.apply(this,arguments)})(c))}))}),this.gu=new Fj(i,r)}}function B0(n){return vO.apply(this,arguments)}function vO(){return vO=(0,xe.Z)(function*(n){if(Xd(n))for(const t of n.wu)yield t(!0)}),vO.apply(this,arguments)}function sv(n){return AO.apply(this,arguments)}function AO(){return AO=(0,xe.Z)(function*(n){for(const t of n.wu)yield t(!1)}),AO.apply(this,arguments)}function eT(n,t){const e=gt(n);e.du.has(t.targetId)||(e.du.set(t.targetId,t),CO(e)?wO(e):av(e).ko()&&bO(e,t))}function V0(n,t){const e=gt(n),i=av(e);e.du.delete(t),i.ko()&&MB(e,t),0===e.du.size&&(i.ko()?i.Fo():Xd(e)&&e.gu.set("Unknown"))}function bO(n,t){n.yu.Mt(t.targetId),av(n).zo(t)}function MB(n,t){n.yu.Mt(t),av(n).Ho(t)}function wO(n){n.yu=new v8({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),se:t=>n.du.get(t)||null}),av(n).start(),n.gu.uu()}function CO(n){return Xd(n)&&!av(n).No()&&n.du.size>0}function Xd(n){return 0===gt(n)._u.size}function kB(n){n.yu=void 0}function Bj(n){return EO.apply(this,arguments)}function EO(){return EO=(0,xe.Z)(function*(n){n.du.forEach((t,e)=>{bO(n,t)})}),EO.apply(this,arguments)}function Vj(n,t){return DO.apply(this,arguments)}function DO(){return DO=(0,xe.Z)(function*(n,t){kB(n),CO(n)?(n.gu.hu(t),wO(n)):n.gu.set("Unknown")}),DO.apply(this,arguments)}function Uj(n,t,e){return IO.apply(this,arguments)}function IO(){return IO=(0,xe.Z)(function*(n,t,e){if(n.gu.set("Online"),t instanceof D2&&2===t.state&&t.cause)try{yield(i=(0,xe.Z)(function*(r,o){const c=o.cause;for(const d of o.targetIds)r.du.has(d)&&(yield r.remoteSyncer.rejectListen(d,c),r.du.delete(d),r.yu.removeTarget(d))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){tt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield tT(n,i)}else if(t instanceof VS?n.yu.Gt(t):t instanceof E2?n.yu.Yt(t):n.yu.Wt(t),!e.isEqual(Gt.min()))try{const i=yield vB(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const c=r.yu.te(o);return c.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const _=r.du.get(p);_&&r.du.set(p,_.withResumeToken(d.resumeToken,o))}}),c.targetMismatches.forEach(d=>{const p=r.du.get(d);if(!p)return;r.du.set(d,p.withResumeToken(pr.EMPTY_BYTE_STRING,p.snapshotVersion)),MB(r,d);const _=new Of(p.target,d,1,p.sequenceNumber);bO(r,_)}),r.remoteSyncer.applyRemoteEvent(c)}(n,e))}catch(i){tt("RemoteStore","Failed to raise snapshot:",i),yield tT(n,i)}var i}),IO.apply(this,arguments)}function tT(n,t,e){return SO.apply(this,arguments)}function SO(){return SO=(0,xe.Z)(function*(n,t,e){if(!Jl(t))throw t;n._u.add(1),yield sv(n),n.gu.set("Offline"),e||(e=()=>vB(n.localStore)),n.asyncQueue.enqueueRetryable((0,xe.Z)(function*(){tt("RemoteStore","Retrying IndexedDB access"),yield e(),n._u.delete(1),yield B0(n)}))}),SO.apply(this,arguments)}function OB(n,t){return t().catch(e=>tT(n,e,t))}function ov(n){return TO.apply(this,arguments)}function TO(){return TO=(0,xe.Z)(function*(n){const t=gt(n),e=Nf(t);let i=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;Hj(t);)try{const r=yield Dj(t.localStore,i);if(null===r){0===t.fu.length&&e.Fo();break}i=r.batchId,zj(t,r)}catch(r){yield tT(t,r)}RB(t)&&PB(t)}),TO.apply(this,arguments)}function Hj(n){return Xd(n)&&n.fu.length<10}function zj(n,t){n.fu.push(t);const e=Nf(n);e.ko()&&e.Yo&&e.Xo(t.mutations)}function RB(n){return Xd(n)&&!Nf(n).No()&&n.fu.length>0}function PB(n){Nf(n).start()}function jj(n){return xO.apply(this,arguments)}function xO(){return xO=(0,xe.Z)(function*(n){Nf(n).eu()}),xO.apply(this,arguments)}function Gj(n){return MO.apply(this,arguments)}function MO(){return MO=(0,xe.Z)(function*(n){const t=Nf(n);for(const e of n.fu)t.Xo(e.mutations)}),MO.apply(this,arguments)}function qj(n,t,e){return kO.apply(this,arguments)}function kO(){return kO=(0,xe.Z)(function*(n,t,e){const i=n.fu.shift(),r=Xk.from(i,t,e);yield OB(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield ov(n)}),kO.apply(this,arguments)}function Zj(n,t){return OO.apply(this,arguments)}function OO(){return OO=(0,xe.Z)(function*(n,t){var e;t&&Nf(n).Yo&&(yield(e=(0,xe.Z)(function*(i,r){if(v2(o=r.code)&&o!==Ie.ABORTED){const c=i.fu.shift();Nf(i).Mo(),yield OB(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield ov(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),RB(n)&&PB(n)}),OO.apply(this,arguments)}function NB(n,t){return RO.apply(this,arguments)}function RO(){return RO=(0,xe.Z)(function*(n,t){const e=gt(n);e.asyncQueue.verifyOperationInProgress(),tt("RemoteStore","RemoteStore received new credentials");const i=Xd(e);e._u.add(3),yield sv(e),i&&e.gu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e._u.delete(3),yield B0(e)}),RO.apply(this,arguments)}function PO(n,t){return NO.apply(this,arguments)}function NO(){return NO=(0,xe.Z)(function*(n,t){const e=gt(n);t?(e._u.delete(2),yield B0(e)):t||(e._u.add(2),yield sv(e),e.gu.set("Unknown"))}),NO.apply(this,arguments)}function av(n){return n.pu||(n.pu=function(t,e,i){const r=gt(t);return r.su(),new Oj(e,r.connection,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:Bj.bind(null,n),Zr:Vj.bind(null,n),Wo:Uj.bind(null,n)}),n.wu.push(function(){var t=(0,xe.Z)(function*(e){e?(n.pu.Mo(),CO(n)?wO(n):n.gu.set("Unknown")):(yield n.pu.stop(),kB(n))});return function(e){return t.apply(this,arguments)}}())),n.pu}function Nf(n){return n.Iu||(n.Iu=function(t,e,i){const r=gt(t);return r.su(),new Rj(e,r.connection,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:jj.bind(null,n),Zr:Zj.bind(null,n),tu:Gj.bind(null,n),Zo:qj.bind(null,n)}),n.wu.push(function(){var t=(0,xe.Z)(function*(e){e?(n.Iu.Mo(),yield ov(n)):(yield n.Iu.stop(),n.fu.length>0&&(tt("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Iu}class FO{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,d=new FO(t,e,c,r,o);return d.start(i),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ye(Ie.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lv(n,t){if(or("AsyncQueue",`${t}: ${n}`),Jl(n))return new Ye(Ie.UNAVAILABLE,`${t}: ${n}`);throw n}class cv{constructor(t){this.comparator=t?(e,i)=>t(e,i)||ft.comparator(e.key,i.key):(e,i)=>ft.comparator(e.key,i.key),this.keyedMap=b0(),this.sortedSet=new Qi(this.comparator)}static emptySet(t){return new cv(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof cv)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new cv;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class FB{constructor(){this.Tu=new Qi(ft.comparator)}track(t){const e=t.doc.key,i=this.Tu.get(e);i?0!==t.type&&3===i.type?this.Tu=this.Tu.insert(e,t):3===t.type&&1!==i.type?this.Tu=this.Tu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Tu=this.Tu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Tu=this.Tu.remove(e):1===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):Et():this.Tu=this.Tu.insert(e,t)}Eu(){const t=[];return this.Tu.inorderTraversal((e,i)=>{t.push(i)}),t}}class uv{constructor(t,e,i,r,o,c,d,p,_){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,e,i,r,o){const c=[];return e.forEach(d=>{c.push({type:0,doc:d})}),new uv(t,e,cv.emptySet(e),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&y0(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class Wj{constructor(){this.Au=void 0,this.listeners=[]}}class Yj{constructor(){this.queries=new kf(t=>n2(t),y0),this.onlineState="Unknown",this.Ru=new Set}}function LO(n,t){return BO.apply(this,arguments)}function BO(){return BO=(0,xe.Z)(function*(n,t){const e=gt(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new Wj),r)try{o.Au=yield e.onListen(i)}catch(c){const d=lv(c,`Initialization of query '${Gk(t.query)}' failed`);return void t.onError(d)}e.queries.set(i,o),o.listeners.push(t),t.bu(e.onlineState),o.Au&&t.Pu(o.Au)&&HO(e)}),BO.apply(this,arguments)}function VO(n,t){return UO.apply(this,arguments)}function UO(){return UO=(0,xe.Z)(function*(n,t){const e=gt(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const c=o.listeners.indexOf(t);c>=0&&(o.listeners.splice(c,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),UO.apply(this,arguments)}function $j(n,t){const e=gt(n);let i=!1;for(const r of t){const c=e.queries.get(r.query);if(c){for(const d of c.listeners)d.Pu(r)&&(i=!0);c.Au=r}}i&&HO(e)}function Kj(n,t,e){const i=gt(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function HO(n){n.Ru.forEach(t=>{t.next()})}class zO{constructor(t,e,i){this.query=t,this.vu=e,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new uv(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),e=!0):this.Cu(t,this.onlineState)&&(this.xu(t),e=!0),this.Su=t,e}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),e=!0),e}Cu(t,e){return!t.fromCache||(!this.options.Nu||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Du(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(t){t=uv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Vu=!0,this.vu.next(t)}}class Qj{constructor(t,e){this.ku=t,this.byteLength=e}Ou(){return"metadata"in this.ku}}class LB{constructor(t){this.It=t}Ji(t){return Gu(this.It,t)}Yi(t){return t.metadata.exists?P2(this.It,t.document,!1):J.newNoDocument(this.Ji(t.metadata.name),this.Xi(t.metadata.readTime))}Xi(t){return ps(t)}}class Jj{constructor(t,e,i){this.Mu=t,this.localStore=e,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=BB(t)}Fu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.ku.namedQuery)this.queries.push(t.ku.namedQuery);else if(t.ku.documentMetadata){this.documents.push({metadata:t.ku.documentMetadata}),t.ku.documentMetadata.exists||++e;const i=Un.fromString(t.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.ku.document&&(this.documents[this.documents.length-1].document=t.ku.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}$u(t){const e=new Map,i=new LB(this.It);for(const r of t)if(r.metadata.queries){const o=i.Ji(r.metadata.name);for(const c of r.metadata.queries){const d=(e.get(c)||En()).add(o);e.set(c,d)}}return e}complete(){var t=this;return(0,xe.Z)(function*(){const e=yield function Ij(n,t,e,i){return dO.apply(this,arguments)}(t.localStore,new LB(t.It),t.documents,t.Mu.id),i=t.$u(t.documents);for(const r of t.queries)yield Sj(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Bu:t.collectionGroups,Lu:e}})()}}function BB(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class VB{constructor(t){this.key=t}}class UB{constructor(t){this.key=t}}class HB{constructor(t,e){this.query=t,this.Uu=e,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=En(),this.mutatedKeys=En(),this.Gu=s2(t),this.Qu=new cv(this.Gu)}get ju(){return this.Uu}Wu(t,e){const i=e?e.zu:new FB,r=e?e.Qu:this.Qu;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,d=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,_="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((b,I)=>{const O=r.get(b),B=qk(this.query,I)?I:null,z=!!O&&this.mutatedKeys.has(O.key),X=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let se=!1;O&&B?O.data.isEqual(B.data)?z!==X&&(i.track({type:3,doc:B}),se=!0):this.Hu(O,B)||(i.track({type:2,doc:B}),se=!0,(p&&this.Gu(B,p)>0||_&&this.Gu(B,_)<0)&&(d=!0)):!O&&B?(i.track({type:0,doc:B}),se=!0):O&&!B&&(i.track({type:1,doc:O}),se=!0,(p||_)&&(d=!0)),se&&(B?(c=c.add(B),o=X?o.add(b):o.delete(b)):(c=c.delete(b),o=o.delete(b)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const b="F"===this.query.limitType?c.last():c.first();c=c.delete(b.key),o=o.delete(b.key),i.track({type:1,doc:b})}return{Qu:c,zu:i,$i:d,mutatedKeys:o}}Hu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const o=t.zu.Eu();o.sort((_,b)=>function(I,O){const B=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et()}};return B(I)-B(O)}(_.type,b.type)||this.Gu(_.doc,b.doc)),this.Ju(i);const c=e?this.Yu():[],d=0===this.Ku.size&&this.current?1:0,p=d!==this.qu;return this.qu=d,0!==o.length||p?{snapshot:new uv(this.query,t.Qu,r,o,t.mutatedKeys,0===d,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:c}:{Xu:c}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new FB,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(t){return!this.Uu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach(e=>this.Uu=this.Uu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Uu=this.Uu.delete(e)),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=En(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const e=[];return t.forEach(i=>{this.Ku.has(i)||e.push(new UB(i))}),this.Ku.forEach(i=>{t.has(i)||e.push(new VB(i))}),e}tc(t){this.Uu=t.Hi,this.Ku=En();const e=this.Wu(t.documents);return this.applyChanges(e,!0)}ec(){return uv.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class Xj{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class eG{constructor(t){this.key=t,this.nc=!1}}class tG{constructor(t,e,i,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.sc={},this.ic=new kf(d=>n2(d),y0),this.rc=new Map,this.oc=new Set,this.uc=new Qi(ft.comparator),this.cc=new Map,this.ac=new rO,this.hc={},this.lc=new Map,this.fc=hm.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function nG(n,t){return jO.apply(this,arguments)}function jO(){return jO=(0,xe.Z)(function*(n,t){const e=hR(n);let i,r;const o=e.ic.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.ec();else{const c=yield iv(e.localStore,ko(t));e.isPrimaryClient&&eT(e.remoteStore,c);const d=e.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield GO(e,t,i,"current"===d,c.resumeToken)}return r}),jO.apply(this,arguments)}function GO(n,t,e,i,r){return qO.apply(this,arguments)}function qO(){return qO=(0,xe.Z)(function*(n,t,e,i,r){n._c=(I,O,B)=>{return(z=(0,xe.Z)(function*(X,se,Fe,it){let at=se.view.Wu(Fe);at.$i&&(at=yield KS(X.localStore,se.query,!1).then(({documents:Vt})=>se.view.Wu(Vt,at)));const ct=it&&it.targetChanges.get(se.targetId),Pt=se.view.applyChanges(at,X.isPrimaryClient,ct);return tR(X,se.targetId,Pt.Xu),Pt.snapshot}),function(X,se,Fe,it){return z.apply(this,arguments)})(n,I,O,B);var z};const o=yield KS(n.localStore,t,!0),c=new HB(t,o.Hi),d=c.Wu(o.documents),p=E0.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),_=c.applyChanges(d,n.isPrimaryClient,p);tR(n,e,_.Xu);const b=new Xj(t,e,c);return n.ic.set(t,b),n.rc.has(e)?n.rc.get(e).push(t):n.rc.set(e,[t]),_.snapshot}),qO.apply(this,arguments)}function iG(n,t){return ZO.apply(this,arguments)}function ZO(){return ZO=(0,xe.Z)(function*(n,t){const e=gt(n),i=e.ic.get(t),r=e.rc.get(i.targetId);if(r.length>1)return e.rc.set(i.targetId,r.filter(o=>!y0(o,t))),void e.ic.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield rv(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),V0(e.remoteStore,i.targetId),dv(e,i.targetId)}).catch(al))):(dv(e,i.targetId),yield rv(e.localStore,i.targetId,!0))}),ZO.apply(this,arguments)}function WO(){return WO=(0,xe.Z)(function*(n,t,e){const i=fR(n);try{const r=yield function(o,c){const d=gt(o),p=vi.now(),_=c.reduce((O,B)=>O.add(B.key),En());let b,I;return d.persistence.runTransaction("Locally write mutations","readwrite",O=>{let B=ya(),z=En();return d.Gi.getEntries(O,_).next(X=>{B=X,B.forEach((se,Fe)=>{Fe.isValidDocument()||(z=z.add(se))})}).next(()=>d.localDocuments.getOverlayedDocuments(O,B)).next(X=>{b=X;const se=[];for(const Fe of c){const it=f8(Fe,b.get(Fe.key).overlayedDocument);null!=it&&se.push(new Jd(Fe.key,it,q(it.value.mapValue),Ji.exists(!0)))}return d.mutationQueue.addMutationBatch(O,p,se,c)}).next(X=>{I=X;const se=X.applyToLocalDocumentSet(b,z);return d.documentOverlayCache.saveOverlays(O,X.batchId,se)})}).then(()=>({batchId:I.batchId,changes:w2(b)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,c,d){let p=o.hc[o.currentUser.toKey()];p||(p=new Qi(cn)),p=p.insert(c,d),o.hc[o.currentUser.toKey()]=p}(i,r.batchId,e),yield eh(i,r.changes),yield ov(i.remoteStore)}catch(r){const o=lv(r,"Failed to persist write");e.reject(o)}}),WO.apply(this,arguments)}function zB(n,t){return YO.apply(this,arguments)}function YO(){return YO=(0,xe.Z)(function*(n,t){const e=gt(n);try{const i=yield Ej(e.localStore,t);t.targetChanges.forEach((r,o)=>{const c=e.cc.get(o);c&&($t(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.nc=!0:r.modifiedDocuments.size>0?$t(c.nc):r.removedDocuments.size>0&&($t(c.nc),c.nc=!1))}),yield eh(e,i,t)}catch(i){yield al(i)}}),YO.apply(this,arguments)}function jB(n,t,e){const i=gt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ic.forEach((o,c)=>{const d=c.view.bu(t);d.snapshot&&r.push(d.snapshot)}),function(o,c){const d=gt(o);d.onlineState=c;let p=!1;d.queries.forEach((_,b)=>{for(const I of b.listeners)I.bu(c)&&(p=!0)}),p&&HO(d)}(i.eventManager,t),r.length&&i.sc.Wo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function sG(n,t,e){return $O.apply(this,arguments)}function $O(){return $O=(0,xe.Z)(function*(n,t,e){const i=gt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.cc.get(t),o=r&&r.key;if(o){let c=new Qi(ft.comparator);c=c.insert(o,J.newNoDocument(o,Gt.min()));const d=En().add(o),p=new C0(Gt.min(),new Map,new ai(cn),c,d);yield zB(i,p),i.uc=i.uc.remove(o),i.cc.delete(t),nR(i)}else yield rv(i.localStore,t,!1).then(()=>dv(i,t,e)).catch(al)}),$O.apply(this,arguments)}function oG(n,t){return KO.apply(this,arguments)}function KO(){return KO=(0,xe.Z)(function*(n,t){const e=gt(n),i=t.batch.batchId;try{const r=yield Cj(e.localStore,t);eR(e,i,null),XO(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield eh(e,r)}catch(r){yield al(r)}}),KO.apply(this,arguments)}function aG(n,t,e){return QO.apply(this,arguments)}function QO(){return QO=(0,xe.Z)(function*(n,t,e){const i=gt(n);try{const r=yield function(o,c){const d=gt(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return d.mutationQueue.lookupMutationBatch(p,c).next(b=>($t(null!==b),_=b.keys(),d.mutationQueue.removeMutationBatch(p,b))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,_,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>d.localDocuments.getDocuments(p,_))})}(i.localStore,t);eR(i,t,e),XO(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield eh(i,r)}catch(r){yield al(r)}}),QO.apply(this,arguments)}function JO(){return JO=(0,xe.Z)(function*(n,t){const e=gt(n);Xd(e.remoteStore)||tt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const c=gt(o);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>c.mutationQueue.getHighestUnacknowledgedBatchId(d))}(e.localStore);if(-1===i)return void t.resolve();const r=e.lc.get(i)||[];r.push(t),e.lc.set(i,r)}catch(i){const r=lv(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),JO.apply(this,arguments)}function XO(n,t){(n.lc.get(t)||[]).forEach(e=>{e.resolve()}),n.lc.delete(t)}function eR(n,t,e){const i=gt(n);let r=i.hc[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.hc[i.currentUser.toKey()]=r}}function dv(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.rc.get(t))n.ic.delete(i),e&&n.sc.wc(i,e);n.rc.delete(t),n.isPrimaryClient&&n.ac.ls(t).forEach(i=>{n.ac.containsKey(i)||GB(n,i)})}function GB(n,t){n.oc.delete(t.path.canonicalString());const e=n.uc.get(t);null!==e&&(V0(n.remoteStore,e),n.uc=n.uc.remove(t),n.cc.delete(e),nR(n))}function tR(n,t,e){for(const i of e)i instanceof VB?(n.ac.addReference(i.key,t),cG(n,i)):i instanceof UB?(tt("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,t),n.ac.containsKey(i.key)||GB(n,i.key)):Et()}function cG(n,t){const e=t.key,i=e.path.canonicalString();n.uc.get(e)||n.oc.has(i)||(tt("SyncEngine","New document in limbo: "+e),n.oc.add(i),nR(n))}function nR(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const t=n.oc.values().next().value;n.oc.delete(t);const e=new ft(Un.fromString(t)),i=n.fc.next();n.cc.set(i,new eG(e)),n.uc=n.uc.insert(e,i),eT(n.remoteStore,new Of(ko(Wy(e.path)),i,2,xo.at))}}function eh(n,t,e){return iR.apply(this,arguments)}function iR(){return iR=(0,xe.Z)(function*(n,t,e){const i=gt(n),r=[],o=[],c=[];var d;i.ic.isEmpty()||(i.ic.forEach((d,p)=>{c.push(i._c(p,t,e).then(_=>{if((_||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,_?.fromCache?"not-current":"current"),_){r.push(_);const b=lO.Ci(p.targetId,_);o.push(b)}}))}),yield Promise.all(c),i.sc.Wo(r),yield(d=(0,xe.Z)(function*(p,_){const b=gt(p);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Ce.forEach(_,O=>Ce.forEach(O.Si,B=>b.persistence.referenceDelegate.addReference(I,O.targetId,B)).next(()=>Ce.forEach(O.Di,B=>b.persistence.referenceDelegate.removeReference(I,O.targetId,B)))))}catch(I){if(!Jl(I))throw I;tt("LocalStore","Failed to update sequence numbers: "+I)}for(const I of _){const O=I.targetId;if(!I.fromCache){const B=b.Ui.get(O),X=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);b.Ui=b.Ui.insert(O,X)}}}),function(p,_){return d.apply(this,arguments)})(i.localStore,o))}),iR.apply(this,arguments)}function uG(n,t){return rR.apply(this,arguments)}function rR(){return rR=(0,xe.Z)(function*(n,t){const e=gt(n);if(!e.currentUser.isEqual(t)){tt("SyncEngine","User change. New user:",t.toKey());const i=yield yB(e.localStore,t);e.currentUser=t,(r=e).lc.forEach(c=>{c.forEach(d=>{d.reject(new Ye(Ie.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield eh(e,i.ji)}var r}),rR.apply(this,arguments)}function dG(n,t){const e=gt(n),i=e.cc.get(t);if(i&&i.nc)return En().add(i.key);{let r=En();const o=e.rc.get(t);if(!o)return r;for(const c of o){const d=e.ic.get(c);r=r.unionWith(d.view.ju)}return r}}function hG(n,t){return sR.apply(this,arguments)}function sR(){return sR=(0,xe.Z)(function*(n,t){const e=gt(n),i=yield KS(e.localStore,t.query,!0),r=t.view.tc(i);return e.isPrimaryClient&&tR(e,t.targetId,r.Xu),r}),sR.apply(this,arguments)}function fG(n,t){return oR.apply(this,arguments)}function oR(){return oR=(0,xe.Z)(function*(n,t){const e=gt(n);return wB(e.localStore,t).then(i=>eh(e,i))}),oR.apply(this,arguments)}function pG(n,t,e,i){return aR.apply(this,arguments)}function aR(){return aR=(0,xe.Z)(function*(n,t,e,i){const r=gt(n),o=yield function(c,d){const p=gt(c),_=gt(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",b=>_.Tn(b,d).next(I=>I?p.localDocuments.getDocuments(b,I):Ce.resolve(null)))}(r.localStore,t);var d;null!==o?("pending"===e?yield ov(r.remoteStore):"acknowledged"===e||"rejected"===e?(eR(r,t,i||null),XO(r,t),d=t,gt(gt(r.localStore).mutationQueue).An(d)):Et(),yield eh(r,o)):tt("SyncEngine","Cannot apply mutation batch with id: "+t)}),aR.apply(this,arguments)}function lR(){return lR=(0,xe.Z)(function*(n,t){const e=gt(n);if(hR(e),fR(e),!0===t&&!0!==e.dc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield qB(e,i.toArray());e.dc=!0,yield PO(e.remoteStore,!0);for(const o of r)eT(e.remoteStore,o)}else if(!1===t&&!1!==e.dc){const i=[];let r=Promise.resolve();e.rc.forEach((o,c)=>{e.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(dv(e,c),rv(e.localStore,c,!0))),V0(e.remoteStore,c)}),yield r,yield qB(e,i),function(o){const c=gt(o);c.cc.forEach((d,p)=>{V0(c.remoteStore,p)}),c.ac.fs(),c.cc=new Map,c.uc=new Qi(ft.comparator)}(e),e.dc=!1,yield PO(e.remoteStore,!1)}}),lR.apply(this,arguments)}function qB(n,t,e){return cR.apply(this,arguments)}function cR(){return cR=(0,xe.Z)(function*(n,t,e){const i=gt(n),r=[],o=[];for(const c of t){let d;const p=i.rc.get(c);if(p&&0!==p.length){d=yield iv(i.localStore,ko(p[0]));for(const _ of p){const b=i.ic.get(_),I=yield hG(i,b);I.snapshot&&o.push(I.snapshot)}}else{const _=yield bB(i.localStore,c);d=yield iv(i.localStore,_),yield GO(i,ZB(_),c,!1,d.resumeToken)}r.push(d)}return i.sc.Wo(o),r}),cR.apply(this,arguments)}function ZB(n){return e2(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function mG(n){const t=gt(n);return gt(gt(t.localStore).persistence).vi()}function _G(n,t,e,i){return uR.apply(this,arguments)}function uR(){return uR=(0,xe.Z)(function*(n,t,e,i){const r=gt(n);if(r.dc)return void tt("SyncEngine","Ignoring unexpected query state notification.");const o=r.rc.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const c=yield wB(r.localStore,r2(o[0])),d=C0.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,pr.EMPTY_BYTE_STRING);yield eh(r,c,d);break}case"rejected":yield rv(r.localStore,t,!0),dv(r,t,i);break;default:Et()}}),uR.apply(this,arguments)}function yG(n,t,e){return dR.apply(this,arguments)}function dR(){return dR=(0,xe.Z)(function*(n,t,e){const i=hR(n);if(i.dc){for(const r of t){if(i.rc.has(r)){tt("SyncEngine","Adding an already active target "+r);continue}const o=yield bB(i.localStore,r),c=yield iv(i.localStore,o);yield GO(i,ZB(o),c.targetId,!1,c.resumeToken),eT(i.remoteStore,c)}for(const r of e)i.rc.has(r)&&(yield rv(i.localStore,r,!1).then(()=>{V0(i.remoteStore,r),dv(i,r)}).catch(al))}}),dR.apply(this,arguments)}function hR(n){const t=gt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=zB.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dG.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sG.bind(null,t),t.sc.Wo=$j.bind(null,t.eventManager),t.sc.wc=Kj.bind(null,t.eventManager),t}function fR(n){const t=gt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=oG.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=aG.bind(null,t),t}class WB{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,xe.Z)(function*(){e.It=L0(t.databaseInfo.databaseId),e.sharedClientState=e.gc(t),e.persistence=e.yc(t),yield e.persistence.start(),e.localStore=e.Ic(t),e.gcScheduler=e.Tc(t,e.localStore),e.indexBackfillerScheduler=e.Ec(t,e.localStore)})()}Tc(t,e){return null}Ec(t,e){return null}Ic(t){return _B(this.persistence,new mB,t.initialUser,this.It)}yc(t){return new pB(YS.Bs,this.It)}gc(t){return new IB}terminate(){var t=this;return(0,xe.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class YB extends WB{constructor(t,e,i){super(),this.Ac=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,xe.Z)(function*(){yield e().call(i,t),yield i.Ac.initialize(i,t),yield fR(i.Ac.syncEngine),yield ov(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(t){return _B(this.persistence,new mB,t.initialUser,this.It)}Tc(t,e){return new lj(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Ec(t,e){const i=new KL(e,this.persistence);return new $L(t.asyncQueue,i)}yc(t){const e=aO(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?va.withCacheSize(this.cacheSizeBytes):va.DEFAULT;return new oO(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,TB(),XS(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(t){return new IB}}class AG extends YB{constructor(t,e){super(t,e,!1),this.Ac=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,xe.Z)(function*(){yield e().call(i,t);const r=i.Ac.syncEngine;i.sharedClientState instanceof mO&&(i.sharedClientState.syncEngine={Fr:pG.bind(null,r),$r:_G.bind(null,r),Br:yG.bind(null,r),vi:mG.bind(null,r),Mr:fG.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var o=(0,xe.Z)(function*(c){yield function gG(n,t){return lR.apply(this,arguments)}(i.Ac.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return o.apply(this,arguments)}}())})()}gc(t){const e=TB();if(!mO.C(e))throw new Ye(Ie.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=aO(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new mO(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class pR{initialize(t,e){var i=this;return(0,xe.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>jB(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=uG.bind(null,i.syncEngine),yield PO(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new Yj}createDatastore(t){const e=L0(t.databaseInfo.databaseId),i=new kj(t.databaseInfo);return new Pj(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=d=>jB(this.syncEngine,d,0),c=SB.C()?new SB:new Tj,new Lj(e,i,r,o,c);var e,i,r,o,c}createSyncEngine(t,e){return function(i,r,o,c,d,p,_){const b=new tG(i,r,o,c,d,p);return _&&(b.dc=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,xe.Z)(function*(e){const i=gt(e);tt("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield sv(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function gR(n,t,e){if(!e)throw new Ye(Ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function $B(n,t,e,i){if(!0===t&&!0===i)throw new Ye(Ie.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function KB(n){if(!ft.isDocumentKey(n))throw new Ye(Ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function QB(n){if(ft.isDocumentKey(n))throw new Ye(Ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function nT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":Et()}function Hn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ye(Ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=nT(n);throw new Ye(Ie.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function JB(n,t){if(t<=0)throw new Ye(Ie.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}const XB=new Map;class eV{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ye(Ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ye(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,$B("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class U0{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eV({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ye(Ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ye(Ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eV(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new Mk;switch(e.type){case"gapi":return new kk(e.client,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ye(Ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=XB.get(t);e&&(tt("ComponentProvider","Removing Datastore"),XB.delete(t),e.terminate())}(this),Promise.resolve()}}class ji{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ji(this.firestore,t,this._key)}}class no{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new no(this.firestore,t,this._query)}}class Zu extends no{constructor(t,e,i){super(t,e,Wy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ji(this.firestore,null,new ft(t))}withConverter(t){return new Zu(this.firestore,t,this._path)}}function nV(n,t,...e){if(n=(0,G.m9)(n),gR("collection","path",t),n instanceof U0){const i=Un.fromString(t,...e);return QB(i),new Zu(n,null,i)}{if(!(n instanceof ji||n instanceof Zu))throw new Ye(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Un.fromString(t,...e));return QB(i),new Zu(n.firestore,null,i)}}function iT(n,t,...e){if(n=(0,G.m9)(n),1===arguments.length&&(t=s0.R()),gR("doc","path",t),n instanceof U0){const i=Un.fromString(t,...e);return KB(i),new ji(n,null,new ft(i))}{if(!(n instanceof ji||n instanceof Zu))throw new Ye(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Un.fromString(t,...e));return KB(i),new ji(n.firestore,n instanceof Zu?n.converter:null,new ft(i))}}function iV(n,t){return n=(0,G.m9)(n),t=(0,G.m9)(t),(n instanceof ji||n instanceof Zu)&&(t instanceof ji||t instanceof Zu)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function mR(n,t){return n=(0,G.m9)(n),t=(0,G.m9)(t),n instanceof no&&t instanceof no&&n.firestore===t.firestore&&y0(n._query,t._query)&&n.converter===t.converter}function rV(n,t=10240){let e=0;return{read:()=>(0,xe.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,xe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class rT{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Rc(this.observer.next,t)}error(t){this.observer.error?this.Rc(this.observer.error,t):or("Uncaught Error in snapshot listener:",t.toString())}bc(){this.muted=!0}Rc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class wG{constructor(t,e){this.Pc=t,this.It=e,this.metadata=new xr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var t=this;return(0,xe.Z)(function*(){return t.metadata.promise})()}mc(){var t=this;return(0,xe.Z)(function*(){return yield t.getMetadata(),t.Vc()})()}Vc(){var t=this;return(0,xe.Z)(function*(){const e=yield t.Sc();if(null===e)return null;const i=t.vc.decode(e),r=Number(i);isNaN(r)&&t.Dc(`length string (${i}) is not valid number`);const o=yield t.Cc(r);return new Qj(JSON.parse(o),e.length+r)})()}xc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Sc(){var t=this;return(0,xe.Z)(function*(){for(;t.xc()<0&&!(yield t.Nc()););if(0===t.buffer.length)return null;const e=t.xc();e<0&&t.Dc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Cc(t){var e=this;return(0,xe.Z)(function*(){for(;e.buffer.length<t;)(yield e.Nc())&&e.Dc("Reached the end of bundle when more is expected.");const i=e.vc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Dc(t){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${t}`)}Nc(){var t=this;return(0,xe.Z)(function*(){const e=yield t.Pc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class DG{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,xe.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Ye(Ie.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,xe.Z)(function*(o,c){const d=gt(o),p=S0(d.It)+"/documents",_={documents:c.map(B=>I0(d.It,B))},b=yield d._o("BatchGetDocuments",p,_,c.length),I=new Map;b.forEach(B=>{const z=function E8(n,t){return"found"in t?function(e,i){$t(!!i.found);const r=Gu(e,i.found.name),o=ps(i.found.updateTime),c=new F({mapValue:{fields:i.found.fields}});return J.newFoundDocument(r,o,c)}(n,t):"missing"in t?function(e,i){$t(!!i.missing),$t(!!i.readTime);const r=Gu(e,i.missing),o=ps(i.readTime);return J.newNoDocument(r,o)}(n,t):Et()}(d.It,B);I.set(z.key.toString(),z)});const O=[];return c.forEach(B=>{const z=I.get(B.toString());$t(!!z),O.push(z)}),O}),function(o,c){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Jy(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,xe.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=ft.fromPath(r);t.mutations.push(new Zk(o,t.precondition(o)))}),yield(i=(0,xe.Z)(function*(r,o){const c=gt(r),d=S0(c.It)+"/documents",p={writes:o.map(_=>T0(c.It,_))};yield c.ao("Commit",d,p)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Et();e=Gt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Ye(Ie.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Gt.min())?Ji.exists(!1):Ji.updateTime(e):Ji.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Gt.min()))throw new Ye(Ie.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ji.updateTime(e)}return Ji.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class IG{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.kc=i.maxAttempts,this.xo=new _O(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var t=this;this.xo.Ro((0,xe.Z)(function*(){const e=new DG(t.datastore),i=t.Mc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.Fc(o)}))}).catch(r=>{t.Fc(r)})}))}Mc(t){try{const e=this.updateFunction(t);return!em(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Fc(t){this.kc>0&&this.$c(t)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(t)}$c(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!v2(e)}return!1}}class SG{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Tr.UNAUTHENTICATED,this.clientId=s0.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,xe.Z)(function*(d){tt("FirestoreClient","Received user=",d.uid),yield o.authCredentialListener(d),o.user=d});return function(d){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(tt("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var t=this;return(0,xe.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ye(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,xe.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=lv(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function sV(n,t){return _R.apply(this,arguments)}function _R(){return _R=(0,xe.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),tt("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,xe.Z)(function*(o){i.isEqual(o)||(yield yB(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),_R.apply(this,arguments)}function oV(n,t){return yR.apply(this,arguments)}function yR(){return yR=(0,xe.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield vR(n);tt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>NB(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>NB(t.remoteStore,o)),n.onlineComponents=t}),yR.apply(this,arguments)}function vR(n){return AR.apply(this,arguments)}function AR(){return AR=(0,xe.Z)(function*(n){return n.offlineComponents||(tt("FirestoreClient","Using default OfflineComponentProvider"),yield sV(n,new WB)),n.offlineComponents}),AR.apply(this,arguments)}function sT(n){return bR.apply(this,arguments)}function bR(){return bR=(0,xe.Z)(function*(n){return n.onlineComponents||(tt("FirestoreClient","Using default OnlineComponentProvider"),yield oV(n,new pR)),n.onlineComponents}),bR.apply(this,arguments)}function aV(n){return vR(n).then(t=>t.persistence)}function oT(n){return vR(n).then(t=>t.localStore)}function wR(n){return sT(n).then(t=>t.remoteStore)}function CR(n){return sT(n).then(t=>t.syncEngine)}function hv(n){return ER.apply(this,arguments)}function ER(){return ER=(0,xe.Z)(function*(n){const t=yield sT(n),e=t.eventManager;return e.onListen=nG.bind(null,t.syncEngine),e.onUnlisten=iG.bind(null,t.syncEngine),e}),ER.apply(this,arguments)}function cV(n,t,e={}){const i=new xr;return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function(r,o,c,d,p){const _=new rT({next:I=>{o.enqueueAndForget(()=>VO(r,b));const O=I.docs.has(c);!O&&I.fromCache?p.reject(new Ye(Ie.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&I.fromCache&&d&&"server"===d.source?p.reject(new Ye(Ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(I)},error:I=>p.reject(I)}),b=new zO(Wy(c.path),_,{includeMetadataChanges:!0,Nu:!0});return LO(r,b)}(yield hv(n),n.asyncQueue,t,e,i)})),i.promise}function uV(n,t,e={}){const i=new xr;return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function(r,o,c,d,p){const _=new rT({next:I=>{o.enqueueAndForget(()=>VO(r,b)),I.fromCache&&"server"===d.source?p.reject(new Ye(Ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(I)},error:I=>p.reject(I)}),b=new zO(c,_,{includeMetadataChanges:!0,Nu:!0});return LO(r,b)}(yield hv(n),n.asyncQueue,t,e,i)})),i.promise}class NG{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new _O(this,"async_queue_retry"),this.Wc=()=>{const e=XS();e&&tt("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.Po()};const t=XS();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.zc(),this.Hc(t)}enterRestrictedMode(t){if(!this.Uc){this.Uc=!0,this.Qc=t||!1;const e=XS();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Wc)}}enqueue(t){if(this.zc(),this.Uc)return new Promise(()=>{});const e=new xr;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Lc.push(t),this.Jc()))}Jc(){var t=this;return(0,xe.Z)(function*(){if(0!==t.Lc.length){try{yield t.Lc[0](),t.Lc.shift(),t.xo.reset()}catch(e){if(!Jl(e))throw e;tt("AsyncQueue","Operation failed with retryable error: "+e)}t.Lc.length>0&&t.xo.Ro(()=>t.Jc())}})()}Hc(t){const e=this.Bc.then(()=>(this.Gc=!0,t().catch(i=>{throw this.Kc=i,this.Gc=!1,or("INTERNAL UNHANDLED ERROR: ",function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),c}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=e,e}enqueueAfterDelay(t,e,i){this.zc(),this.jc.indexOf(t)>-1&&(e=0);const r=FO.createAndSchedule(this,t,e,i,o=>this.Yc(o));return this.qc.push(r),r}zc(){this.Kc&&Et()}verifyOperationInProgress(){}Xc(){var t=this;return(0,xe.Z)(function*(){let e;do{e=t.Bc,yield e}while(e!==t.Bc)})()}Zc(t){for(const e of this.qc)if(e.timerId===t)return!0;return!1}ta(t){return this.Xc().then(()=>{this.qc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.qc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Xc()})}ea(t){this.jc.push(t)}Yc(t){const e=this.qc.indexOf(t);this.qc.splice(e,1)}}function DR(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class FG{constructor(){this._progressObserver={},this._taskCompletionResolver=new xr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Gi extends U0{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new NG,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||dV(this),this._firestoreClient.terminate()}}function Mr(n){return n._firestoreClient||dV(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function dV(n){var t;const e=n._freezeSettings(),i=(o=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new QL(n._databaseId,o,n._persistenceKey,(d=e).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var o,d;n._firestoreClient=new SG(n._authCredentials,n._appCheckCredentials,n._queue,i)}function hV(n,t,e){const i=new xr;return n.asyncQueue.enqueue((0,xe.Z)(function*(){try{yield sV(n,e),yield oV(n,t),i.resolve()}catch(r){const o=r;if(!("FirebaseError"===(c=o).name?c.code===Ie.FAILED_PRECONDITION||c.code===Ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw o;Wc("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o)}var c})).then(()=>i.promise)}function fV(n){if(n._initialized||n._terminated)throw new Ye(Ie.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Wu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Wu(pr.fromBase64String(t))}catch(e){throw new Ye(Ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Wu(pr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class th{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ye(Ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class pm{constructor(t){this._methodName=t}}class aT{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ye(Ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ye(Ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return cn(this._lat,t._lat)||cn(this._long,t._long)}}const ZG=/^__.*__$/;class WG{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Jd(t,this.data,this.fieldMask,e,this.fieldTransforms):new Qy(t,this.data,e,this.fieldTransforms)}}class pV{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Jd(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function gV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et()}}class lT{constructor(t,e,i,r,o,c){this.settings=t,this.databaseId=e,this.It=i,this.ignoreUndefinedProperties=r,void 0===o&&this.na(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(t){return new lT(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:i,oa:!1});return r.ua(t),r}ca(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:i,oa:!1});return r.na(),r}aa(t){return this.ia({path:void 0,oa:!0})}ha(t){return dT(t,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}na(){if(this.path)for(let t=0;t<this.path.length;t++)this.ua(this.path.get(t))}ua(t){if(0===t.length)throw this.ha("Document fields must not be empty");if(gV(this.sa)&&ZG.test(t))throw this.ha('Document fields cannot begin and end with "__"')}}class YG{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.It=i||L0(t)}da(t,e,i,r=!1){return new lT({sa:t,methodName:e,fa:i,path:Hi.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function gm(n){const t=n._freezeSettings(),e=L0(n._databaseId);return new YG(n._databaseId,!!t.ignoreUndefinedProperties,e)}function cT(n,t,e,i,r,o={}){const c=n.da(o.merge||o.mergeFields?2:0,t,e,r);xR("Data must be an object, but it was:",c,i);const d=yV(i,c);let p,_;if(o.merge)p=new Mo(c.fieldMask),_=c.fieldTransforms;else if(o.mergeFields){const b=[];for(const I of o.mergeFields){const O=MR(t,I,e);if(!c.contains(O))throw new Ye(Ie.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);AV(b,O)||b.push(O)}p=new Mo(b),_=c.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,_=c.fieldTransforms;return new WG(new F(d),p,_)}class H0 extends pm{_toFieldTransform(t){if(2!==t.sa)throw t.ha(1===t.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof H0}}function mV(n,t,e){return new lT({sa:3,fa:t.settings.fa,methodName:n._methodName,oa:e},t.databaseId,t.It,t.ignoreUndefinedProperties)}class IR extends pm{_toFieldTransform(t){return new v0(t.path,new $y)}isEqual(t){return t instanceof IR}}class $G extends pm{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=mV(this,t,!0),i=this._a.map(o=>mm(o,e)),r=new rm(i);return new v0(t.path,r)}isEqual(t){return this===t}}class KG extends pm{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=mV(this,t,!0),i=this._a.map(o=>mm(o,e)),r=new sm(i);return new v0(t.path,r)}isEqual(t){return this===t}}class QG extends pm{constructor(t,e){super(t),this.wa=e}_toFieldTransform(t){const e=new Ky(t.It,l2(t.It,this.wa));return new v0(t.path,e)}isEqual(t){return this===t}}function SR(n,t,e,i){const r=n.da(1,t,e);xR("Data must be an object, but it was:",r,i);const o=[],c=F.empty();Uu(i,(p,_)=>{const b=uT(t,p,e);_=(0,G.m9)(_);const I=r.ca(b);if(_ instanceof H0)o.push(b);else{const O=mm(_,I);null!=O&&(o.push(b),c.set(b,O))}});const d=new Mo(o);return new pV(c,d,r.fieldTransforms)}function TR(n,t,e,i,r,o){const c=n.da(1,t,e),d=[MR(t,i,e)],p=[r];if(o.length%2!=0)throw new Ye(Ie.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<o.length;O+=2)d.push(MR(t,o[O])),p.push(o[O+1]);const _=[],b=F.empty();for(let O=d.length-1;O>=0;--O)if(!AV(_,d[O])){const B=d[O];let z=p[O];z=(0,G.m9)(z);const X=c.ca(B);if(z instanceof H0)_.push(B);else{const se=mm(z,X);null!=se&&(_.push(B),b.set(B,se))}}const I=new Mo(_);return new pV(b,I,c.fieldTransforms)}function _V(n,t,e,i=!1){return mm(e,n.da(i?4:3,t))}function mm(n,t){if(vV(n=(0,G.m9)(n)))return xR("Unsupported field value:",t,n),yV(n,t);if(n instanceof pm)return function(e,i){if(!gV(i.sa))throw i.ha(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const c of e){let d=mm(c,i.aa(o));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,G.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return l2(i.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=vi.fromDate(e);return{timestampValue:D0(i.It,r)}}if(e instanceof vi){const r=new vi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:D0(i.It,r)}}if(e instanceof aT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Wu)return{bytesValue:x2(i.It,e._byteString)};if(e instanceof ji){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i.ha(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Wk(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.ha(`Unsupported field value: ${nT(e)}`)}(n,t)}function yV(n,t){const e={};return MS(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Uu(n,(i,r)=>{const o=mm(r,t.ra(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function vV(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof vi||n instanceof aT||n instanceof Wu||n instanceof ji||n instanceof pm)}function xR(n,t,e){if(!vV(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=nT(e);throw t.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function MR(n,t,e){if((t=(0,G.m9)(t))instanceof th)return t._internalPath;if("string"==typeof t)return uT(n,t);throw dT("Field path arguments must be of type string or ",n,!1,void 0,e)}const JG=new RegExp("[~\\*/\\[\\]]");function uT(n,t,e){if(t.search(JG)>=0)throw dT(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new th(...t.split("."))._internalPath}catch{throw dT(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function dT(n,t,e,i,r){const o=i&&!i.isEmpty(),c=void 0!==r;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(o||c)&&(p+=" (found",o&&(p+=` in field ${i}`),c&&(p+=` in document ${r}`),p+=")"),new Ye(Ie.INVALID_ARGUMENT,d+n+p)}function AV(n,t){return n.some(e=>e.isEqual(t))}class z0{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ji(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new XG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(hT("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class XG extends z0{data(){return super.data()}}function hT(n,t){return"string"==typeof t?uT(n,t):t instanceof th?t._internalPath:t._delegate._internalPath}function bV(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ye(Ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class j0{}function Ff(n,...t){for(const e of t)n=e._apply(n);return n}class e7 extends j0{constructor(t,e,i){super(),this.ma=t,this.ga=e,this.ya=i,this.type="where"}_apply(t){const e=gm(t.firestore),i=function(r,o,c,d,p,_,b){let I;if(p.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new Ye(Ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){SV(b,_);const B=[];for(const z of b)B.push(IV(d,r,z));I={arrayValue:{values:B}}}else I=IV(d,r,b)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||SV(b,_),I=_V(c,"where",b,"in"===_||"not-in"===_);const O=Cn.create(p,_,I);return function(B,z){if(z.dt()){const se=zk(B);if(null!==se&&!se.isEqual(z.field))throw new Ye(Ie.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${se.toString()}' and '${z.field.toString()}'`);const Fe=Hk(B);null!==Fe&&TV(0,z.field,Fe)}const X=function(se,Fe){for(const it of se.filters)if(Fe.indexOf(it.op)>=0)return it.op;return null}(B,function(se){switch(se){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(z.op));if(null!==X)throw new Ye(Ie.INVALID_ARGUMENT,X===z.op?`Invalid query. You cannot use more than one '${z.op.toString()}' filter.`:`Invalid query. You cannot use '${z.op.toString()}' filters with '${X.toString()}' filters.`)}(r,O),O}(t._query,0,e,t.firestore._databaseId,this.ma,this.ga,this.ya);return new no(t.firestore,t.converter,function(r,o){const c=r.filters.concat([o]);return new Qd(r.path,r.collectionGroup,r.explicitOrderBy.slice(),c,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class n7 extends j0{constructor(t,e){super(),this.ma=t,this.pa=e,this.type="orderBy"}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new Ye(Ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ye(Ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new zu(r,o);return function(d,p){if(null===Hk(d)){const _=zk(d);null!==_&&TV(0,_,p.field)}}(i,c),c}(t._query,this.ma,this.pa);return new no(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new Qd(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class wV extends j0{constructor(t,e,i){super(),this.type=t,this.Ia=e,this.Ta=i}_apply(t){return new no(t.firestore,t.converter,PS(t._query,this.Ia,this.Ta))}}class CV extends j0{constructor(t,e,i){super(),this.type=t,this.Ea=e,this.Aa=i}_apply(t){const e=DV(t,this.type,this.Ea,this.Aa);return new no(t.firestore,t.converter,(r=e,new Qd((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class EV extends j0{constructor(t,e,i){super(),this.type=t,this.Ea=e,this.Aa=i}_apply(t){const e=DV(t,this.type,this.Ea,this.Aa);return new no(t.firestore,t.converter,(r=e,new Qd((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function DV(n,t,e,i){if(e[0]=(0,G.m9)(e[0]),e[0]instanceof z0)return function(r,o,c,d,p){if(!d)throw new Ye(Ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const _=[];for(const b of Yy(r))if(b.field.isKeyField())_.push(Mf(o,d.key));else{const I=d.data.field(b.field);if(u0(I))throw new Ye(Ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const O=b.field.canonicalString();throw new Ye(Ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}_.push(I)}return new Xl(_,p)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=gm(n.firestore);return function(o,c,d,p,_,b){const I=o.explicitOrderBy;if(_.length>I.length)throw new Ye(Ie.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let B=0;B<_.length;B++){const z=_[B];if(I[B].field.isKeyField()){if("string"!=typeof z)throw new Ye(Ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof z}`);if(!jk(o)&&-1!==z.indexOf("/"))throw new Ye(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${z}' contains a slash.`);const X=o.path.child(Un.fromString(z));if(!ft.isDocumentKey(X))throw new Ye(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${X}' is not because it contains an odd number of segments.`);const se=new ft(X);O.push(Mf(c,se))}else{const X=_V(d,p,z);O.push(X)}}return new Xl(O,b)}(n._query,n.firestore._databaseId,r,t,e,i)}}function IV(n,t,e){if("string"==typeof(e=(0,G.m9)(e))){if(""===e)throw new Ye(Ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jk(t)&&-1!==e.indexOf("/"))throw new Ye(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Un.fromString(e));if(!ft.isDocumentKey(i))throw new Ye(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Mf(n,new ft(i))}if(e instanceof ji)return Mf(n,e._key);throw new Ye(Ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nT(e)}.`)}function SV(n,t){if(!Array.isArray(n)||0===n.length)throw new Ye(Ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Ye(Ie.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function TV(n,t,e){if(!e.isEqual(t))throw new Ye(Ie.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class kR{convertValue(t,e="none"){switch(xf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return zi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Kc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Et()}}convertObject(t,e){const i={};return Uu(t.fields,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new aT(zi(t.latitude),zi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=kS(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(qy(t));default:return null}}convertTimestamp(t){const e=Wd(t);return new vi(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Un.fromString(t);$t(B2(i));const r=new Hu(i.get(1),i.get(3)),o=new ft(i.popFirst(5));return r.isEqual(e)||or(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function fT(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class u7 extends kR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ji(this.firestore,null,e)}}class _m{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class nh extends z0{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new G0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(hT("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class G0 extends nh{data(t={}){return super.data(t)}}class Lf{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new _m(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new G0(this._firestore,this._userDataWriter,i.key,i,new _m(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ye(Ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new G0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new _m(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const d=new G0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new _m(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,_=-1;return 0!==c.type&&(p=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),1!==c.type&&(o=o.add(c.doc),_=o.indexOf(c.doc.key)),{type:d7(c.type),doc:d,oldIndex:p,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function d7(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et()}}function xV(n,t){return n instanceof nh&&t instanceof nh?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Lf&&t instanceof Lf&&n._firestore===t._firestore&&mR(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class Bf extends kR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ji(this.firestore,null,e)}}function MV(n,t,e){n=Hn(n,ji);const i=Hn(n.firestore,Gi),r=fT(n.converter,t,e);return fv(i,[cT(gm(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Ji.none())])}function kV(n,t,e,...i){n=Hn(n,ji);const r=Hn(n.firestore,Gi),o=gm(r);let c;return c="string"==typeof(t=(0,G.m9)(t))||t instanceof th?TR(o,"updateDoc",n._key,t,e,i):SR(o,"updateDoc",n._key,t),fv(r,[c.toMutation(n._key,Ji.exists(!0))])}function OV(n,...t){var e,i,r;n=(0,G.m9)(n);let o={includeMetadataChanges:!1},c=0;"object"!=typeof t[c]||DR(t[c])||(o=t[c],c++);const d={includeMetadataChanges:o.includeMetadataChanges};if(DR(t[c])){const I=t[c];t[c]=null===(e=I.next)||void 0===e?void 0:e.bind(I),t[c+1]=null===(i=I.error)||void 0===i?void 0:i.bind(I),t[c+2]=null===(r=I.complete)||void 0===r?void 0:r.bind(I)}let p,_,b;if(n instanceof ji)_=Hn(n.firestore,Gi),b=Wy(n._key.path),p={next:I=>{t[c]&&t[c](OR(_,n,I))},error:t[c+1],complete:t[c+2]};else{const I=Hn(n,no);_=Hn(I.firestore,Gi),b=I._query;const O=new Bf(_);p={next:B=>{t[c]&&t[c](new Lf(_,O,I,B))},error:t[c+1],complete:t[c+2]},bV(n._query)}return function(I,O,B,z){const X=new rT(z),se=new zO(O,X,B);return I.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return LO(yield hv(I),se)})),()=>{X.bc(),I.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return VO(yield hv(I),se)}))}}(Mr(_),b,d,p)}function fv(n,t){return function(e,i){const r=new xr;return e.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function rG(n,t,e){return WO.apply(this,arguments)}(yield CR(e),i,r)})),r.promise}(Mr(n),t)}function OR(n,t,e){const i=e.docs.get(t._key),r=new Bf(n);return new nh(n,r,t._key,i,new _m(e.hasPendingWrites,e.fromCache),t.converter)}const b7={maxAttempts:5};class RV{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=gm(t)}set(t,e,i){this._verifyNotCommitted();const r=Vf(t,this._firestore),o=fT(r.converter,e,i),c=cT(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,Ji.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=Vf(t,this._firestore);let c;return c="string"==typeof(e=(0,G.m9)(e))||e instanceof th?TR(this._dataReader,"WriteBatch.update",o._key,e,i,r):SR(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(c.toMutation(o._key,Ji.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Vf(t,this._firestore);return this._mutations=this._mutations.concat(new Jy(e._key,Ji.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ye(Ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Vf(n,t){if((n=(0,G.m9)(n)).firestore!==t)throw new Ye(Ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class w7 extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=gm(t)}get(t){const e=Vf(t,this._firestore),i=new u7(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return Et();const o=r[0];if(o.isFoundDocument())return new z0(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new z0(this._firestore,i,e._key,null,e.converter);throw Et()})}set(t,e,i){const r=Vf(t,this._firestore),o=fT(r.converter,e,i),c=cT(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(t,e,i,...r){const o=Vf(t,this._firestore);let c;return c="string"==typeof(e=(0,G.m9)(e))||e instanceof th?TR(this._dataReader,"Transaction.update",o._key,e,i,r):SR(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,c),this}delete(t){const e=Vf(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Vf(t,this._firestore),i=new Bf(this._firestore);return super.get(t).then(r=>new nh(this._firestore,i,e._key,r._document,new _m(!1,!1),e.converter))}}function RR(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ye("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function NV(){if(typeof Uint8Array>"u")throw new Ye("unimplemented","Uint8Arrays are not available in this environment.")}function FV(){if(!function Bk(){return typeof atob<"u"}())throw new Ye("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Df=ks.SDK_VERSION,(0,ks._registerComponent)(new Xa.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const o=e.getProvider("app").getImmediate(),c=new Gi(new WL(e.getProvider("auth-internal")),new YL(e.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ye(Ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hu(d.options.projectId,p)}(o,i),o);return r=Object.assign({useFetchStreams:t},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),(0,ks.registerVersion)(n0,"3.7.3",n),(0,ks.registerVersion)(n0,"3.7.3","esm2017")}();class q0{constructor(t){this._delegate=t}static fromBase64String(t){return FV(),new q0(Wu.fromBase64String(t))}static fromUint8Array(t){return NV(),new q0(Wu.fromUint8Array(t))}toBase64(){return FV(),this._delegate.toBase64()}toUint8Array(){return NV(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function PR(n){return function k7(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class O7{enableIndexedDbPersistence(t,e){return function BG(n,t){fV(n=Hn(n,Gi));const e=Mr(n),i=n._freezeSettings(),r=new pR;return hV(e,r,new YB(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function VG(n){fV(n=Hn(n,Gi));const t=Mr(n),e=n._freezeSettings(),i=new pR;return hV(t,i,new AG(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function UG(n){if(n._initialized&&!n._terminated)throw new Ye(Ie.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new xr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,xe.Z)(function*(){try{yield(e=(0,xe.Z)(function*(i){if(!es.C())return Promise.resolve();const r=i+"main";yield es.delete(r)}),function(i){return e.apply(this,arguments)})(aO(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class LV{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Hu||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Wc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function tV(n,t,e,i={}){var r;const o=(n=Hn(n,U0))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&Wc("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let c,d;if("string"==typeof i.mockUserToken)c=i.mockUserToken,d=Tr.MOCK_USER;else{c=(0,G.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Ye(Ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Tr(p)}n._authCredentials=new AS(new vS(c,d))}}(this._delegate,t,e,i)}enableNetwork(){return function zG(n){return function TG(n){return n.asyncQueue.enqueue((0,xe.Z)(function*(){const t=yield aV(n),e=yield wR(n);return t.setNetworkEnabled(!0),function(i){const r=gt(i);return r._u.delete(0),B0(r)}(e)}))}(Mr(n=Hn(n,Gi)))}(this._delegate)}disableNetwork(){return function jG(n){return function xG(n){return n.asyncQueue.enqueue((0,xe.Z)(function*(){const t=yield aV(n),e=yield wR(n);return t.setNetworkEnabled(!1),(i=(0,xe.Z)(function*(r){const o=gt(r);o._u.add(0),yield sv(o),o.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(Mr(n=Hn(n,Gi)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,$B("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function HG(n){return function(t){const e=new xr;return t.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function lG(n,t){return JO.apply(this,arguments)}(yield CR(t),e)})),e.promise}(Mr(n=Hn(n,Gi)))}(this._delegate)}onSnapshotsInSync(t){return function A7(n,t){return function OG(n,t){const e=new rT(t);return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return i=yield hv(n),r=e,gt(i).Ru.add(r),void r.next();var i,r})),()=>{e.bc(),n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return i=yield hv(n),r=e,void gt(i).Ru.delete(r);var i,r}))}}(Mr(n=Hn(n,Gi)),DR(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Ye("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new pv(this,nV(this._delegate,t))}catch(e){throw Ro(e,"collection()","Firestore.collection()")}}doc(t){try{return new ec(this,iT(this._delegate,t))}catch(e){throw Ro(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Po(this,function bG(n,t){if(n=Hn(n,U0),gR("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ye(Ie.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new no(n,null,(e=t,new Qd(Un.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Ro(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function C7(n,t,e){n=Hn(n,Gi);const i=Object.assign(Object.assign({},b7),e);return function(r){if(r.maxAttempts<1)throw new Ye(Ie.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,c){const d=new xr;return r.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){const p=yield function lV(n){return sT(n).then(t=>t.datastore)}(r);new IG(r.asyncQueue,p,c,o,d).run()})),d.promise}(Mr(n),r=>t(new w7(n,r)),i)}(this._delegate,e=>t(new BV(this,e)))}batch(){return Mr(this._delegate),new VV(new RV(this._delegate,t=>fv(this._delegate,t)))}loadBundle(t){return function GG(n,t){const e=Mr(n=Hn(n,Gi)),i=new FG;return function RG(n,t,e,i){const r=function(o,c){let d;return d="string"==typeof o?(new TextEncoder).encode(o):o,p=function(p,_){if(p instanceof Uint8Array)return rV(p,_);if(p instanceof ArrayBuffer)return rV(new Uint8Array(p),_);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new wG(p,c);var p}(e,L0(t));n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){!function vG(n,t,e){const i=gt(n);var r;(r=(0,xe.Z)(function*(o,c,d){try{const p=yield c.getMetadata();if(yield function(O,B){const z=gt(O),X=ps(B.createTime);return z.persistence.runTransaction("hasNewerBundle","readonly",se=>z.Ns.getBundleMetadata(se,B.id)).then(se=>!!se&&se.createTime.compareTo(X)>=0)}(o.localStore,p))return yield c.close(),d._completeWith({taskState:"Success",documentsLoaded:(O=p).totalDocuments,bytesLoaded:O.totalBytes,totalDocuments:O.totalDocuments,totalBytes:O.totalBytes}),Promise.resolve(new Set);d._updateProgress(BB(p));const _=new Jj(p,o.localStore,c.It);let b=yield c.mc();for(;b;){const O=yield _.Fu(b);O&&d._updateProgress(O),b=yield c.mc()}const I=yield _.complete();return yield eh(o,I.Lu,void 0),yield function(O,B){const z=gt(O);return z.persistence.runTransaction("Save bundle","readwrite",X=>z.Ns.saveBundleMetadata(X,B))}(o.localStore,p),d._completeWith(I.progress),Promise.resolve(I.Bu)}catch(p){return Wc("SyncEngine",`Loading bundle failed with ${p}`),d._failWith(p),Promise.resolve(new Set)}var O}),function(o,c,d){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield CR(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function qG(n,t){return function PG(n,t){return n.asyncQueue.enqueue((0,xe.Z)(function*(){return function(e,i){const r=gt(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.Ns.getNamedQuery(o,i))}(yield oT(n),t)}))}(Mr(n=Hn(n,Gi)),t).then(e=>e?new no(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Po(this,e):null)}}class pT extends kR{constructor(t){super(),this.firestore=t}convertBytes(t){return new q0(new Wu(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return ec.forKey(e,this.firestore,null)}}class BV{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new pT(t)}get(t){const e=vm(t);return this._delegate.get(e).then(i=>new Z0(this._firestore,new nh(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=vm(t);return i?(RR("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=vm(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=vm(t);return this._delegate.delete(e),this}}class VV{constructor(t){this._delegate=t}set(t,e,i){const r=vm(t);return i?(RR("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=vm(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=vm(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class ym{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new G0(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new W0(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=ym.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new ym(t,new pT(t),e),r.set(e,o)),o}}ym.INSTANCES=new WeakMap;class ec{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new pT(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Ye("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new ec(e,new ji(e._delegate,i,new ft(t)))}static forKey(t,e,i){return new ec(e,new ji(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new pv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new pv(this.firestore,nV(this._delegate,t))}catch(e){throw Ro(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,G.m9)(t))instanceof ji&&iV(this._delegate,t)}set(t,e){e=RR("DocumentReference.set",e);try{return e?MV(this._delegate,t,e):MV(this._delegate,t)}catch(i){throw Ro(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?kV(this._delegate,t):kV(this._delegate,t,e,...i)}catch(r){throw Ro(r,"updateDoc()","DocumentReference.update()")}}delete(){return function y7(n){return fv(Hn(n.firestore,Gi),[new Jy(n._key,Ji.none())])}(this._delegate)}onSnapshot(...t){const e=UV(t),i=HV(t,r=>new Z0(this.firestore,new nh(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return OV(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function f7(n){n=Hn(n,ji);const t=Hn(n.firestore,Gi),e=Mr(t),i=new Bf(t);return function MG(n,t){const e=new xr;return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return(i=(0,xe.Z)(function*(r,o,c){try{const d=yield function(p,_){const b=gt(p);return b.persistence.runTransaction("read document","readonly",I=>b.localDocuments.getDocument(I,_))}(r,o);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new Ye(Ie.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const p=lv(d,`Failed to get document '${o} from cache`);c.reject(p)}}),function(r,o,c){return i.apply(this,arguments)})(yield oT(n),t,e);var i})),e.promise}(e,n._key).then(r=>new nh(t,i,n._key,r,new _m(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function p7(n){n=Hn(n,ji);const t=Hn(n.firestore,Gi);return cV(Mr(t),n._key,{source:"server"}).then(e=>OR(t,n,e))}(this._delegate):function h7(n){n=Hn(n,ji);const t=Hn(n.firestore,Gi);return cV(Mr(t),n._key).then(e=>OR(t,n,e))}(this._delegate),e.then(i=>new Z0(this.firestore,new nh(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new ec(this.firestore,this._delegate.withConverter(t?ym.getInstance(this.firestore,t):null))}}function Ro(n,t,e){return n.message=n.message.replace(t,e),n}function UV(n){for(const t of n)if("object"==typeof t&&!PR(t))return t;return{}}function HV(n,t){var e,i;let r;return r=PR(n[0])?n[0]:PR(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Z0{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new ec(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return xV(this._delegate,t._delegate)}}class W0 extends Z0{data(t){const e=this._delegate.data(t);return function Yc(n,t){n||Et()}(void 0!==e),e}}class Po{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new pT(t)}where(t,e,i){try{return new Po(this.firestore,Ff(this._delegate,function t7(n,t,e){const i=t,r=hT("where",n);return new e7(r,i,e)}(t,e,i)))}catch(r){throw Ro(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Po(this.firestore,Ff(this._delegate,function i7(n,t="asc"){const e=t,i=hT("orderBy",n);return new n7(i,e)}(t,e)))}catch(i){throw Ro(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Po(this.firestore,Ff(this._delegate,function r7(n){return JB("limit",n),new wV("limit",n,"F")}(t)))}catch(e){throw Ro(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Po(this.firestore,Ff(this._delegate,function s7(n){return JB("limitToLast",n),new wV("limitToLast",n,"L")}(t)))}catch(e){throw Ro(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Po(this.firestore,Ff(this._delegate,function o7(...n){return new CV("startAt",n,!0)}(...t)))}catch(e){throw Ro(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Po(this.firestore,Ff(this._delegate,function a7(...n){return new CV("startAfter",n,!1)}(...t)))}catch(e){throw Ro(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Po(this.firestore,Ff(this._delegate,function l7(...n){return new EV("endBefore",n,!1)}(...t)))}catch(e){throw Ro(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Po(this.firestore,Ff(this._delegate,function c7(...n){return new EV("endAt",n,!0)}(...t)))}catch(e){throw Ro(e,"endAt()","Query.endAt()")}}isEqual(t){return mR(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function m7(n){n=Hn(n,no);const t=Hn(n.firestore,Gi),e=Mr(t),i=new Bf(t);return function kG(n,t){const e=new xr;return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return(i=(0,xe.Z)(function*(r,o,c){try{const d=yield KS(r,o,!0),p=new HB(o,d.Hi),_=p.Wu(d.documents),b=p.applyChanges(_,!1);c.resolve(b.snapshot)}catch(d){const p=lv(d,`Failed to execute query '${o} against cache`);c.reject(p)}}),function(r,o,c){return i.apply(this,arguments)})(yield oT(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Lf(t,i,n,r))}(this._delegate):"server"===t?.source?function _7(n){n=Hn(n,no);const t=Hn(n.firestore,Gi),e=Mr(t),i=new Bf(t);return uV(e,n._query,{source:"server"}).then(r=>new Lf(t,i,n,r))}(this._delegate):function g7(n){n=Hn(n,no);const t=Hn(n.firestore,Gi),e=Mr(t),i=new Bf(t);return bV(n._query),uV(e,n._query).then(r=>new Lf(t,i,n,r))}(this._delegate),e.then(i=>new NR(this.firestore,new Lf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=UV(t),i=HV(t,r=>new NR(this.firestore,new Lf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return OV(this._delegate,e,i)}withConverter(t){return new Po(this.firestore,this._delegate.withConverter(t?ym.getInstance(this.firestore,t):null))}}class P7{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new W0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class NR{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Po(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new W0(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new P7(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new W0(this._firestore,i))})}isEqual(t){return xV(this._delegate,t._delegate)}}class pv extends Po{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new ec(this.firestore,t):null}doc(t){try{return new ec(this.firestore,void 0===t?iT(this._delegate):iT(this._delegate,t))}catch(e){throw Ro(e,"doc()","CollectionReference.doc()")}}add(t){return function v7(n,t){const e=Hn(n.firestore,Gi),i=iT(n),r=fT(n.converter,t);return fv(e,[cT(gm(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Ji.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new ec(this.firestore,e))}isEqual(t){return iV(this._delegate,t._delegate)}withConverter(t){return new pv(this.firestore,this._delegate.withConverter(t?ym.getInstance(this.firestore,t):null))}}function vm(n){return Hn(n,ji)}class FR{constructor(...t){this._delegate=new th(...t)}static documentId(){return new FR(Hi.keyField().canonicalString())}isEqual(t){return(t=(0,G.m9)(t))instanceof th&&this._delegate._internalPath.isEqual(t._internalPath)}}class Am{constructor(t){this._delegate=t}static serverTimestamp(){const t=function D7(){return new IR("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Am(t)}static delete(){const t=function E7(){return new H0("deleteField")}();return t._methodName="FieldValue.delete",new Am(t)}static arrayUnion(...t){const e=function I7(...n){return new $G("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Am(e)}static arrayRemove(...t){const e=function S7(...n){return new KG("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Am(e)}static increment(t){const e=function T7(n){return new QG("increment",n)}(t);return e._methodName="FieldValue.increment",new Am(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const N7={Firestore:LV,GeoPoint:aT,Timestamp:vi,Blob:q0,Transaction:BV,WriteBatch:VV,DocumentReference:ec,DocumentSnapshot:Z0,Query:Po,QueryDocumentSnapshot:W0,QuerySnapshot:NR,CollectionReference:pv,FieldPath:FR,FieldValue:Am,setLogLevel:function R7(n){!function xk(n){Zc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function zV(n,t){return function B7(n,t=Eg.z){return new si.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function LR(n,t){return zV(n,t).pipe((0,ot.U)(e=>({payload:e,type:"query"})))}function gT(n,t){return LR(n,t).pipe(Cr(void 0),ew(),(0,ot.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(c=>({type:c.type,payload:c}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,d)=>{const p=r.find(b=>b.doc.ref.isEqual(c.ref)),_=e?.payload.docs.find(b=>b.ref.isEqual(c.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(c.metadata)||!p&&_&&JSON.stringify(_.metadata)===JSON.stringify(c.metadata)||o.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:c}})}),o}))}function jV(n,t,e){return gT(n,e).pipe(Xt((i,r)=>function U7(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function H7(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return BR(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return BR(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return BR(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),tw(),(0,ot.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function BR(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function GV(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function L7(n){(function F7(n,t){n.INTERNAL.registerComponent(new Xa.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},N7)))})(n,(t,e)=>new LV(t,e,new O7)),n.registerVersion("@firebase/firestore-compat","0.2.3")}(nw.Z);class qV{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=gT(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,ot.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Cr(void 0),ew(),x(([i,r])=>r.length>0||!i),(0,ot.U)(([i,r])=>r),xn.iC)}auditTrail(t){return this.stateChanges(t).pipe(Xt((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=GV(t);return jV(this.query,e,this.afs.schedulers.outsideAngular).pipe(xn.iC)}valueChanges(t={}){return LR(this.query,this.afs.schedulers.outsideAngular).pipe((0,ot.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),xn.iC)}get(t){return(0,Tn.D)(this.query.get(t)).pipe(xn.iC)}add(t){return this.ref.add(t)}doc(t){return new ZV(this.ref.doc(t),this.afs)}}class ZV{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=$V(i,e);return new qV(r,o,this.afs)}snapshotChanges(){return function V7(n,t){return zV(n,t).pipe(Cr(void 0),ew(),(0,ot.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(xn.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,ot.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Tn.D)(this.ref.get(t)).pipe(xn.iC)}}class z7{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?gT(this.query,this.afs.schedulers.outsideAngular).pipe((0,ot.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),x(e=>e.length>0),xn.iC):gT(this.query,this.afs.schedulers.outsideAngular).pipe(xn.iC)}auditTrail(t){return this.stateChanges(t).pipe(Xt((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=GV(t);return jV(this.query,e,this.afs.schedulers.outsideAngular).pipe(xn.iC)}valueChanges(t={}){return LR(this.query,this.afs.schedulers.outsideAngular).pipe((0,ot.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),xn.iC)}get(t){return(0,Tn.D)(this.query.get(t)).pipe(xn.iC)}}const WV=new s.OlP("angularfire2.enableFirestorePersistence"),YV=new s.OlP("angularfire2.firestore.persistenceSettings"),j7=new s.OlP("angularfire2.firestore.settings"),G7=new s.OlP("angularfire2.firestore.use-emulator");function $V(n,t=(e=>e)){return{query:t(n),ref:n}}let UR,gv=(()=>{class n{constructor(e,i,r,o,c,d,p,_,b,I,O,B,z,X,se,Fe,it){this.schedulers=p;const at=(0,Er.on)(e,d,i),ct=b;I&&Wh(at,d,O,z,X,se,B,Fe),[this.firestore,this.persistenceEnabled$]=(0,Er.cc)(`${at.name}.firestore`,"AngularFirestore",at.name,()=>{const Pt=d.runOutsideAngular(()=>at.firestore());if(o&&Pt.settings(o),ct&&Pt.useEmulator(...ct),r&&!Yo(c)){const Vt=()=>{try{return(0,Tn.D)(Pt.enablePersistence(_||void 0).then(()=>!0,()=>!1))}catch(On){return typeof console<"u"&&console.warn(On),dt(!1)}};return[Pt,d.runOutsideAngular(Vt)]}return[Pt,dt(!1)]},[o,ct,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:c}=$V(r,i),d=this.schedulers.ngZone.run(()=>o);return new qV(d,c,this)}collectionGroup(e,i){const r=i||(c=>c),o=this.firestore.collectionGroup(e);return new z7(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new ZV(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Er.Dh),s.LFG(Er.xv,8),s.LFG(WV,8),s.LFG(j7,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(xn.HU),s.LFG(YV,8),s.LFG(G7,8),s.LFG(Uc,8),s.LFG(fb,8),s.LFG(zp,8),s.LFG(pb,8),s.LFG(gb,8),s.LFG(Zh,8),s.LFG(jp,8),s.LFG(Hp,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),q7=(()=>{class n{constructor(){$_.Z.registerVersion("angularfire",xn.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:WV,useValue:!0},{provide:YV,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[gv]}),n})(),VR=(()=>{class n{constructor(e,i,r){this.firestore=e,this.auth=i,this.router=r,this.signInEmitter=new s.vpe,this.wishlistEmitter=new s.vpe}signIn(e,i){return this.auth.signInWithEmailAndPassword(e,i).then(r=>{localStorage.user=JSON.stringify(r.user)}).catch(r=>{Cg().fire(r.message)})}signUp(e,i){return this.auth.createUserWithEmailAndPassword(e.email,i).then(r=>{this.sendVerificationMail(),this.setUserDataSingUp(r.user,e),localStorage.user=JSON.stringify(r.user)}).catch(r=>{Cg().fire(r.message)})}googleAuth(){return this.auth.signInWithPopup(new wg.Q).then(e=>{localStorage.user=JSON.stringify(e.user),this.setUserDataGoogleAuth(e.user)}).catch(e=>{Cg().fire(e.message)})}signOut(){return this.auth.signOut().then(()=>{localStorage.getItem("user"),localStorage.removeItem("user"),this.router.navigate(["/"])})}forgotPassword(e){return this.auth.sendPasswordResetEmail(e).then(()=>{Cg().fire("Password reset email sent, check your inbox.")}).catch(i=>{Cg().fire(i.message)})}sendVerificationMail(){return this.auth.currentUser.then(e=>e.sendEmailVerification())}getUserDoc(e){return this.firestore.collection("users").doc(e)}setUserDataGoogleAuth(e){var i=this;return(0,xe.Z)(function*(){const r=i.firestore.doc(`users/${e.uid}`);r.get().subscribe(o=>{let c=o.data();return!!c||(console.log(c),r.set({id:e.uid,fullName:e.displayName,email:e.email,phoneNumber:e.phoneNumber,gender:"",verifiedUser:!0,creditCards:[],reservedHotels:[],wishlist:[]},{merge:!0}))})})()}setUserDataSingUp(e,i){return this.firestore.doc(`users/${e.uid}`).set({id:e.uid,fullName:i.fullName,email:e.email,phoneNumber:i.phoneNumber,gender:i.gender,verifiedUser:!0,creditCards:[],reservedHotels:[],wishlist:[]},{merge:!0})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gv),s.LFG(Uc),s.LFG(hi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();try{UR=typeof Intl<"u"&&Intl.v8BreakIterator}catch{UR=!1}let Y0,bm,HR,No=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?tr(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!UR)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mT(n){return function Z7(){if(null==Y0&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Y0=!0}))}finally{Y0=Y0||!1}return Y0}()?n:!!n.capture}function W7(){if(null==bm){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return bm=!1,bm;if("scrollBehavior"in document.documentElement.style)bm=!0;else{const n=Element.prototype.scrollTo;bm=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return bm}function QV(n){if(function Y7(){if(null==HR){const n=typeof document<"u"?document.head:null;HR=!(!n||!n.createShadowRoot&&!n.attachShadow)}return HR}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function $0(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function wm(n){return n.composedPath?n.composedPath()[0]:n.target}function zR(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function J0(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function JV(n){return x((t,e)=>n<=e)}var XV=j(5032);function Ai(n){return(0,Si.e)((t,e)=>{(0,hr.Xf)(n).subscribe((0,oi.x)(e,()=>e.complete(),XV.Z)),!e.closed&&t.subscribe(e)})}function ns(n){return null!=n&&"false"!=`${n}`}function X0(n,t=0){return function tq(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function bT(n){return Array.isArray(n)?n:[n]}function Wr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Cm(n){return n instanceof s.SBq?n.nativeElement:n}function qR(n,t=Eg.z){return(0,Si.e)((e,i)=>{let r=null,o=null,c=null;const d=()=>{if(r){r.unsubscribe(),r=null;const _=o;o=null,i.next(_)}};function p(){const _=c+n,b=t.now();if(b<_)return r=this.schedule(void 0,_-b),void i.add(r);d()}e.subscribe((0,oi.x)(i,_=>{o=_,c=t.now(),r||(r=t.schedule(p,n),i.add(r))},()=>{d(),i.complete()},void 0,()=>{o=r=null}))})}let e3=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iq=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Cm(e);return new si.y(r=>{const c=this._observeElement(i).subscribe(r);return()=>{c.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new jt.x,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(e3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rq=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new s.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=ns(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=X0(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(qR(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(iq),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),t3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[e3]}),n})();const n3=new Set;let bv,sq=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):aq}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function oq(n){if(!n3.has(n))try{bv||(bv=document.createElement("style"),bv.setAttribute("type","text/css"),document.head.appendChild(bv)),bv.sheet&&(bv.sheet.insertRule(`@media ${n} {body{ }}`,0),n3.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(No))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function aq(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let lq=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new jt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return r3(bT(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=xs(r3(bT(e)).map(c=>this._registerQuery(c).observable));return o=qa(o.pipe(nn(1)),o.pipe(JV(1),qR(0))),o.pipe((0,ot.U)(c=>{const d={matches:!1,breakpoints:{}};return c.forEach(({matches:p,query:_})=>{d.matches=d.matches||p,d.breakpoints[_]=p}),d}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new si.y(c=>{const d=p=>this._zone.run(()=>c.next(p));return i.addListener(d),()=>{i.removeListener(d)}}).pipe(Cr(i),(0,ot.U)(({matches:c})=>({query:e,matches:c})),Ai(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(sq),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function r3(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}let wT=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function hq(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function dq(n){try{return n.frameElement}catch{return null}}(function Aq(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===l3(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=l3(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function yq(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function vq(n){return!function pq(n){return function mq(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function fq(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function gq(n){return function _q(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||a3(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(No))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function a3(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function l3(n){if(!a3(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class bq{constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(nn(1)).subscribe(t)}}let CT=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new bq(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(wT),s.LFG(s.R0b),s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wq=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=ns(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=ns(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=$0(),this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(CT),s.Y36(ae))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[s.TTD]}),n})();function c3(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function u3(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Cq=new s.OlP("cdk-input-modality-detector-options"),Eq={ignoreKeys:[18,17,224,91,16]},wv=mT({passive:!0,capture:!0});let Dq=(()=>{class n{constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new tn(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(d=>d===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=wm(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(c3(c)?"keyboard":"mouse"),this._mostRecentTarget=wm(c))},this._onTouchstart=c=>{u3(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=wm(c))},this._options={...Eq,...o},this.modalityDetected=this._modality.pipe(JV(1)),this.modalityChanged=this.modalityDetected.pipe(tw()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,wv),r.addEventListener("mousedown",this._onMousedown,wv),r.addEventListener("touchstart",this._onTouchstart,wv)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,wv),document.removeEventListener("mousedown",this._onMousedown,wv),document.removeEventListener("touchstart",this._onTouchstart,wv))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(No),s.LFG(s.R0b),s.LFG(ae),s.LFG(Cq,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sq=new s.OlP("cdk-focus-monitor-default-options"),ET=mT({passive:!0,capture:!0});let eC=(()=>{class n{constructor(e,i,r,o,c){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new jt.x,this._rootNodeFocusAndBlurListener=d=>{for(let _=wm(d);_;_=_.parentElement)"focus"===d.type?this._onFocus(d,_):this._onBlur(d,_)},this._document=o,this._detectionMode=c?.detectionMode||0}monitor(e,i=!1){const r=Cm(e);if(!this._platform.isBrowser||1!==r.nodeType)return dt(null);const o=QV(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const d={checkChildren:i,subject:new jt.x,rootNode:o};return this._elementInfo.set(r,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(e){const i=Cm(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=Cm(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([d,p])=>this._originChanged(d,i,p)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=wm(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,ET),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,ET)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ai(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ET),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ET),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let c=0;c<o.length;c++)if(o[c].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(No),s.LFG(Dq),s.LFG(ae,8),s.LFG(Sq,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),h3=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new s.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(eC))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),n})();const f3="cdk-high-contrast-black-on-white",p3="cdk-high-contrast-white-on-black",ZR="cdk-high-contrast-active";let g3=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,s.f3M)(lq).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(ZR,f3,p3),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(ZR,f3):2===i&&e.add(ZR,p3)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(No),s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),m3=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(g3))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[t3]}),n})();const Tq=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function xq(){return(0,s.f3M)(ae)}}),Mq=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Yu=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new s.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function kq(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?Mq.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Tq,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Rq=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function Oq(){return!0}});let _s=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!zR()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(g3),s.LFG(Rq,8),s.LFG(ae))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[tC,tC]}),n})();function Pq(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=ns(t)}}}function Cv(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Nq(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=ns(t)}}}function Fq(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}}}const Lq=new s.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function Bq(){return(0,s.f3M)(s.soG)}});class kr{constructor(){this._localeChanges=new jt.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const $u=new s.OlP("mat-date-formats"),Vq=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function WR(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let Uq=(()=>{class n extends kr{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return WR(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return WR(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return WR(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let o=this._createDateWithOverflow(e,i,r);return o.getMonth(),o}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(Vq.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const o=new Date;return o.setFullYear(e,i,r),o.setHours(0,0,0,0),o}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Lq,8),s.LFG(No))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Hq={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let zq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:kr,useClass:Uq}]}),n})(),YR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:$u,useValue:Hq}],imports:[zq]}),n})(),DT=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class jq{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const v3={enterDuration:225,exitDuration:150},$R=mT({passive:!0}),A3=["mousedown","touchstart"],b3=["mouseup","mouseleave","touchend","touchcancel"];class qq{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Cm(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...v3,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const c=i.radius||function Zq(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),d=t-r.left,p=e-r.top,_=o.enterDuration,b=document.createElement("div");b.classList.add("mat-ripple-element"),b.style.left=d-c+"px",b.style.top=p-c+"px",b.style.height=2*c+"px",b.style.width=2*c+"px",null!=i.color&&(b.style.backgroundColor=i.color),b.style.transitionDuration=`${_}ms`,this._containerElement.appendChild(b);const I=window.getComputedStyle(b),B=I.transitionDuration,z="none"===I.transitionProperty||"0s"===B||"0s, 0s"===B,X=new jq(this,b,i,z);b.style.transform="scale3d(1, 1, 1)",X.state=0,i.persistent||(this._mostRecentTransientRipple=X);let se=null;return!z&&(_||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Fe=()=>this._finishRippleTransition(X),it=()=>this._destroyRipple(X);b.addEventListener("transitionend",Fe),b.addEventListener("transitioncancel",it),se={onTransitionEnd:Fe,onTransitionCancel:it}}),this._activeRipples.set(X,se),(z||!_)&&this._finishRippleTransition(X),X}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...v3,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Cm(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(A3))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(b3),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=c3(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!u3(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,$R)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(A3.forEach(t=>{this._triggerElement.removeEventListener(t,this,$R)}),this._pointerUpEventsRegistered&&b3.forEach(t=>{this._triggerElement.removeEventListener(t,this,$R)}))}}const Wq=new s.OlP("mat-ripple-global-options");let w3=(()=>{class n{constructor(e,i,r,o,c){this._elementRef=e,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new qq(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(No),s.Y36(Wq,8),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Yq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[_s,_s]}),n})();const $q=["mat-button",""],Kq=["*"],Jq=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Xq=Cv(Pq(Nq(class{constructor(n){this._elementRef=n}})));let Ev=(()=>{class n extends Xq{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of Jq)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(eC),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&s.Gf(w3,5),2&e){let r;s.iGM(r=s.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(s.uIk("disabled",i.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:$q,ngContentSelectors:Kq,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA(),s._UZ(2,"span",1)(3,"span",2)),2&e&&(s.xp6(2),s.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[w3],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Dv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Yq,_s,_s]}),n})();var eZ=j(1144);const tZ=["addListener","removeListener"],nZ=["addEventListener","removeEventListener"],iZ=["on","off"];function iC(n,t,e,i){if((0,ir.m)(e)&&(i=e,e=void 0),i)return iC(n,t,e).pipe(kc(i));const[r,o]=function oZ(n){return(0,ir.m)(n.addEventListener)&&(0,ir.m)(n.removeEventListener)}(n)?nZ.map(c=>d=>n[c](t,d,e)):function rZ(n){return(0,ir.m)(n.addListener)&&(0,ir.m)(n.removeListener)}(n)?tZ.map(C3(n,t)):function sZ(n){return(0,ir.m)(n.on)&&(0,ir.m)(n.off)}(n)?iZ.map(C3(n,t)):[];if(!r&&(0,eZ.z)(n))return(0,M.z)(c=>iC(c,t,e))((0,hr.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new si.y(c=>{const d=(...p)=>c.next(1<p.length?p:p[0]);return r(d),()=>o(d)})}function C3(n,t){return e=>i=>n[e](t,i)}var E3=j(4408);const rC={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=rC;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new di.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=rC;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=rC;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var D3=j(7565);new class lZ extends D3.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class aZ extends E3.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=rC.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(rC.cancelAnimationFrame(e),t._scheduled=void 0)}});let KR,uZ=1;const IT={};function I3(n){return n in IT&&(delete IT[n],!0)}const dZ={setImmediate(n){const t=uZ++;return IT[t]=!0,KR||(KR=Promise.resolve()),KR.then(()=>I3(t)&&n()),t},clearImmediate(n){I3(n)}},{setImmediate:hZ,clearImmediate:fZ}=dZ,ST={setImmediate(...n){const{delegate:t}=ST;return(t?.setImmediate||hZ)(...n)},clearImmediate(n){const{delegate:t}=ST;return(t?.clearImmediate||fZ)(n)},delegate:void 0};new class gZ extends D3.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class pZ extends E3.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=ST.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(ST.clearImmediate(e),t._scheduled=void 0)}});var yZ=j(3532);function S3(n,t=Eg.z){return function _Z(n){return(0,Si.e)((t,e)=>{let i=!1,r=null,o=null,c=!1;const d=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const _=r;r=null,e.next(_)}c&&e.complete()},p=()=>{o=null,c&&e.complete()};t.subscribe((0,oi.x)(e,_=>{i=!0,r=_,o||(0,hr.Xf)(n(_)).subscribe(o=(0,oi.x)(e,d,p))},()=>{c=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>function AZ(n=0,t,e=Eg.P){let i=-1;return null!=t&&((0,yZ.K)(t)?e=t:i=t),new si.y(r=>{let o=function vZ(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let c=0;return e.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,t))}let wZ=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new jt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new si.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(S3(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):dt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(x(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Cm(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>iC(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(No),s.LFG(ae,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TT=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new jt.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(S3(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(No),s.LFG(s.R0b),s.LFG(ae,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),JR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[tC,QR,tC,QR]}),n})();class XR{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class sC extends XR{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class T3 extends XR{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class EZ extends XR{constructor(t){super(),this.element=t instanceof s.SBq?t.nativeElement:t}}class eP{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof sC?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof T3?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof EZ?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class DZ extends eP{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const d=c.element,p=this._document.createComment("dom-portal");d.parentNode.insertBefore(p,d),this.outletElement.appendChild(d),this._attachedPortal=c,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(d,p)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||s.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let oC=(()=>{class n extends eP{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new s.vpe,this.attachDomPortal=o=>{const c=o.element,d=this._document.createComment("dom-portal");o.setAttachedHost(this),c.parentNode.insertBefore(d,c),this._getRootNode().appendChild(c),this._attachedPortal=o,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(c,d)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),c=i.createComponent(o,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=e,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36(ae))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[s.qOj]}),n})(),aC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const x3=W7();class IZ{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Wr(-this._previousScrollPosition.left),t.style.top=Wr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),x3&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),x3&&(i.scrollBehavior=o,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class SZ{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class M3{enable(){}disable(){}attach(){}}function tP(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function k3(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class TZ{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();tP(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let xZ=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new M3,this.close=c=>new SZ(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new IZ(this._viewportRuler,this._document),this.reposition=c=>new TZ(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(wZ),s.LFG(TT),s.LFG(s.R0b),s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class nP{constructor(t){if(this.scrollStrategy=new M3,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class MZ{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let O3=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kZ=(()=>{class n extends O3{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let c=o.length-1;c>-1;c--)if(o[c]._keydownEvents.observers.length>0){const d=o[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(r)):d.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ae),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OZ=(()=>{class n extends O3{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=wm(o)},this._clickListener=o=>{const c=wm(o),d="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let _=p.length-1;_>-1;_--){const b=p[_];if(b._outsidePointerEvents.observers.length<1||!b.hasAttached())continue;if(b.overlayElement.contains(c)||b.overlayElement.contains(d))break;const I=b._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>I.next(o)):I.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ae),s.LFG(No),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xT=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||zR()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),zR()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ae),s.LFG(No))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class lC{constructor(t,e,i,r,o,c,d,p,_,b=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=c,this._document=d,this._location=p,this._outsideClickDispatcher=_,this._animationsDisabled=b,this._backdropElement=null,this._backdropClick=new jt.x,this._attachments=new jt.x,this._detachments=new jt.x,this._locationChanges=di.w0.EMPTY,this._backdropClickHandler=I=>this._backdropClick.next(I),this._backdropTransitionendHandler=I=>{this._disposeBackdrop(I.target)},this._keydownEvents=new jt.x,this._outsidePointerEvents=new jt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(nn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Wr(this._config.width),t.height=Wr(this._config.height),t.minWidth=Wr(this._config.minWidth),t.minHeight=Wr(this._config.minHeight),t.maxWidth=Wr(this._config.maxWidth),t.maxHeight=Wr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=bT(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Ai((0,Ja.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const R3="cdk-overlay-connected-position-bounding-box",RZ=/([A-Za-z%]+)$/;class P3{constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new jt.x,this._resizeSubscription=di.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(R3),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let c;for(let d of this._preferredPositions){let p=this._getOriginPoint(t,r,d),_=this._getOverlayPoint(p,e,d),b=this._getOverlayFit(_,e,i,d);if(b.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,p);this._canFitWithFlexibleDimensions(b,_,i)?o.push({position:d,origin:p,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(p,d)}):(!c||c.overlayFit.visibleArea<b.visibleArea)&&(c={overlayFit:b,overlayPoint:_,originPoint:p,position:d,overlayRect:e})}if(o.length){let d=null,p=-1;for(const _ of o){const b=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);b>p&&(p=b,d=_)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Em(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(R3),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const c=this._isRtl()?t.right:t.left,d=this._isRtl()?t.left:t.right;r="start"==i.originX?c:d}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=F3(e);let{x:c,y:d}=t,p=this._getOffset(r,"x"),_=this._getOffset(r,"y");p&&(c+=p),_&&(d+=_);let O=0-d,B=d+o.height-i.height,z=this._subtractOverflows(o.width,0-c,c+o.width-i.width),X=this._subtractOverflows(o.height,O,B),se=z*X;return{visibleArea:se,isCompletelyWithinViewport:o.width*o.height===se,fitsInViewportVertically:X===o.height,fitsInViewportHorizontally:z==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,c=N3(this._overlayRef.getConfig().minHeight),d=N3(this._overlayRef.getConfig().minWidth),_=t.fitsInViewportHorizontally||null!=d&&d<=o;return(t.fitsInViewportVertically||null!=c&&c<=r)&&_}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=F3(e),o=this._viewportRect,c=Math.max(t.x+r.width-o.width,0),d=Math.max(t.y+r.height-o.height,0),p=Math.max(o.top-i.top-t.y,0),_=Math.max(o.left-i.left-t.x,0);let b=0,I=0;return b=r.width<=o.width?_||-c:t.x<this._viewportMargin?o.left-i.left-t.x:0,I=r.height<=o.height?p||-d:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:b,y:I},{x:t.x+b,y:t.y+I}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new MZ(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,c,d,b,I,O;if("top"===e.overlayY)c=t.y,o=i.height-c+this._viewportMargin;else if("bottom"===e.overlayY)d=i.height-t.y+2*this._viewportMargin,o=i.height-d+this._viewportMargin;else{const B=Math.min(i.bottom-t.y+i.top,t.y),z=this._lastBoundingBoxSize.height;o=2*B,c=t.y-B,o>z&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.y-z/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)O=i.width-t.x+this._viewportMargin,b=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)I=t.x,b=i.right-t.x;else{const B=Math.min(i.right-t.x+i.left,t.x),z=this._lastBoundingBoxSize.width;b=2*B,I=t.x-B,b>z&&!this._isInitialRender&&!this._growAfterOpen&&(I=t.x-z/2)}return{top:c,left:I,bottom:d,right:O,width:b,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=Wr(i.height),r.top=Wr(i.top),r.bottom=Wr(i.bottom),r.width=Wr(i.width),r.left=Wr(i.left),r.right=Wr(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=Wr(o)),c&&(r.maxWidth=Wr(c))}this._lastBoundingBoxSize=i,Em(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Em(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Em(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const b=this._viewportRuler.getViewportScrollPosition();Em(i,this._getExactOverlayY(e,t,b)),Em(i,this._getExactOverlayX(e,t,b))}else i.position="static";let d="",p=this._getOffset(e,"x"),_=this._getOffset(e,"y");p&&(d+=`translateX(${p}px) `),_&&(d+=`translateY(${_}px)`),i.transform=d.trim(),c.maxHeight&&(r?i.maxHeight=Wr(c.maxHeight):o&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=Wr(c.maxWidth):o&&(i.maxWidth="")),Em(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=Wr(o.y),r}_getExactOverlayX(t,e,i){let c,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),c=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=Wr(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:k3(t,i),isOriginOutsideView:tP(t,i),isOverlayClipped:k3(e,i),isOverlayOutsideView:tP(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&bT(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof s.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Em(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function N3(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(RZ);return e&&"px"!==e?null:parseFloat(t)}return n||null}function F3(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const L3="cdk-global-overlay-wrapper";class PZ{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(L3),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:c,maxHeight:d}=i,p=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),_=!("100%"!==o&&"100vh"!==o||d&&"100%"!==d&&"100vh"!==d),b=this._xPosition,I=this._xOffset,O="rtl"===this._overlayRef.getConfig().direction;let B="",z="",X="";p?X="flex-start":"center"===b?(X="center",O?z=I:B=I):O?"left"===b||"end"===b?(X="flex-end",B=I):("right"===b||"start"===b)&&(X="flex-start",z=I):"left"===b||"start"===b?(X="flex-start",B=I):("right"===b||"end"===b)&&(X="flex-end",z=I),t.position=this._cssPosition,t.marginLeft=p?"0":B,t.marginTop=_?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=p?"0":z,e.justifyContent=X,e.alignItems=_?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(L3),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let NZ=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new PZ}flexibleConnectedTo(e){return new P3(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(TT),s.LFG(ae),s.LFG(No),s.LFG(xT))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FZ=0,Uf=(()=>{class n{constructor(e,i,r,o,c,d,p,_,b,I,O,B){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=c,this._injector=d,this._ngZone=p,this._document=_,this._directionality=b,this._location=I,this._outsideClickDispatcher=O,this._animationsModuleType=B}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),c=new nP(e);return c.direction=c.direction||this._directionality.value,new lC(o,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+FZ++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new DZ(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xZ),s.LFG(xT),s.LFG(s._Vd),s.LFG(NZ),s.LFG(kZ),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(ae),s.LFG(Yu),s.LFG(je),s.LFG(OZ),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const VZ={provide:new s.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Uf],useFactory:function BZ(n){return()=>n.scrollStrategies.reposition()}};let iP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Uf,VZ],imports:[tC,aC,JR,JR]}),n})();function UZ(n,t){}class MT{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let B3=(()=>{class n extends eP{constructor(e,i,r,o,c,d,p,_){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=c,this._ngZone=d,this._overlayRef=p,this._focusMonitor=_,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=b=>{this._portalOutlet.hasAttached();const I=this._portalOutlet.attachDomPortal(b);return this._contentAttached(),I},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=$0(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=$0();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=$0())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(CT),s.Y36(ae,8),s.Y36(MT),s.Y36(wT),s.Y36(s.R0b),s.Y36(lC),s.Y36(eC))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&s.Gf(oC,7),2&e){let r;s.iGM(r=s.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&s.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&s.YNc(0,UZ,0,0,"ng-template",0)},dependencies:[oC],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class rP{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new jt.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!J0(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const V3=new s.OlP("DialogScrollStrategy"),HZ=new s.OlP("DialogData"),zZ=new s.OlP("DefaultDialogConfig"),GZ={provide:V3,deps:[Uf],useFactory:function jZ(n){return()=>n.scrollStrategies.block()}};let qZ=0,U3=(()=>{class n{constructor(e,i,r,o,c,d){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new jt.x,this._afterOpenedAtThisLevel=new jt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=bo(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Cr(void 0))),this._scrollStrategy=d}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,i){(i={...this._defaultOptions||new MT,...i}).id=i.id||"cdk-dialog-"+qZ++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),c=this._overlay.create(o),d=new rP(c,i),p=this._attachContainer(c,d,i);return d.containerInstance=p,this._attachDialogContent(e,d,p,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.closed.subscribe(()=>this._removeOpenDialog(d,!0)),this.afterOpened.next(d),d}closeAll(){sP(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){sP(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),sP(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new nP({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const o=r.injector||r.viewContainerRef?.injector,c=[{provide:MT,useValue:r},{provide:rP,useValue:i},{provide:lC,useValue:e}];let d;r.container?"function"==typeof r.container?d=r.container:(d=r.container.type,c.push(...r.container.providers(r))):d=B3;const p=new sC(d,r.viewContainerRef,s.zs3.create({parent:o||this._injector,providers:c}),r.componentFactoryResolver);return e.attach(p).instance}_attachDialogContent(e,i,r,o){if(e instanceof s.Rgc){const c=this._createInjector(o,i,r,void 0);let d={$implicit:o.data,dialogRef:i};o.templateContext&&(d={...d,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new T3(e,null,d,c))}else{const c=this._createInjector(o,i,r,this._injector),d=r.attachComponentPortal(new sC(e,o.viewContainerRef,c,o.componentFactoryResolver));i.componentInstance=d.instance}}_createInjector(e,i,r,o){const c=e.injector||e.viewContainerRef?.injector,d=[{provide:HZ,useValue:e.data},{provide:rP,useValue:i}];return e.providers&&("function"==typeof e.providers?d.push(...e.providers(i,e,r)):d.push(...e.providers)),e.direction&&(!c||!c.get(Yu,null,s.XFs.Optional))&&d.push({provide:Yu,useValue:{value:e.direction,change:dt()}}),s.zs3.create({parent:c||o,providers:d})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,c)=>{o?c.setAttribute("aria-hidden",o):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Uf),s.LFG(s.zs3),s.LFG(zZ,8),s.LFG(n,12),s.LFG(xT),s.LFG(V3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function sP(n,t){let e=n.length;for(;e--;)t(n[e])}let ZZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[U3,GZ],imports:[iP,aC,m3,aC]}),n})();class H3{}const ih="*";function kT(n,t){return{type:7,name:n,definitions:t,options:{}}}function Dm(n,t=null){return{type:4,styles:t,timings:n}}function z3(n,t=null){return{type:3,steps:n,options:t}}function j3(n,t=null){return{type:2,steps:n,options:t}}function Fo(n){return{type:6,styles:n,offset:null}}function cC(n,t,e){return{type:0,name:n,styles:t,options:e}}function G3(n){return{type:5,steps:n}}function Im(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function q3(n=null){return{type:9,options:n}}function Z3(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function W3(n){Promise.resolve().then(n)}class uC{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){W3(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Y3{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?W3(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++e==o&&this._onFinish()}),c.onDestroy(()=>{++i==o&&this._onDestroy()}),c.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((c,d)=>Math.max(c,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function YZ(n,t){}const Iv={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},$Z={dialogContainer:kT("dialogContainer",[cC("void, exit",Fo({opacity:0,transform:"scale(0.7)"})),cC("enter",Fo({transform:"none"})),Im("* => enter",z3([Dm("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",Fo({transform:"none",opacity:1})),Z3("@*",q3(),{optional:!0})]),Iv),Im("* => void, * => exit",z3([Dm("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",Fo({opacity:0})),Z3("@*",q3(),{optional:!0})]),Iv)])};class OT{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=Iv.params.enterAnimationDuration,this.exitAnimationDuration=Iv.params.exitAnimationDuration}}let KZ=(()=>{class n extends B3{constructor(e,i,r,o,c,d,p,_){super(e,i,r,o,c,d,p,_),this._animationStateChanged=new s.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(CT),s.Y36(ae,8),s.Y36(OT),s.Y36(wT),s.Y36(s.R0b),s.Y36(lC),s.Y36(eC))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],features:[s.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),QZ=(()=>{class n extends KZ{constructor(e,i,r,o,c,d,p,_,b){super(e,i,r,o,c,d,p,b),this._changeDetectorRef=_,this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?this._openAnimationDone(i):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||Iv.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||Iv.params.exitAnimationDuration}}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(CT),s.Y36(ae,8),s.Y36(OT),s.Y36(wT),s.Y36(s.R0b),s.Y36(lC),s.Y36(s.sBO),s.Y36(eC))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,i){1&e&&s.WFA("@dialogContainer.start",function(o){return i._onAnimationStart(o)})("@dialogContainer.done",function(o){return i._onAnimationDone(o)}),2&e&&(s.Ikx("id",i._config.id),s.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),s.d8E("@dialogContainer",i._getAnimationState()))},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&s.YNc(0,YZ,0,0,"ng-template",0)},dependencies:[oC],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[$Z.dialogContainer]}}),n})();class aP{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new jt.x,this._beforeClosed=new jt.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(x(r=>"opened"===r.state),nn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(x(r=>"closed"===r.state),nn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Ja.T)(this.backdropClick(),this.keydownEvents().pipe(x(r=>27===r.keyCode&&!this.disableClose&&!J0(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),$3(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(x(e=>"closing"===e.state),nn(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function $3(n,t,e){return n._closeInteractionType=t,n.close(e)}const JZ=new s.OlP("MatDialogData"),XZ=new s.OlP("mat-dialog-default-options"),K3=new s.OlP("mat-dialog-scroll-strategy"),tW={provide:K3,deps:[Uf],useFactory:function eW(n){return()=>n.scrollStrategies.block()}};let nW=0,iW=(()=>{class n{constructor(e,i,r,o,c,d,p,_,b,I){this._overlay=e,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=p,this._dialogContainerType=_,this._dialogDataToken=b,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new jt.x,this._afterOpenedAtThisLevel=new jt.x,this._idPrefix="mat-dialog-",this.afterAllClosed=bo(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Cr(void 0))),this._scrollStrategy=d,this._dialog=i.get(U3)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){let r;(i={...this._defaultOptions||new OT,...i}).id=i.id||`${this._idPrefix}${nW++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:OT,useValue:i},{provide:MT,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(c,d,p)=>(r=new this._dialogRefConstructor(c,i,p),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:p},{provide:this._dialogDataToken,useValue:d.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const c=this.openDialogs.indexOf(r);c>-1&&(this.openDialogs.splice(c,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Sv=(()=>{class n extends iW{constructor(e,i,r,o,c,d,p,_){super(e,i,o,d,p,c,aP,QZ,JZ,_)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Uf),s.LFG(s.zs3),s.LFG(je,8),s.LFG(XZ,8),s.LFG(K3),s.LFG(n,12),s.LFG(xT),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),rW=0,Q3=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=tU(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){$3(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(aP,8),s.Y36(s.SBq),s.Y36(Sv))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._onButtonClick(o)}),2&e&&s.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[s.TTD]}),n})(),J3=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+rW++}ngOnInit(){this._dialogRef||(this._dialogRef=tU(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(aP,8),s.Y36(s.SBq),s.Y36(Sv))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&s.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),X3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),eU=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-dialog-actions-align-center","center"===i.align)("mat-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),n})();function tU(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}let nU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Sv,tW],imports:[ZZ,iP,aC,_s,_s]}),n})(),lP=(()=>{class n{constructor(e){this.fireWorker=e,this.LoginForm=new So({email:new mn(""),password:new mn("")})}ngOnInit(){}onSubmit(){let e=this.LoginForm.value;this.fireWorker.signIn(e.email,e.password).then(i=>{})}signInWithGoogle(){this.fireWorker.googleAuth()}forgotPassword(){this.fireWorker.forgotPassword(this.LoginForm.value.email).then(i=>{console.log(i)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(VR))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-login"]],decls:25,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","exampleInputEmail1",1,"form-label"],["type","email","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","email",1,"form-control"],["id","emailHelp",1,"form-text"],["for","exampleInputPassword1",1,"form-label"],["type","password","id","exampleInputPassword1","formControlName","password",1,"form-control"],[1,"forgot-password",3,"click"],["type","submit","mat-dialog-close","",1,"btn","btn-primary"],["type","button","mat-dialog-close","",1,"btn","btn-primary",3,"click"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(e,i){1&e&&(s.TgZ(0,"h1",0),s._uU(1,"Log in"),s.qZA(),s.TgZ(2,"div",1)(3,"form",2),s.NdJ("ngSubmit",function(){return i.onSubmit()}),s.TgZ(4,"div",3)(5,"label",4),s._uU(6,"Email address"),s.qZA(),s._UZ(7,"input",5),s.TgZ(8,"div",6),s._uU(9," We'll never share your email with anyone else. "),s.qZA()(),s.TgZ(10,"div",3)(11,"label",7),s._uU(12,"Password"),s.qZA(),s._UZ(13,"input",8),s.TgZ(14,"p",9),s.NdJ("click",function(){return i.forgotPassword()}),s._uU(15,"Forgot Password"),s.qZA()(),s.TgZ(16,"button",10),s._uU(17," Log In "),s.qZA(),s._UZ(18,"br"),s.TgZ(19,"button",11),s.NdJ("click",function(){return i.signInWithGoogle()}),s._uU(20," Log In With Google "),s.qZA(),s._UZ(21,"br"),s.qZA()(),s.TgZ(22,"div",12)(23,"button",13),s._uU(24,"Cancel"),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("formGroup",i.LoginForm))},dependencies:[Ev,Q3,J3,X3,eU,Nd,il,Od,Rd,To,Ru],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]{width:400px}button[_ngcontent-%COMP%]{margin-bottom:10px}.forgot-password[_ngcontent-%COMP%]{font-size:14px;margin-top:5px;cursor:pointer}.dropdown-menu.show[_ngcontent-%COMP%]{padding:10px 5px!important}.btn-primary[_ngcontent-%COMP%]{background:#b3e03f!important;border:none}.btn-primary[_ngcontent-%COMP%]:hover{background:#3ad5a0!important;transition:.5s all;-webkit-transition:.5s all;-moz-transition:.5s all;-o-transition:.5s all;-ms-transition:.5s all}input[_ngcontent-%COMP%]:focus{outline:none!important;border-color:#b3e03f;box-shadow:0 0 5px #3ad5a0}"]}),n})(),iU=(()=>{class n{constructor(e,i){this.firestore=e,this.angularFireAuth=i,this.wishlistEmitter=new s.vpe;let r=this;this.angularFireAuth.onAuthStateChanged(function(o){r.loadWishlist(o)})}loadWishlist(e){if(e){let i=localStorage.user?JSON.parse(localStorage.user).uid:null;this.getWishlistFunc=this.getWishlist(i),this.getWishlistFunc&&(null!=this.getWishlistSubscriber&&this.getWishlistSubscriber.unsubscribe(),this.getWishlistSubscriber=this.getWishlistFunc.subscribe(r=>{this.wishlistEmitter.emit({Data:r.wishlist})}))}e||(null!=this.getWishlistSubscriber&&this.getWishlistSubscriber.unsubscribe(),this.wishlistEmitter.emit({Data:[]}))}AddRemoveFromWishlist(e,i){const r=this.firestore.collection("users").doc(e);return r.get().subscribe(o=>{let c=o.data();c.wishlist&&(c.wishlist.includes(i)?c.wishlist.splice(c.wishlist.indexOf(i),1):c.wishlist.push(i),console.log(c.wishlist),r.update({wishlist:c.wishlist}))}),!0}getWishlist(e){return e?this.firestore.collection("users").doc(e).valueChanges():null}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gv),s.LFG(Uc))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sW=function(n){return{"image-active":n}};function oW(n,t){if(1&n&&s._UZ(0,"img",20),2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.MGl("routerLink","/hotel/",r.card.id,""),s.Q6J("src",e,s.LSH)("ngClass",s.VKq(3,sW,r.selectedIndex===i))}}const aW=function(n){return{active:n}};function lW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",21),s.NdJ("click",function(){const o=s.CHM(e).index,c=s.oxw();return s.KtG(c.selectImage(o))}),s.qZA()}if(2&n){const e=t.index,i=s.oxw();s.Q6J("ngClass",s.VKq(1,aW,i.selectedIndex===e))}}const cW=function(){return["inWishlist"]},uW=function(){return[""]};let Tv=(()=>{class n{constructor(e,i,r){this.angularFireAuth=e,this.dialog=i,this.wishlist=r,this.selectedIndex=0,this.inWishlist=!1;var o=this;this.angularFireAuth.onAuthStateChanged(function(c){o.auth=!!c})}ngOnInit(){this.wishlist.wishlistEmitter.subscribe(e=>{this.inWishlist=!!e.Data.includes(this.card.id)})}selectImage(e){this.selectedIndex=e}onPrevClick(){0==this.selectedIndex?this.selectedIndex=this.card.mainImages.length-1:this.selectedIndex--}onNextClick(){this.selectedIndex===this.card.mainImages.length-1?this.selectedIndex=0:this.selectedIndex++}addCardInWishlist(){var e=this;return(0,xe.Z)(function*(){e.auth?e.wishlist.AddRemoveFromWishlist(JSON.parse(localStorage.user).uid?JSON.parse(localStorage.user).uid:null,e.card.id):e.dialog.open(lP)})()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Uc),s.Y36(Sv),s.Y36(iU))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-card"]],inputs:{card:"card"},decls:27,vars:9,consts:[[1,"card-group"],[1,"card"],[1,"carousel-container","d-flex"],["alt","","class","animation-slider",3,"routerLink","src","ngClass",4,"ngFor","ngForOf"],[1,"carousel-dot-container"],["class","dot",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"btn-carousel","btn-prev"],[1,"fa","fa-arrow-circle-left","icon-carousel","icon-prev",3,"click"],[1,"btn-carousel","btn-next"],[1,"fa","fa-arrow-circle-right","icon-carousel","icon-next",3,"click"],[1,"card-body",3,"routerLink"],[1,"card-title"],[1,"card-text","hotel-reiting"],["viewBox","0 0 32 32","xmlns","http://www.w3.org/2000/svg","aria-hidden","true","role","presentation","focusable","false",2,"display","block","height","12px","width","12px","fill","currentcolor"],["d","M15.094 1.579l-4.124 8.885-9.86 1.27a1 1 0 0 0-.542 1.736l7.293 6.565-1.965 9.852a1 1 0 0 0 1.483 1.061L16 25.951l8.625 4.997a1 1 0 0 0 1.482-1.06l-1.965-9.853 7.293-6.565a1 1 0 0 0-.541-1.735l-9.86-1.271-4.127-8.885a1 1 0 0 0-1.814 0z","fill-rule","evenodd"],[1,"card-text"],[1,"wishlist"],["type","button",1,"wishlist-btn",3,"click"],["viewBox","0 0 32 32","xmlns","http://www.w3.org/2000/svg","aria-hidden","true","role","presentation","focusable","false",2,"display","block","fill","rgba(0, 0, 0, 0.5)","height","24px","width","24px","stroke","var(--f-mkcy-f)","stroke-width","2","overflow","visible"],["d","m16 28c7-4.733 14-10 14-17 0-1.792-.683-3.583-2.05-4.95-1.367-1.366-3.158-2.05-4.95-2.05-1.791 0-3.583.684-4.949 2.05l-2.051 2.051-2.05-2.051c-1.367-1.366-3.158-2.05-4.95-2.05-1.791 0-3.583.684-4.949 2.05-1.367 1.367-2.051 3.158-2.051 4.95 0 7 7 12.267 14 17z",3,"ngClass"],["alt","",1,"animation-slider",3,"routerLink","src","ngClass"],[1,"dot",3,"ngClass","click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2),s.YNc(3,oW,1,5,"img",3),s.TgZ(4,"div",4),s.YNc(5,lW,1,3,"span",5),s.qZA(),s.TgZ(6,"button",6)(7,"i",7),s.NdJ("click",function(){return i.onPrevClick()}),s.qZA()(),s.TgZ(8,"button",8)(9,"i",9),s.NdJ("click",function(){return i.onNextClick()}),s.qZA()()(),s.TgZ(10,"div",10)(11,"p",11),s._uU(12),s.qZA(),s.TgZ(13,"p",12)(14,"span"),s.O4$(),s.TgZ(15,"svg",13),s._UZ(16,"path",14),s.qZA()(),s.kcU(),s.TgZ(17,"span"),s._uU(18),s.qZA()(),s.TgZ(19,"p",15)(20,"b"),s._uU(21),s.qZA(),s._uU(22," night"),s.qZA()(),s.TgZ(23,"div",16)(24,"button",17),s.NdJ("click",function(){return i.addCardInWishlist()}),s.O4$(),s.TgZ(25,"svg",18),s._UZ(26,"path",19),s.qZA()()()()()),2&e&&(s.xp6(3),s.Q6J("ngForOf",i.card.mainImages),s.xp6(2),s.Q6J("ngForOf",i.card.mainImages),s.xp6(5),s.MGl("routerLink","/hotel/",i.card.id,""),s.xp6(2),s.Oqu(i.card.name),s.xp6(6),s.hij(" ",i.card.starCount,""),s.xp6(3),s.hij("$ ",i.card.rooms[0].price,""),s.xp6(5),s.Q6J("ngClass",i.inWishlist?s.DdM(7,cW):s.DdM(8,uW)))},dependencies:[hn,Nn,xu],styles:[".card-group[_ngcontent-%COMP%]{max-width:100%}.card[_ngcontent-%COMP%]{margin-bottom:15px;border-radius:10px}.card-title[_ngcontent-%COMP%]{font-size:15px;font-weight:600;margin-top:none!important;max-height:23px;overflow:hidden}.hotel-reiting[_ngcontent-%COMP%]{display:flex;align-items:center}.hotel-reiting[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child   svg[_ngcontent-%COMP%]{margin-left:0!important}.hotel-reiting[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child{font-size:15px;margin-left:5px}.carousel-container[_ngcontent-%COMP%]{position:relative;box-shadow:0 6px 12px #dce1e1;width:100%}.carousel-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:250px;display:none;border-radius:10px 10px 0 0;object-fit:cover}.carousel-container[_ngcontent-%COMP%]   img.image-active[_ngcontent-%COMP%]{display:block}.carousel-dot-container[_ngcontent-%COMP%]{position:absolute;right:0;left:0;bottom:0;display:flex;justify-content:center;padding:0;margin-bottom:1rem}.carousel-dot-container[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{cursor:pointer;height:7px;width:7px;margin:0 3px;background-color:#fff;border-radius:50%;display:inline-block;transition:opacity .6s ease;opacity:.5}.active[_ngcontent-%COMP%], .dot[_ngcontent-%COMP%]:hover{opacity:1!important}.animation-slider[_ngcontent-%COMP%]{animation-name:fade;animation-duration:1.5s}@keyframes fade{0%{opacity:.4}to{opacity:1}}.btn-carousel[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;display:flex;align-items:center;justify-content:center;width:15%;padding:0;color:#fff;text-align:center;background:0 0;border:0;cursor:pointer}.btn-prev[_ngcontent-%COMP%]{left:0}.icon-carousel[_ngcontent-%COMP%]{color:#fff;opacity:.5;transition:all .15s ease}.icon-carousel[_ngcontent-%COMP%]:hover{opacity:.9}.icon-carousel[_ngcontent-%COMP%]:active{opacity:.5}.icon-next[_ngcontent-%COMP%], .icon-prev[_ngcontent-%COMP%]{font-size:25px}.btn-next[_ngcontent-%COMP%]{right:0}.wishlist[_ngcontent-%COMP%]{position:absolute;right:20px;top:20px;z-index:10}.wishlist-btn[_ngcontent-%COMP%]{width:35px;height:35px;display:flex;align-items:center;justify-content:center;background:inherit;border:none;border-radius:50%;transition:transform .25s ease}.wishlist-btn[_ngcontent-%COMP%]:hover{background:rgb(191,191,191);transition:.3s}.wishlist-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:block;fill:#fff!important;width:25px!important;height:25px!important;stroke:var(--f-mkcy-f);stroke-width:2;overflow:visible}.inWishlist[_ngcontent-%COMP%]{fill:red!important}"]}),n})();function dW(n,t){if(1&n&&(s.TgZ(0,"div",2),s._UZ(1,"app-card",3),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("card",e)}}let rU=(()=>{class n{constructor(e,i){this.categoryService=e,this.activatedRoute=i,this.cards=[],this.hotelFilteredArray=[]}ngOnInit(){this.objToString()}objToString(){var e=this;this.activatedRoute.queryParams.subscribe(function(){var i=(0,xe.Z)(function*(r){let o=Object.keys(r).filter(c=>0!=Number(r[c])).map(c=>{if(Array.isArray(r[c])){let d=[];return r[c].forEach(p=>{d.push(c+"="+p)}),d.join("&")}return c+"="+r[c]}).join("&");e.sendFilterdHotels(o)});return function(r){return i.apply(this,arguments)}}())}sendFilterdHotels(e){this.categoryService.getFilteredCategoris(`?${e}`).subscribe(i=>{this.cards=i})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Wl),s.Y36(ua))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-advanced-filter"]],decls:2,vars:1,consts:[[1,"app-filtered-hotels"],["class","",4,"ngFor","ngForOf"],[1,""],[3,"card"]],template:function(e,i){1&e&&(s.TgZ(0,"article",0),s.YNc(1,dW,2,1,"div",1),s.qZA()),2&e&&(s.xp6(1),s.Q6J("ngForOf",i.cards))},dependencies:[Nn,Tv],styles:[".app-filtered-hotels[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(278px,1fr));grid-gap:15px}"]}),n})(),xv=(()=>{class n{constructor(e){this.httpClient=e,this.header=new nl({"content-type":"application/json"})}setHeaders(e,i){this.header=this.header.append(e,i)}getAll(e){return this.httpClient.get(e)}getById(e){return this.httpClient.get(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG($h))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hW(n,t){if(1&n&&(s.TgZ(0,"div",2),s._UZ(1,"app-card",3),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("card",e)}}let sU=(()=>{class n{constructor(e,i,r){this.baseHttpService=e,this.categoryService=i,this.activatedRoute=r,this.cards=[],this.hotelFilteredArray=[]}ngOnInit(){this.baseHttpService.getAll(`${ql_baseApiUrl}/Hotel`).subscribe(i=>{this.cards=i,this.filterByIcon()}),this.activatedRoute.queryParams.subscribe(i=>{i&&(this.categoryItem=i,this.filterByIcon())}),this.categoryService.categoryItemEmitter.subscribe(()=>{this.filterByIcon()})}filterByIcon(){this.hotelFilteredArray=[],this.cards.forEach(e=>{e.categories.forEach(i=>{if(i.name==this.categoryItem.name)return this.hotelFilteredArray.push(e)})})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(xv),s.Y36(Wl),s.Y36(ua))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-filter-by-category"]],decls:2,vars:1,consts:[[1,"app-filtered-hotels"],["class","",4,"ngFor","ngForOf"],[1,""],[3,"card"]],template:function(e,i){1&e&&(s.TgZ(0,"article",0),s.YNc(1,hW,2,1,"div",1),s.qZA()),2&e&&(s.xp6(1),s.Q6J("ngForOf",i.hotelFilteredArray))},dependencies:[Nn,Tv],styles:[".app-filtered-hotels[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(278px,1fr));grid-gap:15px}"]}),n})();function fW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",5),s.NdJ("mousemove",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.dragging(r))})("mousedown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.dragStart(r))})("mouseup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.dragStop())}),s.TgZ(1,"button",6),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.onCategoriesClick(o))}),s._UZ(2,"img",7),s.TgZ(3,"span"),s._uU(4),s.qZA()()()}if(2&n){const e=t.$implicit;s.xp6(2),s.Q6J("src",e.icon,s.LSH),s.xp6(2),s.Oqu(e.name)}}let oU=(()=>{class n{constructor(e,i){this.categoryService=e,this.router=i,this.filterSliderButtonsList=[],this.isDragStart=!1}ngOnInit(){this.sliderIcons=document.querySelector(".slider-icons-wrapper"),this.readAllCategories()}readAllCategories(){this.categoryService.getAllCategories().subscribe(e=>{this.filterSliderButtonsList=e})}dragging(e){!this.isDragStart||(this.sliderIcons.scrollLeft=e.pageX,this.positionDiff=e.pageX-this.prevPageX,this.sliderIcons.scrollLeft=this.prevScrollLeft-this.positionDiff)}dragStart(e){this.isDragStart=!0,this.prevPageX=e.pageX,this.prevScrollLeft=this.sliderIcons.scrollLeft}dragStop(){this.isDragStart=!1}onScrollLeft(){this.sliderIcons.scrollLeft-=500}onScrollRight(){this.sliderIcons.scrollLeft+=500}onCategoriesClick(e){this.categoryService.categoryItemEmitter.emit(),this.router.navigate(["filtered-hotels/category-filter"],{queryParams:{name:e.name}})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Wl),s.Y36(hi))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-filter-buttons-slider"]],decls:7,vars:1,consts:[[1,"filter-slider-button-wrapper"],["id","btn-left",1,"slider-btn","btn-left",3,"click"],[1,"slider-icons-wrapper"],["class","slider-icons",3,"mousemove","mousedown","mouseup",4,"ngFor","ngForOf"],["id","btn-right",1,"slider-btn","btn-right",3,"click"],[1,"slider-icons",3,"mousemove","mousedown","mouseup"],[1,"filter-slider-button",3,"click"],[1,"filter-slider-img",3,"src"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"button",1),s.NdJ("click",function(){return i.onScrollLeft()}),s._uU(2," \u{1f878} "),s.qZA(),s.TgZ(3,"div",2),s.YNc(4,fW,5,2,"div",3),s.qZA(),s.TgZ(5,"button",4),s.NdJ("click",function(){return i.onScrollRight()}),s._uU(6," \u{1f87a} "),s.qZA()()),2&e&&(s.xp6(4),s.Q6J("ngForOf",i.filterSliderButtonsList))},dependencies:[Nn],styles:[".filter-slider-button-wrapper[_ngcontent-%COMP%]{width:80vmax!important;display:flex;justify-content:space-between;align-items:center}.slider-icons-wrapper[_ngcontent-%COMP%]{width:100%;margin:0 2.5rem;display:flex;overflow:hidden;scroll-behavior:smooth}.filter-slider-button[_ngcontent-%COMP%]{height:4.5rem;width:6rem;background:none;border:none;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#6c6969}.filter-slider-img[_ngcontent-%COMP%]{height:24px;width:24px}span[_ngcontent-%COMP%]{font-size:.6rem;font-weight:700}.slider-btn[_ngcontent-%COMP%]{height:2.2rem;width:2.2rem;border:1px solid #777;background-color:inherit;border-radius:50%;color:#333;transition:all .3s}.slider-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}@media (max-width: 1700px){.filter-slider-button-wrapper[_ngcontent-%COMP%]{width:75vmax!important}}@media (max-width: 1330px){.filter-slider-button-wrapper[_ngcontent-%COMP%]{width:70vmax!important}}@media (max-width: 1150px){.filter-slider-button-wrapper[_ngcontent-%COMP%]{width:65vmax!important}}@media (max-width: 950px){.filter-slider-button-wrapper[_ngcontent-%COMP%]{width:60vmax!important}}@media (max-width: 800px){.filter-slider-button-wrapper[_ngcontent-%COMP%]{width:55vmax!important}}"]}),n})();class aU{constructor(){this.PriceFrom=0,this.PriceTo=0,this.Amenities=[],this.TypeOfPlace=[],this.RoomsCount=0,this.BedsPerRoomCount=0,this.BathRoomsCount=0,this.propertyOfType="",this.HostLanguage=[]}}let Hf=(()=>{class n{constructor(){this.advancedFilterEmitter=new s.vpe,this.resetValueEmitter=new s.vpe,this.filterModalInfo=new aU}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pW=(()=>{class n{constructor(e){this.httpClient=e,this.apiUrl=`${ql_baseApiUrl}`}getAllAmenities(){return this.httpClient.get(`${this.apiUrl}/Category/get-all-menities`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG($h))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",5),s.ynx(1),s.TgZ(2,"label",6)(3,"span"),s._uU(4),s.qZA()(),s.TgZ(5,"input",7),s.NdJ("change",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onAmenities(r))}),s.qZA(),s.BQk(),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(2),s.s9C("for",e),s.xp6(2),s.Oqu(e),s.xp6(1),s.s9C("id",e),s.s9C("value",e)}}function mW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",5)(1,"label",6)(2,"span"),s._uU(3),s.qZA()(),s.TgZ(4,"input",7),s.NdJ("change",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onAmenities(r))}),s.qZA()()}if(2&n){const e=t.$implicit;s.xp6(1),s.s9C("for",e),s.xp6(2),s.Oqu(e),s.xp6(1),s.s9C("id",e),s.s9C("value",e)}}function _W(n,t){if(1&n&&(s.ynx(0),s.YNc(1,mW,5,4,"div",2),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.Amenities.slice(4,e.Amenities.length))}}let lU=(()=>{class n{constructor(e,i){this.filterModalInfo=e,this.amenitiesService=i,this.showMore=!0,this.Amenities=[]}onShowMore(){this.showMore=!this.showMore}ngOnInit(){this.amenitiesService.getAllAmenities().subscribe(e=>{this.Amenities=e}),this.filterModalInfo.resetValueEmitter.subscribe(()=>{console.log(event)})}onAmenities(e){if(e.target.checked)this.filterModalInfo.filterModalInfo.Amenities.push(e.target.value);else{let i=this.filterModalInfo.filterModalInfo.Amenities.indexOf(e.target.value);this.filterModalInfo.filterModalInfo.Amenities.splice(i,1)}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Hf),s.Y36(pW))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-amenities"]],decls:9,vars:3,consts:[[1,"amenities"],[1,"checkbox-wrapper"],["class","form-check",4,"ngFor","ngForOf"],[4,"ngIf"],["type","button",1,"more-less",3,"click"],[1,"form-check"],[1,"form-check-label",3,"for"],["type","checkbox",1,"form-check-input",3,"id","value","change"]],template:function(e,i){1&e&&(s.TgZ(0,"section",0)(1,"header")(2,"h3"),s._uU(3,"Amenities"),s.qZA()(),s.TgZ(4,"div",1),s.YNc(5,gW,6,4,"div",2),s.YNc(6,_W,2,1,"ng-container",3),s.TgZ(7,"button",4),s.NdJ("click",function(){return i.onShowMore()}),s._uU(8),s.qZA()()()),2&e&&(s.xp6(5),s.Q6J("ngForOf",i.Amenities.slice(0,4)),s.xp6(1),s.Q6J("ngIf",!i.showMore),s.xp6(2),s.hij(" ",i.showMore?"Show more":"Show less"," "))},dependencies:[Nn,bn],styles:[".checkbox-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:space-between;margin-top:2.2rem}.form-check[_ngcontent-%COMP%]{width:50%;margin-bottom:1.5%}.form-check-input[_ngcontent-%COMP%]{height:1.5rem;width:1.5rem;cursor:pointer}label[_ngcontent-%COMP%]{margin-left:1.2rem}span[_ngcontent-%COMP%]{font-size:1.2rem;color:#2a2a2a}h4[_ngcontent-%COMP%]{margin-top:5%;margin-bottom:2%}.more-less[_ngcontent-%COMP%]{background-color:inherit;border:none;margin-top:3%;font-weight:600;text-decoration:underline}h3[_ngcontent-%COMP%]{font-weight:500}"]}),n})(),cU=(()=>{class n{constructor(e,i){this.filterModalInfo=e,this.router=i}ngOnInit(){}onShowHomes(){this.router.navigate(["filtered-hotels/advanced-filter"],{queryParams:{PriceFrom:this.filterModalInfo.filterModalInfo.PriceFrom,PriceTo:this.filterModalInfo.filterModalInfo.PriceTo,TypeOfPlace:this.filterModalInfo.filterModalInfo.TypeOfPlace,RoomsCount:this.filterModalInfo.filterModalInfo.RoomsCount,BedsPerRoomCount:this.filterModalInfo.filterModalInfo.BedsPerRoomCount,BathRoomsCount:this.filterModalInfo.filterModalInfo.BathRoomsCount,PropertyType:this.filterModalInfo.filterModalInfo.propertyOfType,HostLanguages:this.filterModalInfo.filterModalInfo.HostLanguage,Amenities:this.filterModalInfo.filterModalInfo.Amenities}}),this.filterModalInfo.advancedFilterEmitter.emit()}onClearAll(){this.filterModalInfo.filterModalInfo={PriceFrom:0,PriceTo:0,Amenities:[],TypeOfPlace:[],RoomsCount:0,BedsPerRoomCount:0,BathRoomsCount:0,propertyOfType:"",HostLanguage:[]},this.filterModalInfo.filterModalInfo=new aU,this.filterModalInfo.resetValueEmitter.emit(),console.log(this.filterModalInfo.filterModalInfo)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Hf),s.Y36(hi))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-filter-footer"]],decls:5,vars:0,consts:[[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","clear-all",3,"click"],["type","button",1,"btn","btn-dark",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"button",1),s.NdJ("click",function(){return i.onClearAll()}),s._uU(2," Clear All "),s.qZA(),s.TgZ(3,"button",2),s.NdJ("click",function(){return i.onShowHomes()}),s._uU(4," Show homes "),s.qZA()())},styles:[".modal-footer[_ngcontent-%COMP%]{width:100%;display:flex!important;justify-content:space-between!important}.clear-all[_ngcontent-%COMP%]{background-color:inherit;border:none;margin-top:3%;font-weight:600;text-decoration:underline}"]}),n})(),uU=(()=>{class n{constructor(){this.closeModalEmitter=new s.vpe}ngOnInit(){}onCloseModal(){this.closeModalEmitter.emit(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-filter-header"]],outputs:{closeModalEmitter:"closeModalEmitter"},decls:4,vars:0,consts:[[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"h1",1),s._uU(2,"Filters"),s.qZA(),s.TgZ(3,"button",2),s.NdJ("click",function(){return i.onCloseModal()}),s.qZA()())}}),n})();function yW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",5),s.ynx(1),s.TgZ(2,"label",6)(3,"span"),s._uU(4),s.qZA()(),s.TgZ(5,"input",7),s.NdJ("change",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onHostLanguage(r))}),s.qZA(),s.BQk(),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(2),s.s9C("for",e),s.xp6(2),s.Oqu(e),s.xp6(1),s.s9C("id",e),s.s9C("value",e)}}function vW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",5)(1,"label",6)(2,"span"),s._uU(3),s.qZA()(),s.TgZ(4,"input",7),s.NdJ("change",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onHostLanguage(r))}),s.qZA()()}if(2&n){const e=t.$implicit;s.xp6(1),s.s9C("for",e),s.xp6(2),s.Oqu(e),s.xp6(1),s.s9C("id",e),s.s9C("value",e)}}function AW(n,t){if(1&n&&(s.ynx(0),s.YNc(1,vW,5,4,"div",2),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.HostLanguage.slice(4,e.HostLanguage.length))}}let dU=(()=>{class n{constructor(e){this.filterModalInfo=e,this.showMore=!0,this.HostLanguage=["English","German","French","Japanese","Italyan","Georgian"]}ngOnInit(){}onShowMore(){this.showMore=!this.showMore}onHostLanguage(e){if(e.target.checked)this.filterModalInfo.filterModalInfo.HostLanguage.push(e.target.value);else{let i=this.filterModalInfo.filterModalInfo.HostLanguage.indexOf(e.target.value);this.filterModalInfo.filterModalInfo.HostLanguage.splice(i,1)}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Hf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-host-language"]],decls:9,vars:3,consts:[[1,"host-language"],[1,"checkbox-wrapper"],["class","form-check",4,"ngFor","ngForOf"],[4,"ngIf"],["type","button",1,"more-less",3,"click"],[1,"form-check"],[1,"form-check-label",3,"for"],["type","checkbox",1,"form-check-input",3,"id","value","change"]],template:function(e,i){1&e&&(s.TgZ(0,"section",0)(1,"header")(2,"h3"),s._uU(3,"Host language"),s.qZA()(),s.TgZ(4,"div",1),s.YNc(5,yW,6,4,"div",2),s.YNc(6,AW,2,1,"ng-container",3),s.TgZ(7,"button",4),s.NdJ("click",function(){return i.onShowMore()}),s._uU(8),s.qZA()()()),2&e&&(s.xp6(5),s.Q6J("ngForOf",i.HostLanguage.slice(0,4)),s.xp6(1),s.Q6J("ngIf",!i.showMore),s.xp6(2),s.hij(" ",i.showMore?"Show more":"Show less"," "))},dependencies:[Nn,bn],styles:["header[_ngcontent-%COMP%]{margin-bottom:5%}.checkbox-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;flex-wrap:wrap}.form-check[_ngcontent-%COMP%]{width:50%;margin-bottom:1.5%}.form-check-input[_ngcontent-%COMP%]{height:1.5rem;width:1.5rem;cursor:pointer}label[_ngcontent-%COMP%]{margin-left:1.2rem}span[_ngcontent-%COMP%]{font-size:1.2rem;color:#2a2a2a}h6[_ngcontent-%COMP%]{margin-top:5%;margin-bottom:2%}.more-less[_ngcontent-%COMP%]{background-color:inherit;border:none;margin-top:3%;font-weight:600;text-decoration:underline}"]}),n})();function RT(n){return"function"==typeof n}let cP=!1;const Jc={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else cP&&console.log("RxJS: Back to a better error behavior. Thank you. <3");cP=n},get useDeprecatedSynchronousErrorHandling(){return cP}};function dC(n){setTimeout(()=>{throw n},0)}const PT={closed:!0,next(n){},error(n){if(Jc.useDeprecatedSynchronousErrorHandling)throw n;dC(n)},complete(){}},bW=Array.isArray||(n=>n&&"number"==typeof n.length);function wW(n){return null!==n&&"object"==typeof n}const NT=(()=>{function n(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((e,i)=>`${i+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return n.prototype=Object.create(Error.prototype),n})();class Lo{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:i,_unsubscribe:r,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof Lo)e.remove(this);else if(null!==e)for(let c=0;c<e.length;++c)e[c].remove(this);if(RT(r)){i&&(this._unsubscribe=void 0);try{r.call(this)}catch(c){t=c instanceof NT?hU(c.errors):[c]}}if(bW(o)){let c=-1,d=o.length;for(;++c<d;){const p=o[c];if(wW(p))try{p.unsubscribe()}catch(_){t=t||[],_ instanceof NT?t=t.concat(hU(_.errors)):t.push(_)}}}if(t)throw new NT(t)}add(t){let e=t;if(!t)return Lo.EMPTY;switch(typeof t){case"function":e=new Lo(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof Lo)){const o=e;e=new Lo,e._subscriptions=[o]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:i}=e;if(null===i)e._parentOrParents=this;else if(i instanceof Lo){if(i===this)return e;e._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return e;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[e]:r.push(e),e}remove(t){const e=this._subscriptions;if(e){const i=e.indexOf(t);-1!==i&&e.splice(i,1)}}}function hU(n){return n.reduce((t,e)=>t.concat(e instanceof NT?e.errors:e),[])}Lo.EMPTY=function(n){return n.closed=!0,n}(new Lo);const FT="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class ll extends Lo{constructor(t,e,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=PT;break;case 1:if(!t){this.destination=PT;break}if("object"==typeof t){t instanceof ll?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new fU(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new fU(this,t,e,i)}}[FT](){return this}static create(t,e,i){const r=new ll(t,e,i);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class fU extends ll{constructor(t,e,i,r){super(),this._parentSubscriber=t;let o,c=this;RT(e)?o=e:e&&(o=e.next,i=e.error,r=e.complete,e!==PT&&(c=Object.create(e),RT(c.unsubscribe)&&this.add(c.unsubscribe.bind(c)),c.unsubscribe=this.unsubscribe.bind(this))),this._context=c,this._next=o,this._error=i,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;Jc.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:i}=Jc;if(this._error)i&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)i?(e.syncErrorValue=t,e.syncErrorThrown=!0):dC(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;dC(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);Jc.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(i){if(this.unsubscribe(),Jc.useDeprecatedSynchronousErrorHandling)throw i;dC(i)}}__tryOrSetError(t,e,i){if(!Jc.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,i)}catch(r){return Jc.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(dC(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const DW="function"==typeof Symbol&&Symbol.observable||"@@observable";function IW(n){return n}let gU=(()=>{class n{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const{operator:o}=this,c=function EW(n,t,e){if(n){if(n instanceof ll)return n;if(n[FT])return n[FT]()}return n||t||e?new ll(n,t,e):new ll(PT)}(e,i,r);if(c.add(o?o.call(c,this.source):this.source||Jc.useDeprecatedSynchronousErrorHandling&&!c.syncErrorThrowable?this._subscribe(c):this._trySubscribe(c)),Jc.useDeprecatedSynchronousErrorHandling&&c.syncErrorThrowable&&(c.syncErrorThrowable=!1,c.syncErrorThrown))throw c.syncErrorValue;return c}_trySubscribe(e){try{return this._subscribe(e)}catch(i){Jc.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=i),function CW(n){for(;n;){const{closed:t,destination:e,isStopped:i}=n;if(t||i)return!1;n=e&&e instanceof ll?e:null}return!0}(e)?e.error(i):console.warn(i)}}forEach(e,i){return new(i=mU(i))((r,o)=>{let c;c=this.subscribe(d=>{try{e(d)}catch(p){o(p),c&&c.unsubscribe()}},o,r)})}_subscribe(e){const{source:i}=this;return i&&i.subscribe(e)}[DW](){return this}pipe(...e){return 0===e.length?this:function pU(n){return 0===n.length?IW:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}(e)(this)}toPromise(e){return new(e=mU(e))((i,r)=>{let o;this.subscribe(c=>o=c,c=>r(c),()=>i(o))})}}return n.create=t=>new n(t),n})();function mU(n){if(n||(n=Jc.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const hC=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class SW extends Lo{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}class TW extends ll{constructor(t){super(t),this.destination=t}}let fC=(()=>{class n extends gU{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[FT](){return new TW(this)}lift(e){const i=new _U(this,this);return i.operator=e,i}next(e){if(this.closed)throw new hC;if(!this.isStopped){const{observers:i}=this,r=i.length,o=i.slice();for(let c=0;c<r;c++)o[c].next(e)}}error(e){if(this.closed)throw new hC;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:i}=this,r=i.length,o=i.slice();for(let c=0;c<r;c++)o[c].error(e);this.observers.length=0}complete(){if(this.closed)throw new hC;this.isStopped=!0;const{observers:e}=this,i=e.length,r=e.slice();for(let o=0;o<i;o++)r[o].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new hC;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new hC;return this.hasError?(e.error(this.thrownError),Lo.EMPTY):this.isStopped?(e.complete(),Lo.EMPTY):(this.observers.push(e),new SW(this,e))}asObservable(){const e=new gU;return e.source=this,e}}return n.create=(t,e)=>new _U(t,e),n})();class _U extends fC{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):Lo.EMPTY}}class xW extends Lo{constructor(t,e){super()}schedule(t,e=0){return this}}let yU=(()=>{class n{constructor(e,i=n.now){this.SchedulerAction=e,this.now=i}schedule(e,i=0,r){return new this.SchedulerAction(this,e).schedule(r,i)}}return n.now=()=>Date.now(),n})();class zf extends yU{constructor(t,e=yU.now){super(t,()=>zf.delegate&&zf.delegate!==this?zf.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,i){return zf.delegate&&zf.delegate!==this?zf.delegate.schedule(t,e,i):super.schedule(t,e,i)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const kW=new zf(class MW extends xW{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(o){i=!0,r=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,i=e.actions,r=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&i.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}),vU={leading:!0,trailing:!1};function AU(n,t=kW,e=vU){return i=>i.lift(new PW(n,t,e.leading,e.trailing))}class PW{constructor(t,e,i,r){this.duration=t,this.scheduler=e,this.leading=i,this.trailing=r}call(t,e){return e.subscribe(new NW(t,this.duration,this.scheduler,this.leading,this.trailing))}}class NW extends ll{constructor(t,e,i,r,o){super(t),this.duration=e,this.scheduler=i,this.leading=r,this.trailing=o,this._hasTrailingValue=!1,this._trailingValue=null}_next(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(FW,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)}}function FW(n){const{subscriber:t}=n;t.clearThrottle()}function jf(){}function bU(n,t,e){return function(r){return r.lift(new LW(n,t,e))}}class LW{constructor(t,e,i){this.nextOrObserver=t,this.error=e,this.complete=i}call(t,e){return e.subscribe(new BW(t,this.nextOrObserver,this.error,this.complete))}}class BW extends ll{constructor(t,e,i,r){super(t),this._tapNext=jf,this._tapError=jf,this._tapComplete=jf,this._tapError=i||jf,this._tapComplete=r||jf,RT(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||jf,this._tapError=e.error||jf,this._tapComplete=e.complete||jf)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function wU(n,t){return e=>e.lift(new VW(n,t))}class VW{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new UW(t,this.compare,this.keySelector))}}class UW extends ll{constructor(t,e,i){super(t),this.keySelector=i,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:r}=this;e=r?r(t):t}catch(r){return this.destination.error(r)}let i=!1;if(this.hasKey)try{const{compare:r}=this;i=r(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}class zW{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new jW(t,this.predicate,this.thisArg))}}class jW extends ll{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}var cl=typeof window<"u"?window:{screen:{},navigator:{}},Mv=(cl.matchMedia||function(){return{matches:!1}}).bind(cl),CU=!1,EU=function(){};cl.addEventListener&&cl.addEventListener("p",EU,{get passive(){return CU=!0}}),cl.removeEventListener&&cl.removeEventListener("p",EU,!1);var DU=CU,uP="ontouchstart"in cl,SU=(uP||"TouchEvent"in cl&&Mv("(any-pointer: coarse)"),cl.navigator.userAgent||"");Mv("(pointer: coarse)").matches&&/iPad|Macintosh/.test(SU)&&Math.min(cl.screen.width||0,cl.screen.height||0);(Mv("(pointer: coarse)").matches||!Mv("(pointer: fine)").matches&&uP)&&/Windows.*Firefox/.test(SU),Mv("(any-pointer: fine)").matches||Mv("(any-hover: hover)");const $W=["tooltipTemplate"],KW=["leftOuterSelectionBar"],QW=["rightOuterSelectionBar"],JW=["fullBar"],XW=["selectionBar"],e9=["minHandle"],t9=["maxHandle"],n9=["floorLabel"],i9=["ceilLabel"],r9=["minHandleLabel"],s9=["maxHandleLabel"],o9=["combinedLabel"],a9=["ticksElement"];function l9(n,t){if(1&n&&s._UZ(0,"ngx-slider-tooltip-wrapper",31),2&n){const e=s.oxw().$implicit,i=s.oxw();s.Q6J("template",i.tooltipTemplate)("tooltip",e.valueTooltip)("placement",e.valueTooltipPlacement)("content",e.value)}}function c9(n,t){if(1&n&&s._UZ(0,"span",32),2&n){const e=s.oxw().$implicit;s.Q6J("innerHTML",e.legend,s.oJD)}}const u9=function(n){return{"ngx-slider-selected":n}};function d9(n,t){if(1&n&&(s.TgZ(0,"span",27),s._UZ(1,"ngx-slider-tooltip-wrapper",28),s.YNc(2,l9,1,4,"ngx-slider-tooltip-wrapper",29),s.YNc(3,c9,1,1,"span",30),s.qZA()),2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",s.VKq(7,u9,e.selected))("ngStyle",e.style),s.xp6(1),s.Q6J("template",i.tooltipTemplate)("tooltip",e.tooltip)("placement",e.tooltipPlacement),s.xp6(1),s.Q6J("ngIf",null!=e.value),s.xp6(1),s.Q6J("ngIf",null!=e.legend)}}function h9(n,t){}function f9(n,t){1&n&&s.YNc(0,h9,0,0,"ng-template")}const p9=function(n,t,e){return{tooltip:n,placement:t,content:e}};function g9(n,t){if(1&n&&(s.ynx(0),s.YNc(1,f9,1,0,null,1),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.template)("ngTemplateOutletContext",s.kEZ(2,p9,e.tooltip,e.placement,e.content))}}function m9(n,t){if(1&n&&(s.ynx(0),s.TgZ(1,"div",2),s._uU(2),s.qZA(),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.uIk("title",e.tooltip)("data-tooltip-placement",e.placement),s.xp6(1),s.hij(" ",e.content," ")}}const is={Low:0,High:1,Floor:2,Ceil:3,TickValue:4};is[is.Low]="Low",is[is.High]="High",is[is.Floor]="Floor",is[is.Ceil]="Ceil",is[is.TickValue]="TickValue";class LT{constructor(){this.floor=0,this.ceil=null,this.step=1,this.minRange=null,this.maxRange=null,this.pushRange=!1,this.minLimit=null,this.maxLimit=null,this.translate=null,this.combineLabels=null,this.getLegend=null,this.getStepLegend=null,this.stepsArray=null,this.bindIndexForStepsArray=!1,this.draggableRange=!1,this.draggableRangeOnly=!1,this.showSelectionBar=!1,this.showSelectionBarEnd=!1,this.showSelectionBarFromValue=null,this.showOuterSelectionBars=!1,this.hidePointerLabels=!1,this.hideLimitLabels=!1,this.autoHideLimitLabels=!0,this.readOnly=!1,this.disabled=!1,this.showTicks=!1,this.showTicksValues=!1,this.tickStep=null,this.tickValueStep=null,this.ticksArray=null,this.ticksTooltip=null,this.ticksValuesTooltip=null,this.vertical=!1,this.getSelectionBarColor=null,this.getTickColor=null,this.getPointerColor=null,this.keyboardSupport=!0,this.scale=1,this.rotate=0,this.enforceStep=!0,this.enforceRange=!0,this.enforceStepsArray=!0,this.noSwitching=!1,this.onlyBindHandles=!1,this.rightToLeft=!1,this.reversedControls=!1,this.boundPointerLabels=!0,this.logScale=!1,this.customValueToPosition=null,this.customPositionToValue=null,this.precisionLimit=12,this.selectionBarGradient=null,this.ariaLabel="ngx-slider",this.ariaLabelledBy=null,this.ariaLabelHigh="ngx-slider-max",this.ariaLabelledByHigh=null,this.handleDimension=null,this.barDimension=null,this.animate=!0,this.animateOnMove=!1}}const Dt={Min:0,Max:1};Dt[Dt.Min]="Min",Dt[Dt.Max]="Max";class _9{}class qe{static isNullOrUndefined(t){return null==t}static areArraysEqual(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0}static linearValueToPosition(t,e,i){return(t-e)/(i-e)}static logValueToPosition(t,e,i){return((t=Math.log(t))-(e=Math.log(e)))/((i=Math.log(i))-e)}static linearPositionToValue(t,e,i){return t*(i-e)+e}static logPositionToValue(t,e,i){return e=Math.log(e),i=Math.log(i),Math.exp(t*(i-e)+e)}static findStepIndex(t,e){const i=e.map(o=>Math.abs(t-o.value));let r=0;for(let o=0;o<e.length;o++)i[o]!==i[r]&&i[o]<i[r]&&(r=o);return r}}class Gf{static isTouchEvent(t){return void 0!==window.TouchEvent?t instanceof TouchEvent:void 0!==t.touches}static isResizeObserverAvailable(){return void 0!==window.ResizeObserver}}class Or{static roundToPrecisionLimit(t,e){return+t.toPrecision(e)}static isModuloWithinPrecisionLimit(t,e,i){const r=Math.pow(10,-i);return Math.abs(t%e)<=r||Math.abs(Math.abs(t%e)-e)<=r}static clampToRange(t,e,i){return Math.min(Math.max(t,e),i)}}class MU{constructor(){this.eventName=null,this.events=null,this.eventsSubscription=null,this.teardownCallback=null}}class kU{constructor(t){this.renderer=t}attachPassiveEventListener(t,e,i,r){if(!0!==DU)return this.attachEventListener(t,e,i,r);const o=new MU;o.eventName=e,o.events=new fC;const c=d=>{o.events.next(d)};return t.addEventListener(e,c,{passive:!0,capture:!1}),o.teardownCallback=()=>{t.removeEventListener(e,c,{passive:!0,capture:!1})},o.eventsSubscription=o.events.pipe(qe.isNullOrUndefined(r)?bU(()=>{}):AU(r,void 0,{leading:!0,trailing:!0})).subscribe(d=>{i(d)}),o}detachEventListener(t){qe.isNullOrUndefined(t.eventsSubscription)||(t.eventsSubscription.unsubscribe(),t.eventsSubscription=null),qe.isNullOrUndefined(t.events)||(t.events.complete(),t.events=null),qe.isNullOrUndefined(t.teardownCallback)||(t.teardownCallback(),t.teardownCallback=null)}attachEventListener(t,e,i,r){const o=new MU;return o.eventName=e,o.events=new fC,o.teardownCallback=this.renderer.listen(t,e,d=>{o.events.next(d)}),o.eventsSubscription=o.events.pipe(qe.isNullOrUndefined(r)?bU(()=>{}):AU(r,void 0,{leading:!0,trailing:!0})).subscribe(d=>{i(d)}),o}}let qf=(()=>{class n{constructor(e,i,r){this.elemRef=e,this.renderer=i,this.changeDetectionRef=r,this._position=0,this._dimension=0,this._alwaysHide=!1,this._vertical=!1,this._scale=1,this._rotate=0,this.opacity=1,this.visibility="visible",this.left="",this.bottom="",this.height="",this.width="",this.transform="",this.eventListeners=[],this.eventListenerHelper=new kU(this.renderer)}get position(){return this._position}get dimension(){return this._dimension}get alwaysHide(){return this._alwaysHide}get vertical(){return this._vertical}get scale(){return this._scale}get rotate(){return this._rotate}setAlwaysHide(e){this._alwaysHide=e,this.visibility=e?"hidden":"visible"}hide(){this.opacity=0}show(){this.alwaysHide||(this.opacity=1)}isVisible(){return!this.alwaysHide&&0!==this.opacity}setVertical(e){this._vertical=e,this._vertical?(this.left="",this.width=""):(this.bottom="",this.height="")}setScale(e){this._scale=e}setRotate(e){this._rotate=e,this.transform="rotate("+e+"deg)"}getRotate(){return this._rotate}setPosition(e){this._position!==e&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._position=e,this._vertical?this.bottom=Math.round(e)+"px":this.left=Math.round(e)+"px"}calculateDimension(){const e=this.getBoundingClientRect();this._dimension=this.vertical?(e.bottom-e.top)*this.scale:(e.right-e.left)*this.scale}setDimension(e){this._dimension!==e&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._dimension=e,this._vertical?this.height=Math.round(e)+"px":this.width=Math.round(e)+"px"}getBoundingClientRect(){return this.elemRef.nativeElement.getBoundingClientRect()}on(e,i,r){const o=this.eventListenerHelper.attachEventListener(this.elemRef.nativeElement,e,i,r);this.eventListeners.push(o)}onPassive(e,i,r){const o=this.eventListenerHelper.attachPassiveEventListener(this.elemRef.nativeElement,e,i,r);this.eventListeners.push(o)}off(e){let i,r;qe.isNullOrUndefined(e)?(i=[],r=this.eventListeners):(i=this.eventListeners.filter(o=>o.eventName!==e),r=this.eventListeners.filter(o=>o.eventName===e));for(const o of r)this.eventListenerHelper.detachEventListener(o);this.eventListeners=i}isRefDestroyed(){return qe.isNullOrUndefined(this.changeDetectionRef)||this.changeDetectionRef.destroyed}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngxSliderElement",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.Udp("opacity",i.opacity)("visibility",i.visibility)("left",i.left)("bottom",i.bottom)("height",i.height)("width",i.width)("transform",i.transform)}}),n})(),dP=(()=>{class n extends qf{constructor(e,i,r){super(e,i,r),this.active=!1,this.role="",this.tabindex="",this.ariaOrientation="",this.ariaLabel="",this.ariaLabelledBy="",this.ariaValueNow="",this.ariaValueText="",this.ariaValueMin="",this.ariaValueMax=""}focus(){this.elemRef.nativeElement.focus()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngxSliderHandle",""]],hostVars:11,hostBindings:function(e,i){2&e&&(s.uIk("role",i.role)("tabindex",i.tabindex)("aria-orientation",i.ariaOrientation)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledBy)("aria-valuenow",i.ariaValueNow)("aria-valuetext",i.ariaValueText)("aria-valuemin",i.ariaValueMin)("aria-valuemax",i.ariaValueMax),s.ekj("ngx-slider-active",i.active))},features:[s.qOj]}),n})(),kv=(()=>{class n extends qf{constructor(e,i,r){super(e,i,r),this._value=null}get value(){return this._value}setValue(e){let i=!1;!this.alwaysHide&&(qe.isNullOrUndefined(this.value)||this.value.length!==e.length||this.value.length>0&&0===this.dimension)&&(i=!0),this._value=e,this.elemRef.nativeElement.innerHTML=e,i&&this.calculateDimension()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngxSliderLabel",""]],features:[s.qOj]}),n})();class y9{constructor(){this.selected=!1,this.style={},this.tooltip=null,this.tooltipPlacement=null,this.value=null,this.valueTooltip=null,this.valueTooltipPlacement=null,this.legend=null}}class OU{constructor(){this.active=!1,this.value=0,this.difference=0,this.position=0,this.lowLimit=0,this.highLimit=0}}class BT{static compare(t,e){return!(qe.isNullOrUndefined(t)&&qe.isNullOrUndefined(e)||qe.isNullOrUndefined(t)!==qe.isNullOrUndefined(e))&&t.value===e.value&&t.highValue===e.highValue}}class RU extends BT{static compare(t,e){return!(qe.isNullOrUndefined(t)&&qe.isNullOrUndefined(e)||qe.isNullOrUndefined(t)!==qe.isNullOrUndefined(e))&&t.value===e.value&&t.highValue===e.highValue&&t.forceChange===e.forceChange}}const v9={provide:Os,useExisting:(0,s.Gpc)(()=>PU),multi:!0};let PU=(()=>{class n{constructor(e,i,r,o){this.renderer=e,this.elementRef=i,this.changeDetectionRef=r,this.zone=o,this.value=null,this.valueChange=new s.vpe,this.highValue=null,this.highValueChange=new s.vpe,this.options=new LT,this.userChangeStart=new s.vpe,this.userChange=new s.vpe,this.userChangeEnd=new s.vpe,this.initHasRun=!1,this.inputModelChangeSubject=new fC,this.inputModelChangeSubscription=null,this.outputModelChangeSubject=new fC,this.outputModelChangeSubscription=null,this.viewLowValue=null,this.viewHighValue=null,this.viewOptions=new LT,this.handleHalfDimension=0,this.maxHandlePosition=0,this.currentTrackingPointer=null,this.currentFocusPointer=null,this.firstKeyDown=!1,this.touchId=null,this.dragging=new OU,this.sliderElementVerticalClass=!1,this.sliderElementAnimateClass=!1,this.sliderElementWithLegendClass=!1,this.sliderElementDisabledAttr=null,this.sliderElementAriaLabel="ngx-slider",this.barStyle={},this.minPointerStyle={},this.maxPointerStyle={},this.fullBarTransparentClass=!1,this.selectionBarDraggableClass=!1,this.ticksUnderValuesClass=!1,this.intermediateTicks=!1,this.ticks=[],this.eventListenerHelper=null,this.onMoveEventListener=null,this.onEndEventListener=null,this.moving=!1,this.resizeObserver=null,this.onTouchedCallback=null,this.onChangeCallback=null,this.eventListenerHelper=new kU(this.renderer)}set manualRefresh(e){this.unsubscribeManualRefresh(),this.manualRefreshSubscription=e.subscribe(()=>{setTimeout(()=>this.calculateViewDimensionsAndDetectChanges())})}set triggerFocus(e){this.unsubscribeTriggerFocus(),this.triggerFocusSubscription=e.subscribe(i=>{this.focusPointer(i)})}get range(){return!qe.isNullOrUndefined(this.value)&&!qe.isNullOrUndefined(this.highValue)}get showTicks(){return this.viewOptions.showTicks}ngOnInit(){this.viewOptions=new LT,Object.assign(this.viewOptions,this.options),this.updateDisabledState(),this.updateVerticalState(),this.updateAriaLabel()}ngAfterViewInit(){this.applyOptions(),this.subscribeInputModelChangeSubject(),this.subscribeOutputModelChangeSubject(),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.updateVerticalState(),this.manageElementsStyle(),this.updateDisabledState(),this.calculateViewDimensions(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),this.initHandles(),this.manageEventsBindings(),this.updateAriaLabel(),this.subscribeResizeObserver(),this.initHasRun=!0,this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}ngOnChanges(e){!qe.isNullOrUndefined(e.options)&&JSON.stringify(e.options.previousValue)!==JSON.stringify(e.options.currentValue)&&this.onChangeOptions(),(!qe.isNullOrUndefined(e.value)||!qe.isNullOrUndefined(e.highValue))&&this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}ngOnDestroy(){this.unbindEvents(),this.unsubscribeResizeObserver(),this.unsubscribeInputModelChangeSubject(),this.unsubscribeOutputModelChangeSubject(),this.unsubscribeManualRefresh(),this.unsubscribeTriggerFocus()}writeValue(e){e instanceof Array?(this.value=e[0],this.highValue=e[1]):this.value=e,this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.viewOptions.disabled=e,this.updateDisabledState()}setAriaLabel(e){this.viewOptions.ariaLabel=e,this.updateAriaLabel()}onResize(e){this.calculateViewDimensionsAndDetectChanges()}subscribeInputModelChangeSubject(){this.inputModelChangeSubscription=this.inputModelChangeSubject.pipe(wU(RU.compare),function HW(n,t){return function(i){return i.lift(new zW(n,t))}}(e=>!e.forceChange&&!e.internalChange)).subscribe(e=>this.applyInputModelChange(e))}subscribeOutputModelChangeSubject(){this.outputModelChangeSubscription=this.outputModelChangeSubject.pipe(wU(RU.compare)).subscribe(e=>this.publishOutputModelChange(e))}subscribeResizeObserver(){Gf.isResizeObserverAvailable()&&(this.resizeObserver=new ResizeObserver(()=>this.calculateViewDimensionsAndDetectChanges()),this.resizeObserver.observe(this.elementRef.nativeElement))}unsubscribeResizeObserver(){Gf.isResizeObserverAvailable()&&null!==this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}unsubscribeOnMove(){qe.isNullOrUndefined(this.onMoveEventListener)||(this.eventListenerHelper.detachEventListener(this.onMoveEventListener),this.onMoveEventListener=null)}unsubscribeOnEnd(){qe.isNullOrUndefined(this.onEndEventListener)||(this.eventListenerHelper.detachEventListener(this.onEndEventListener),this.onEndEventListener=null)}unsubscribeInputModelChangeSubject(){qe.isNullOrUndefined(this.inputModelChangeSubscription)||(this.inputModelChangeSubscription.unsubscribe(),this.inputModelChangeSubscription=null)}unsubscribeOutputModelChangeSubject(){qe.isNullOrUndefined(this.outputModelChangeSubscription)||(this.outputModelChangeSubscription.unsubscribe(),this.outputModelChangeSubscription=null)}unsubscribeManualRefresh(){qe.isNullOrUndefined(this.manualRefreshSubscription)||(this.manualRefreshSubscription.unsubscribe(),this.manualRefreshSubscription=null)}unsubscribeTriggerFocus(){qe.isNullOrUndefined(this.triggerFocusSubscription)||(this.triggerFocusSubscription.unsubscribe(),this.triggerFocusSubscription=null)}getPointerElement(e){return e===Dt.Min?this.minHandleElement:e===Dt.Max?this.maxHandleElement:null}getCurrentTrackingValue(){return this.currentTrackingPointer===Dt.Min?this.viewLowValue:this.currentTrackingPointer===Dt.Max?this.viewHighValue:null}modelValueToViewValue(e){return qe.isNullOrUndefined(e)?NaN:qe.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?+e:qe.findStepIndex(+e,this.viewOptions.stepsArray)}viewValueToModelValue(e){return qe.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?e:this.getStepValue(e)}getStepValue(e){const i=this.viewOptions.stepsArray[e];return qe.isNullOrUndefined(i)?NaN:i.value}applyViewChange(){this.value=this.viewValueToModelValue(this.viewLowValue),this.range&&(this.highValue=this.viewValueToModelValue(this.viewHighValue)),this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,userEventInitiated:!0,forceChange:!1}),this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!0})}applyInputModelChange(e){const i=this.normaliseModelValues(e),r=!BT.compare(e,i);r&&(this.value=i.value,this.highValue=i.highValue),this.viewLowValue=this.modelValueToViewValue(i.value),this.viewHighValue=this.range?this.modelValueToViewValue(i.highValue):null,this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCombinedLabel(),this.outputModelChangeSubject.next({value:i.value,highValue:i.highValue,forceChange:r,userEventInitiated:!1})}publishOutputModelChange(e){const i=()=>{this.valueChange.emit(e.value),this.range&&this.highValueChange.emit(e.highValue),qe.isNullOrUndefined(this.onChangeCallback)||this.onChangeCallback(this.range?[e.value,e.highValue]:e.value),qe.isNullOrUndefined(this.onTouchedCallback)||this.onTouchedCallback(this.range?[e.value,e.highValue]:e.value)};e.userEventInitiated?(i(),this.userChange.emit(this.getChangeContext())):setTimeout(()=>{i()})}normaliseModelValues(e){const i=new BT;if(i.value=e.value,i.highValue=e.highValue,!qe.isNullOrUndefined(this.viewOptions.stepsArray)){if(this.viewOptions.enforceStepsArray){const r=qe.findStepIndex(i.value,this.viewOptions.stepsArray);if(i.value=this.viewOptions.stepsArray[r].value,this.range){const o=qe.findStepIndex(i.highValue,this.viewOptions.stepsArray);i.highValue=this.viewOptions.stepsArray[o].value}}return i}if(this.viewOptions.enforceStep&&(i.value=this.roundStep(i.value),this.range&&(i.highValue=this.roundStep(i.highValue))),this.viewOptions.enforceRange&&(i.value=Or.clampToRange(i.value,this.viewOptions.floor,this.viewOptions.ceil),this.range&&(i.highValue=Or.clampToRange(i.highValue,this.viewOptions.floor,this.viewOptions.ceil)),this.range&&e.value>e.highValue))if(this.viewOptions.noSwitching)i.value=i.highValue;else{const r=e.value;i.value=e.highValue,i.highValue=r}return i}renormaliseModelValues(){const e={value:this.value,highValue:this.highValue},i=this.normaliseModelValues(e);BT.compare(i,e)||(this.value=i.value,this.highValue=i.highValue,this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!0,userEventInitiated:!1}))}onChangeOptions(){if(!this.initHasRun)return;const e=this.getOptionsInfluencingEventBindings(this.viewOptions);this.applyOptions();const i=this.getOptionsInfluencingEventBindings(this.viewOptions),r=!qe.areArraysEqual(e,i);this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.resetSlider(r)}applyOptions(){if(this.viewOptions=new LT,Object.assign(this.viewOptions,this.options),this.viewOptions.draggableRange=this.range&&this.viewOptions.draggableRange,this.viewOptions.draggableRangeOnly=this.range&&this.viewOptions.draggableRangeOnly,this.viewOptions.draggableRangeOnly&&(this.viewOptions.draggableRange=!0),this.viewOptions.showTicks=this.viewOptions.showTicks||this.viewOptions.showTicksValues||!qe.isNullOrUndefined(this.viewOptions.ticksArray),this.viewOptions.showTicks&&(!qe.isNullOrUndefined(this.viewOptions.tickStep)||!qe.isNullOrUndefined(this.viewOptions.ticksArray))&&(this.intermediateTicks=!0),this.viewOptions.showSelectionBar=this.viewOptions.showSelectionBar||this.viewOptions.showSelectionBarEnd||!qe.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue),qe.isNullOrUndefined(this.viewOptions.stepsArray)?this.applyFloorCeilOptions():this.applyStepsArrayOptions(),qe.isNullOrUndefined(this.viewOptions.combineLabels)&&(this.viewOptions.combineLabels=(e,i)=>e+" - "+i),this.viewOptions.logScale&&0===this.viewOptions.floor)throw Error("Can't use floor=0 with logarithmic scale")}applyStepsArrayOptions(){this.viewOptions.floor=0,this.viewOptions.ceil=this.viewOptions.stepsArray.length-1,this.viewOptions.step=1,qe.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=e=>String(this.viewOptions.bindIndexForStepsArray?this.getStepValue(e):e))}applyFloorCeilOptions(){if(qe.isNullOrUndefined(this.viewOptions.step)?this.viewOptions.step=1:(this.viewOptions.step=+this.viewOptions.step,this.viewOptions.step<=0&&(this.viewOptions.step=1)),qe.isNullOrUndefined(this.viewOptions.ceil)||qe.isNullOrUndefined(this.viewOptions.floor))throw Error("floor and ceil options must be supplied");this.viewOptions.ceil=+this.viewOptions.ceil,this.viewOptions.floor=+this.viewOptions.floor,qe.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=e=>String(e))}resetSlider(e=!0){this.manageElementsStyle(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),e&&(this.unbindEvents(),this.manageEventsBindings()),this.updateDisabledState(),this.updateAriaLabel(),this.calculateViewDimensions(),this.refocusPointerIfNeeded()}focusPointer(e){e!==Dt.Min&&e!==Dt.Max&&(e=Dt.Min),e===Dt.Min?this.minHandleElement.focus():this.range&&e===Dt.Max&&this.maxHandleElement.focus()}refocusPointerIfNeeded(){qe.isNullOrUndefined(this.currentFocusPointer)||(this.onPointerFocus(this.currentFocusPointer),this.getPointerElement(this.currentFocusPointer).focus())}manageElementsStyle(){this.updateScale(),this.floorLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels),this.ceilLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels);const e=this.viewOptions.showTicksValues&&!this.intermediateTicks;this.minHandleLabelElement.setAlwaysHide(e||this.viewOptions.hidePointerLabels),this.maxHandleLabelElement.setAlwaysHide(e||!this.range||this.viewOptions.hidePointerLabels),this.combinedLabelElement.setAlwaysHide(e||!this.range||this.viewOptions.hidePointerLabels),this.selectionBarElement.setAlwaysHide(!this.range&&!this.viewOptions.showSelectionBar),this.leftOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.rightOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.fullBarTransparentClass=this.range&&this.viewOptions.showOuterSelectionBars,this.selectionBarDraggableClass=this.viewOptions.draggableRange&&!this.viewOptions.onlyBindHandles,this.ticksUnderValuesClass=this.intermediateTicks&&this.options.showTicksValues,this.sliderElementVerticalClass!==this.viewOptions.vertical&&(this.updateVerticalState(),setTimeout(()=>{this.resetSlider()})),this.sliderElementAnimateClass!==this.viewOptions.animate&&setTimeout(()=>{this.sliderElementAnimateClass=this.viewOptions.animate}),this.updateRotate()}manageEventsBindings(){this.viewOptions.disabled||this.viewOptions.readOnly?this.unbindEvents():this.bindEvents()}updateDisabledState(){this.sliderElementDisabledAttr=this.viewOptions.disabled?"disabled":null}updateAriaLabel(){this.sliderElementAriaLabel=this.viewOptions.ariaLabel||"nxg-slider"}updateVerticalState(){this.sliderElementVerticalClass=this.viewOptions.vertical;for(const e of this.getAllSliderElements())qe.isNullOrUndefined(e)||e.setVertical(this.viewOptions.vertical)}updateScale(){for(const e of this.getAllSliderElements())e.setScale(this.viewOptions.scale)}updateRotate(){for(const e of this.getAllSliderElements())e.setRotate(this.viewOptions.rotate)}getAllSliderElements(){return[this.leftOuterSelectionBarElement,this.rightOuterSelectionBarElement,this.fullBarElement,this.selectionBarElement,this.minHandleElement,this.maxHandleElement,this.floorLabelElement,this.ceilLabelElement,this.minHandleLabelElement,this.maxHandleLabelElement,this.combinedLabelElement,this.ticksElement]}initHandles(){this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.range&&this.updateCombinedLabel(),this.updateTicksScale()}addAccessibility(){this.updateAriaAttributes(),this.minHandleElement.role="slider",this.minHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.minHandleElement.ariaOrientation=this.viewOptions.vertical||0!==this.viewOptions.rotate?"vertical":"horizontal",qe.isNullOrUndefined(this.viewOptions.ariaLabel)?qe.isNullOrUndefined(this.viewOptions.ariaLabelledBy)||(this.minHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledBy):this.minHandleElement.ariaLabel=this.viewOptions.ariaLabel,this.range&&(this.maxHandleElement.role="slider",this.maxHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.maxHandleElement.ariaOrientation=this.viewOptions.vertical||0!==this.viewOptions.rotate?"vertical":"horizontal",qe.isNullOrUndefined(this.viewOptions.ariaLabelHigh)?qe.isNullOrUndefined(this.viewOptions.ariaLabelledByHigh)||(this.maxHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledByHigh):this.maxHandleElement.ariaLabel=this.viewOptions.ariaLabelHigh)}updateAriaAttributes(){this.minHandleElement.ariaValueNow=(+this.value).toString(),this.minHandleElement.ariaValueText=this.viewOptions.translate(+this.value,is.Low),this.minHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.minHandleElement.ariaValueMax=this.viewOptions.ceil.toString(),this.range&&(this.maxHandleElement.ariaValueNow=(+this.highValue).toString(),this.maxHandleElement.ariaValueText=this.viewOptions.translate(+this.highValue,is.High),this.maxHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.maxHandleElement.ariaValueMax=this.viewOptions.ceil.toString())}calculateViewDimensions(){qe.isNullOrUndefined(this.viewOptions.handleDimension)?this.minHandleElement.calculateDimension():this.minHandleElement.setDimension(this.viewOptions.handleDimension);const e=this.minHandleElement.dimension;this.handleHalfDimension=e/2,qe.isNullOrUndefined(this.viewOptions.barDimension)?this.fullBarElement.calculateDimension():this.fullBarElement.setDimension(this.viewOptions.barDimension),this.maxHandlePosition=this.fullBarElement.dimension-e,this.initHasRun&&(this.updateFloorLabel(),this.updateCeilLabel(),this.initHandles())}calculateViewDimensionsAndDetectChanges(){this.calculateViewDimensions(),this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}isRefDestroyed(){return this.changeDetectionRef.destroyed}updateTicksScale(){if(!this.viewOptions.showTicks)return void setTimeout(()=>{this.sliderElementWithLegendClass=!1});const e=qe.isNullOrUndefined(this.viewOptions.ticksArray)?this.getTicksArray():this.viewOptions.ticksArray,i=this.viewOptions.vertical?"translateY":"translateX";this.viewOptions.rightToLeft&&e.reverse();const r=qe.isNullOrUndefined(this.viewOptions.tickValueStep)?qe.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep:this.viewOptions.tickValueStep;let o=!1;const c=e.map(d=>{let p=this.valueToPosition(d);this.viewOptions.vertical&&(p=this.maxHandlePosition-p);const _=i+"("+Math.round(p)+"px)",b=new y9;b.selected=this.isTickSelected(d),b.style={"-webkit-transform":_,"-moz-transform":_,"-o-transform":_,"-ms-transform":_,transform:_},b.selected&&!qe.isNullOrUndefined(this.viewOptions.getSelectionBarColor)&&(b.style["background-color"]=this.getSelectionBarColor()),!b.selected&&!qe.isNullOrUndefined(this.viewOptions.getTickColor)&&(b.style["background-color"]=this.getTickColor(d)),qe.isNullOrUndefined(this.viewOptions.ticksTooltip)||(b.tooltip=this.viewOptions.ticksTooltip(d),b.tooltipPlacement=this.viewOptions.vertical?"right":"top"),this.viewOptions.showTicksValues&&!qe.isNullOrUndefined(r)&&Or.isModuloWithinPrecisionLimit(d,r,this.viewOptions.precisionLimit)&&(b.value=this.getDisplayValue(d,is.TickValue),qe.isNullOrUndefined(this.viewOptions.ticksValuesTooltip)||(b.valueTooltip=this.viewOptions.ticksValuesTooltip(d),b.valueTooltipPlacement=this.viewOptions.vertical?"right":"top"));let I=null;if(qe.isNullOrUndefined(this.viewOptions.stepsArray))qe.isNullOrUndefined(this.viewOptions.getLegend)||(I=this.viewOptions.getLegend(d));else{const O=this.viewOptions.stepsArray[d];qe.isNullOrUndefined(this.viewOptions.getStepLegend)?qe.isNullOrUndefined(O)||(I=O.legend):I=this.viewOptions.getStepLegend(O)}return qe.isNullOrUndefined(I)||(b.legend=I,o=!0),b});if(setTimeout(()=>{this.sliderElementWithLegendClass=o}),qe.isNullOrUndefined(this.ticks)||this.ticks.length!==c.length)this.ticks=c;else for(let d=0;d<c.length;++d)Object.assign(this.ticks[d],c[d]);this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}getTicksArray(){const e=qe.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep,i=[],r=1+Math.floor(Or.roundToPrecisionLimit(Math.abs(this.viewOptions.ceil-this.viewOptions.floor)/e,this.viewOptions.precisionLimit));for(let o=0;o<r;++o)i.push(Or.roundToPrecisionLimit(this.viewOptions.floor+e*o,this.viewOptions.precisionLimit));return i}isTickSelected(e){if(!this.range)if(qe.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)){if(this.viewOptions.showSelectionBarEnd){if(e>=this.viewLowValue)return!0}else if(this.viewOptions.showSelectionBar&&e<=this.viewLowValue)return!0}else{const i=this.viewOptions.showSelectionBarFromValue;if(this.viewLowValue>i&&e>=i&&e<=this.viewLowValue)return!0;if(this.viewLowValue<i&&e<=i&&e>=this.viewLowValue)return!0}return!!(this.range&&e>=this.viewLowValue&&e<=this.viewHighValue)}updateFloorLabel(){this.floorLabelElement.alwaysHide||(this.floorLabelElement.setValue(this.getDisplayValue(this.viewOptions.floor,is.Floor)),this.floorLabelElement.calculateDimension(),this.floorLabelElement.setPosition(this.viewOptions.rightToLeft?this.fullBarElement.dimension-this.floorLabelElement.dimension:0))}updateCeilLabel(){this.ceilLabelElement.alwaysHide||(this.ceilLabelElement.setValue(this.getDisplayValue(this.viewOptions.ceil,is.Ceil)),this.ceilLabelElement.calculateDimension(),this.ceilLabelElement.setPosition(this.viewOptions.rightToLeft?0:this.fullBarElement.dimension-this.ceilLabelElement.dimension))}updateHandles(e,i){e===Dt.Min?this.updateLowHandle(i):e===Dt.Max&&this.updateHighHandle(i),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCombinedLabel()}getHandleLabelPos(e,i){const r=e===Dt.Min?this.minHandleLabelElement.dimension:this.maxHandleLabelElement.dimension,o=i-r/2+this.handleHalfDimension,c=this.fullBarElement.dimension-r;return this.viewOptions.boundPointerLabels?this.viewOptions.rightToLeft&&e===Dt.Min||!this.viewOptions.rightToLeft&&e===Dt.Max?Math.min(o,c):Math.min(Math.max(o,0),c):o}updateLowHandle(e){this.minHandleElement.setPosition(e),this.minHandleLabelElement.setValue(this.getDisplayValue(this.viewLowValue,is.Low)),this.minHandleLabelElement.setPosition(this.getHandleLabelPos(Dt.Min,e)),qe.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.minPointerStyle={backgroundColor:this.getPointerColor(Dt.Min)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateHighHandle(e){this.maxHandleElement.setPosition(e),this.maxHandleLabelElement.setValue(this.getDisplayValue(this.viewHighValue,is.High)),this.maxHandleLabelElement.setPosition(this.getHandleLabelPos(Dt.Max,e)),qe.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.maxPointerStyle={backgroundColor:this.getPointerColor(Dt.Max)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateFloorAndCeilLabelsVisibility(){if(this.viewOptions.hidePointerLabels)return;let e=!1,i=!1;const r=this.isLabelBelowFloorLabel(this.minHandleLabelElement),o=this.isLabelAboveCeilLabel(this.minHandleLabelElement),c=this.isLabelAboveCeilLabel(this.maxHandleLabelElement),d=this.isLabelBelowFloorLabel(this.combinedLabelElement),p=this.isLabelAboveCeilLabel(this.combinedLabelElement);if(r?(e=!0,this.floorLabelElement.hide()):(e=!1,this.floorLabelElement.show()),o?(i=!0,this.ceilLabelElement.hide()):(i=!1,this.ceilLabelElement.show()),this.range){const _=this.combinedLabelElement.isVisible()?p:c,b=this.combinedLabelElement.isVisible()?d:r;_?this.ceilLabelElement.hide():i||this.ceilLabelElement.show(),b?this.floorLabelElement.hide():e||this.floorLabelElement.show()}}isLabelBelowFloorLabel(e){const i=e.position,o=this.floorLabelElement.position;return this.viewOptions.rightToLeft?i+e.dimension>=o-2:i<=o+this.floorLabelElement.dimension+2}isLabelAboveCeilLabel(e){const i=e.position,o=this.ceilLabelElement.position;return this.viewOptions.rightToLeft?i<=o+this.ceilLabelElement.dimension+2:i+e.dimension>=o-2}updateSelectionBar(){let e=0,i=0;const r=this.viewOptions.rightToLeft?!this.viewOptions.showSelectionBarEnd:this.viewOptions.showSelectionBarEnd,o=this.viewOptions.rightToLeft?this.maxHandleElement.position+this.handleHalfDimension:this.minHandleElement.position+this.handleHalfDimension;if(this.range)i=Math.abs(this.maxHandleElement.position-this.minHandleElement.position),e=o;else if(qe.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue))r?(i=Math.ceil(Math.abs(this.maxHandlePosition-this.minHandleElement.position)+this.handleHalfDimension),e=Math.floor(this.minHandleElement.position+this.handleHalfDimension)):(i=this.minHandleElement.position+this.handleHalfDimension,e=0);else{const c=this.viewOptions.showSelectionBarFromValue,d=this.valueToPosition(c);(this.viewOptions.rightToLeft?this.viewLowValue<=c:this.viewLowValue>c)?(i=this.minHandleElement.position-d,e=d+this.handleHalfDimension):(i=d-this.minHandleElement.position,e=this.minHandleElement.position+this.handleHalfDimension)}if(this.selectionBarElement.setDimension(i),this.selectionBarElement.setPosition(e),this.range&&this.viewOptions.showOuterSelectionBars&&(this.viewOptions.rightToLeft?(this.rightOuterSelectionBarElement.setDimension(e),this.rightOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.leftOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(e+i)),this.leftOuterSelectionBarElement.setPosition(e+i)):(this.leftOuterSelectionBarElement.setDimension(e),this.leftOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.rightOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(e+i)),this.rightOuterSelectionBarElement.setPosition(e+i))),qe.isNullOrUndefined(this.viewOptions.getSelectionBarColor)){if(!qe.isNullOrUndefined(this.viewOptions.selectionBarGradient)){const c=qe.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)?0:this.valueToPosition(this.viewOptions.showSelectionBarFromValue),d=c-e>0&&!r||c-e<=0&&r;this.barStyle={backgroundImage:"linear-gradient(to "+(this.viewOptions.vertical?d?"bottom":"top":d?"left":"right")+", "+this.viewOptions.selectionBarGradient.from+" 0%,"+this.viewOptions.selectionBarGradient.to+" 100%)"},this.viewOptions.vertical?(this.barStyle.backgroundPosition="center "+(c+i+e+(d?-this.handleHalfDimension:0))+"px",this.barStyle.backgroundSize="100% "+(this.fullBarElement.dimension-this.handleHalfDimension)+"px"):(this.barStyle.backgroundPosition=c-e+(d?this.handleHalfDimension:0)+"px center",this.barStyle.backgroundSize=this.fullBarElement.dimension-this.handleHalfDimension+"px 100%")}}else{const c=this.getSelectionBarColor();this.barStyle={backgroundColor:c}}}getSelectionBarColor(){return this.range?this.viewOptions.getSelectionBarColor(this.value,this.highValue):this.viewOptions.getSelectionBarColor(this.value)}getPointerColor(e){return this.viewOptions.getPointerColor(e===Dt.Max?this.highValue:this.value,e)}getTickColor(e){return this.viewOptions.getTickColor(e)}updateCombinedLabel(){let e=null;if(e=this.viewOptions.rightToLeft?this.minHandleLabelElement.position-this.minHandleLabelElement.dimension-10<=this.maxHandleLabelElement.position:this.minHandleLabelElement.position+this.minHandleLabelElement.dimension+10>=this.maxHandleLabelElement.position,e){const i=this.getDisplayValue(this.viewLowValue,is.Low),r=this.getDisplayValue(this.viewHighValue,is.High),o=this.viewOptions.rightToLeft?this.viewOptions.combineLabels(r,i):this.viewOptions.combineLabels(i,r);this.combinedLabelElement.setValue(o);const c=this.viewOptions.boundPointerLabels?Math.min(Math.max(this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2,0),this.fullBarElement.dimension-this.combinedLabelElement.dimension):this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2;this.combinedLabelElement.setPosition(c),this.minHandleLabelElement.hide(),this.maxHandleLabelElement.hide(),this.combinedLabelElement.show()}else this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.maxHandleLabelElement.show(),this.minHandleLabelElement.show(),this.combinedLabelElement.hide();this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}getDisplayValue(e,i){return!qe.isNullOrUndefined(this.viewOptions.stepsArray)&&!this.viewOptions.bindIndexForStepsArray&&(e=this.getStepValue(e)),this.viewOptions.translate(e,i)}roundStep(e,i){const r=qe.isNullOrUndefined(i)?this.viewOptions.step:i;let o=Or.roundToPrecisionLimit((e-this.viewOptions.floor)/r,this.viewOptions.precisionLimit);return o=Math.round(o)*r,Or.roundToPrecisionLimit(this.viewOptions.floor+o,this.viewOptions.precisionLimit)}valueToPosition(e){let i=qe.linearValueToPosition;qe.isNullOrUndefined(this.viewOptions.customValueToPosition)?this.viewOptions.logScale&&(i=qe.logValueToPosition):i=this.viewOptions.customValueToPosition;let r=i(e=Or.clampToRange(e,this.viewOptions.floor,this.viewOptions.ceil),this.viewOptions.floor,this.viewOptions.ceil);return qe.isNullOrUndefined(r)&&(r=0),this.viewOptions.rightToLeft&&(r=1-r),r*this.maxHandlePosition}positionToValue(e){let i=e/this.maxHandlePosition;this.viewOptions.rightToLeft&&(i=1-i);let r=qe.linearPositionToValue;qe.isNullOrUndefined(this.viewOptions.customPositionToValue)?this.viewOptions.logScale&&(r=qe.logPositionToValue):r=this.viewOptions.customPositionToValue;const o=r(i,this.viewOptions.floor,this.viewOptions.ceil);return qe.isNullOrUndefined(o)?0:o}getEventXY(e,i){if(e instanceof MouseEvent)return this.viewOptions.vertical||0!==this.viewOptions.rotate?e.clientY:e.clientX;let r=0;const o=e.touches;if(!qe.isNullOrUndefined(i))for(let c=0;c<o.length;c++)if(o[c].identifier===i){r=c;break}return this.viewOptions.vertical||0!==this.viewOptions.rotate?o[r].clientY:o[r].clientX}getEventPosition(e,i){const r=this.elementRef.nativeElement.getBoundingClientRect(),o=this.viewOptions.vertical||0!==this.viewOptions.rotate?r.bottom:r.left;let c=0;return c=this.viewOptions.vertical||0!==this.viewOptions.rotate?-this.getEventXY(e,i)+o:this.getEventXY(e,i)-o,c*this.viewOptions.scale-this.handleHalfDimension}getNearestHandle(e){if(!this.range)return Dt.Min;const i=this.getEventPosition(e),r=Math.abs(i-this.minHandleElement.position),o=Math.abs(i-this.maxHandleElement.position);return r<o?Dt.Min:r>o?Dt.Max:this.viewOptions.rightToLeft?i>this.minHandleElement.position?Dt.Min:Dt.Max:i<this.minHandleElement.position?Dt.Min:Dt.Max}bindEvents(){const e=this.viewOptions.draggableRange;this.viewOptions.onlyBindHandles||this.selectionBarElement.on("mousedown",i=>this.onBarStart(null,e,i,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.on("mousedown",i=>this.onBarStart(Dt.Min,e,i,!0,!0)),this.maxHandleElement.on("mousedown",i=>this.onBarStart(Dt.Max,e,i,!0,!0))):(this.minHandleElement.on("mousedown",i=>this.onStart(Dt.Min,i,!0,!0)),this.range&&this.maxHandleElement.on("mousedown",i=>this.onStart(Dt.Max,i,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.on("mousedown",i=>this.onStart(null,i,!0,!0,!0)),this.ticksElement.on("mousedown",i=>this.onStart(null,i,!0,!0,!0,!0)))),this.viewOptions.onlyBindHandles||this.selectionBarElement.onPassive("touchstart",i=>this.onBarStart(null,e,i,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.onPassive("touchstart",i=>this.onBarStart(Dt.Min,e,i,!0,!0)),this.maxHandleElement.onPassive("touchstart",i=>this.onBarStart(Dt.Max,e,i,!0,!0))):(this.minHandleElement.onPassive("touchstart",i=>this.onStart(Dt.Min,i,!0,!0)),this.range&&this.maxHandleElement.onPassive("touchstart",i=>this.onStart(Dt.Max,i,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.onPassive("touchstart",i=>this.onStart(null,i,!0,!0,!0)),this.ticksElement.onPassive("touchstart",i=>this.onStart(null,i,!1,!1,!0,!0)))),this.viewOptions.keyboardSupport&&(this.minHandleElement.on("focus",()=>this.onPointerFocus(Dt.Min)),this.range&&this.maxHandleElement.on("focus",()=>this.onPointerFocus(Dt.Max)))}getOptionsInfluencingEventBindings(e){return[e.disabled,e.readOnly,e.draggableRange,e.draggableRangeOnly,e.onlyBindHandles,e.keyboardSupport]}unbindEvents(){this.unsubscribeOnMove(),this.unsubscribeOnEnd();for(const e of this.getAllSliderElements())qe.isNullOrUndefined(e)||e.off()}onBarStart(e,i,r,o,c,d,p){i?this.onDragStart(e,r,o,c):this.onStart(e,r,o,c,d,p)}onStart(e,i,r,o,c,d){i.stopPropagation(),!Gf.isTouchEvent(i)&&!DU&&i.preventDefault(),this.moving=!1,this.calculateViewDimensions(),qe.isNullOrUndefined(e)&&(e=this.getNearestHandle(i)),this.currentTrackingPointer=e;const p=this.getPointerElement(e);if(p.active=!0,this.viewOptions.keyboardSupport&&p.focus(),r){this.unsubscribeOnMove();const _=b=>this.dragging.active?this.onDragMove(b):this.onMove(b);this.onMoveEventListener=Gf.isTouchEvent(i)?this.eventListenerHelper.attachPassiveEventListener(document,"touchmove",_):this.eventListenerHelper.attachEventListener(document,"mousemove",_)}if(o){this.unsubscribeOnEnd();const _=b=>this.onEnd(b);this.onEndEventListener=Gf.isTouchEvent(i)?this.eventListenerHelper.attachPassiveEventListener(document,"touchend",_):this.eventListenerHelper.attachEventListener(document,"mouseup",_)}this.userChangeStart.emit(this.getChangeContext()),Gf.isTouchEvent(i)&&!qe.isNullOrUndefined(i.changedTouches)&&qe.isNullOrUndefined(this.touchId)&&(this.touchId=i.changedTouches[0].identifier),c&&this.onMove(i,!0),d&&this.onEnd(i)}onMove(e,i){let r=null;if(Gf.isTouchEvent(e)){const _=e.changedTouches;for(let b=0;b<_.length;b++)if(_[b].identifier===this.touchId){r=_[b];break}if(qe.isNullOrUndefined(r))return}this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0;const o=qe.isNullOrUndefined(r)?this.getEventPosition(e):this.getEventPosition(e,r.identifier);let c;o<=0?c=this.viewOptions.rightToLeft?this.viewOptions.ceil:this.viewOptions.floor:o>=this.maxHandlePosition?c=this.viewOptions.rightToLeft?this.viewOptions.floor:this.viewOptions.ceil:(c=this.positionToValue(o),c=i&&!qe.isNullOrUndefined(this.viewOptions.tickStep)?this.roundStep(c,this.viewOptions.tickStep):this.roundStep(c)),this.positionTrackingHandle(c)}onEnd(e){Gf.isTouchEvent(e)&&e.changedTouches[0].identifier!==this.touchId||(this.moving=!1,this.viewOptions.animate&&(this.sliderElementAnimateClass=!0),this.touchId=null,this.viewOptions.keyboardSupport||(this.minHandleElement.active=!1,this.maxHandleElement.active=!1,this.currentTrackingPointer=null),this.dragging.active=!1,this.unsubscribeOnMove(),this.unsubscribeOnEnd(),this.userChangeEnd.emit(this.getChangeContext()))}onPointerFocus(e){const i=this.getPointerElement(e);i.on("blur",()=>this.onPointerBlur(i)),i.on("keydown",r=>this.onKeyboardEvent(r)),i.on("keyup",()=>this.onKeyUp()),i.active=!0,this.currentTrackingPointer=e,this.currentFocusPointer=e,this.firstKeyDown=!0}onKeyUp(){this.firstKeyDown=!0,this.userChangeEnd.emit(this.getChangeContext())}onPointerBlur(e){e.off("blur"),e.off("keydown"),e.off("keyup"),e.active=!1,qe.isNullOrUndefined(this.touchId)&&(this.currentTrackingPointer=null,this.currentFocusPointer=null)}getKeyActions(e){const i=this.viewOptions.ceil-this.viewOptions.floor;let r=e+this.viewOptions.step,o=e-this.viewOptions.step,c=e+i/10,d=e-i/10;this.viewOptions.reversedControls&&(r=e-this.viewOptions.step,o=e+this.viewOptions.step,c=e-i/10,d=e+i/10);const p={UP:r,DOWN:o,LEFT:o,RIGHT:r,PAGEUP:c,PAGEDOWN:d,HOME:this.viewOptions.reversedControls?this.viewOptions.ceil:this.viewOptions.floor,END:this.viewOptions.reversedControls?this.viewOptions.floor:this.viewOptions.ceil};return this.viewOptions.rightToLeft&&(p.LEFT=r,p.RIGHT=o,(this.viewOptions.vertical||0!==this.viewOptions.rotate)&&(p.UP=o,p.DOWN=r)),p}onKeyboardEvent(e){const i=this.getCurrentTrackingValue(),r=qe.isNullOrUndefined(e.keyCode)?e.which:e.keyCode,p=this.getKeyActions(i)[{38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"}[r]];if(qe.isNullOrUndefined(p)||qe.isNullOrUndefined(this.currentTrackingPointer))return;e.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.userChangeStart.emit(this.getChangeContext()));const _=Or.clampToRange(p,this.viewOptions.floor,this.viewOptions.ceil),b=this.roundStep(_);if(this.viewOptions.draggableRangeOnly){const I=this.viewHighValue-this.viewLowValue;let O,B;this.currentTrackingPointer===Dt.Min?(O=b,B=b+I,B>this.viewOptions.ceil&&(B=this.viewOptions.ceil,O=B-I)):this.currentTrackingPointer===Dt.Max&&(B=b,O=b-I,O<this.viewOptions.floor&&(O=this.viewOptions.floor,B=O+I)),this.positionTrackingBar(O,B)}else this.positionTrackingHandle(b)}onDragStart(e,i,r,o){const c=this.getEventPosition(i);this.dragging=new OU,this.dragging.active=!0,this.dragging.value=this.positionToValue(c),this.dragging.difference=this.viewHighValue-this.viewLowValue,this.dragging.lowLimit=this.viewOptions.rightToLeft?this.minHandleElement.position-c:c-this.minHandleElement.position,this.dragging.highLimit=this.viewOptions.rightToLeft?c-this.maxHandleElement.position:this.maxHandleElement.position-c,this.onStart(e,i,r,o)}getMinValue(e,i,r){const o=this.viewOptions.rightToLeft;let c=null;return c=i?r?o?this.viewOptions.floor:this.viewOptions.ceil-this.dragging.difference:o?this.viewOptions.ceil-this.dragging.difference:this.viewOptions.floor:this.positionToValue(o?e+this.dragging.lowLimit:e-this.dragging.lowLimit),this.roundStep(c)}getMaxValue(e,i,r){const o=this.viewOptions.rightToLeft;let c=null;return c=i?r?o?this.viewOptions.floor+this.dragging.difference:this.viewOptions.ceil:o?this.viewOptions.ceil:this.viewOptions.floor+this.dragging.difference:o?this.positionToValue(e+this.dragging.lowLimit)+this.dragging.difference:this.positionToValue(e-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(c)}onDragMove(e){const i=this.getEventPosition(e);let r,o,c,d;this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0,this.viewOptions.rightToLeft?(r=this.dragging.lowLimit,o=this.dragging.highLimit,c=this.maxHandleElement,d=this.minHandleElement):(r=this.dragging.highLimit,o=this.dragging.lowLimit,c=this.minHandleElement,d=this.maxHandleElement);const _=i>=this.maxHandlePosition-r;let b,I;if(i<=o){if(0===c.position)return;b=this.getMinValue(i,!0,!1),I=this.getMaxValue(i,!0,!1)}else if(_){if(d.position===this.maxHandlePosition)return;I=this.getMaxValue(i,!0,!0),b=this.getMinValue(i,!0,!0)}else b=this.getMinValue(i,!1,!1),I=this.getMaxValue(i,!1,!1);this.positionTrackingBar(b,I)}positionTrackingBar(e,i){!qe.isNullOrUndefined(this.viewOptions.minLimit)&&e<this.viewOptions.minLimit&&(i=Or.roundToPrecisionLimit((e=this.viewOptions.minLimit)+this.dragging.difference,this.viewOptions.precisionLimit)),!qe.isNullOrUndefined(this.viewOptions.maxLimit)&&i>this.viewOptions.maxLimit&&(e=Or.roundToPrecisionLimit((i=this.viewOptions.maxLimit)-this.dragging.difference,this.viewOptions.precisionLimit)),this.viewLowValue=e,this.viewHighValue=i,this.applyViewChange(),this.updateHandles(Dt.Min,this.valueToPosition(e)),this.updateHandles(Dt.Max,this.valueToPosition(i))}positionTrackingHandle(e){e=this.applyMinMaxLimit(e),this.range&&(this.viewOptions.pushRange?e=this.applyPushRange(e):(this.viewOptions.noSwitching&&(this.currentTrackingPointer===Dt.Min&&e>this.viewHighValue?e=this.applyMinMaxRange(this.viewHighValue):this.currentTrackingPointer===Dt.Max&&e<this.viewLowValue&&(e=this.applyMinMaxRange(this.viewLowValue))),e=this.applyMinMaxRange(e),this.currentTrackingPointer===Dt.Min&&e>this.viewHighValue?(this.viewLowValue=this.viewHighValue,this.applyViewChange(),this.updateHandles(Dt.Min,this.maxHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=Dt.Max,this.minHandleElement.active=!1,this.maxHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.maxHandleElement.focus()):this.currentTrackingPointer===Dt.Max&&e<this.viewLowValue&&(this.viewHighValue=this.viewLowValue,this.applyViewChange(),this.updateHandles(Dt.Max,this.minHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=Dt.Min,this.maxHandleElement.active=!1,this.minHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.minHandleElement.focus()))),this.getCurrentTrackingValue()!==e&&(this.currentTrackingPointer===Dt.Min?(this.viewLowValue=e,this.applyViewChange()):this.currentTrackingPointer===Dt.Max&&(this.viewHighValue=e,this.applyViewChange()),this.updateHandles(this.currentTrackingPointer,this.valueToPosition(e)),this.updateAriaAttributes())}applyMinMaxLimit(e){return!qe.isNullOrUndefined(this.viewOptions.minLimit)&&e<this.viewOptions.minLimit?this.viewOptions.minLimit:!qe.isNullOrUndefined(this.viewOptions.maxLimit)&&e>this.viewOptions.maxLimit?this.viewOptions.maxLimit:e}applyMinMaxRange(e){const r=Math.abs(e-(this.currentTrackingPointer===Dt.Min?this.viewHighValue:this.viewLowValue));if(!qe.isNullOrUndefined(this.viewOptions.minRange)&&r<this.viewOptions.minRange){if(this.currentTrackingPointer===Dt.Min)return Or.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.minRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===Dt.Max)return Or.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.minRange,this.viewOptions.precisionLimit)}if(!qe.isNullOrUndefined(this.viewOptions.maxRange)&&r>this.viewOptions.maxRange){if(this.currentTrackingPointer===Dt.Min)return Or.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.maxRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===Dt.Max)return Or.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.maxRange,this.viewOptions.precisionLimit)}return e}applyPushRange(e){const i=this.currentTrackingPointer===Dt.Min?this.viewHighValue-e:e-this.viewLowValue,r=qe.isNullOrUndefined(this.viewOptions.minRange)?this.viewOptions.step:this.viewOptions.minRange,o=this.viewOptions.maxRange;return i<r?(this.currentTrackingPointer===Dt.Min?(this.viewHighValue=Or.roundToPrecisionLimit(Math.min(e+r,this.viewOptions.ceil),this.viewOptions.precisionLimit),e=Or.roundToPrecisionLimit(this.viewHighValue-r,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(Dt.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===Dt.Max&&(this.viewLowValue=Or.roundToPrecisionLimit(Math.max(e-r,this.viewOptions.floor),this.viewOptions.precisionLimit),e=Or.roundToPrecisionLimit(this.viewLowValue+r,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(Dt.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()):!qe.isNullOrUndefined(o)&&i>o&&(this.currentTrackingPointer===Dt.Min?(this.viewHighValue=Or.roundToPrecisionLimit(e+o,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(Dt.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===Dt.Max&&(this.viewLowValue=Or.roundToPrecisionLimit(e-o,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(Dt.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()),e}getChangeContext(){const e=new _9;return e.pointerType=this.currentTrackingPointer,e.value=+this.value,this.range&&(e.highValue=+this.highValue),e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngx-slider"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,$W,5),2&e){let o;s.iGM(o=s.CRH())&&(i.tooltipTemplate=o.first)}},viewQuery:function(e,i){if(1&e&&(s.Gf(KW,5,qf),s.Gf(QW,5,qf),s.Gf(JW,5,qf),s.Gf(XW,5,qf),s.Gf(e9,5,dP),s.Gf(t9,5,dP),s.Gf(n9,5,kv),s.Gf(i9,5,kv),s.Gf(r9,5,kv),s.Gf(s9,5,kv),s.Gf(o9,5,kv),s.Gf(a9,5,qf)),2&e){let r;s.iGM(r=s.CRH())&&(i.leftOuterSelectionBarElement=r.first),s.iGM(r=s.CRH())&&(i.rightOuterSelectionBarElement=r.first),s.iGM(r=s.CRH())&&(i.fullBarElement=r.first),s.iGM(r=s.CRH())&&(i.selectionBarElement=r.first),s.iGM(r=s.CRH())&&(i.minHandleElement=r.first),s.iGM(r=s.CRH())&&(i.maxHandleElement=r.first),s.iGM(r=s.CRH())&&(i.floorLabelElement=r.first),s.iGM(r=s.CRH())&&(i.ceilLabelElement=r.first),s.iGM(r=s.CRH())&&(i.minHandleLabelElement=r.first),s.iGM(r=s.CRH())&&(i.maxHandleLabelElement=r.first),s.iGM(r=s.CRH())&&(i.combinedLabelElement=r.first),s.iGM(r=s.CRH())&&(i.ticksElement=r.first)}},hostAttrs:[1,"ngx-slider"],hostVars:8,hostBindings:function(e,i){1&e&&s.NdJ("resize",function(o){return i.onResize(o)},!1,s.Jf7),2&e&&(s.uIk("disabled",i.sliderElementDisabledAttr)("aria-label",i.sliderElementAriaLabel),s.ekj("vertical",i.sliderElementVerticalClass)("animate",i.sliderElementAnimateClass)("with-legend",i.sliderElementWithLegendClass))},inputs:{value:"value",highValue:"highValue",options:"options",manualRefresh:"manualRefresh",triggerFocus:"triggerFocus"},outputs:{valueChange:"valueChange",highValueChange:"highValueChange",userChangeStart:"userChangeStart",userChange:"userChange",userChangeEnd:"userChangeEnd"},features:[s._Bn([v9]),s.TTD],decls:29,vars:13,consts:[["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-left-out-selection"],["leftOuterSelectionBar",""],[1,"ngx-slider-span","ngx-slider-bar"],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-right-out-selection"],["rightOuterSelectionBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-full-bar"],["fullBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-selection-bar"],["selectionBar",""],[1,"ngx-slider-span","ngx-slider-bar","ngx-slider-selection",3,"ngStyle"],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-min",3,"ngStyle"],["minHandle",""],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-max",3,"ngStyle"],["maxHandle",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-floor"],["floorLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-ceil"],["ceilLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-value"],["minHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-high"],["maxHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-combined"],["combinedLabel",""],["ngxSliderElement","",1,"ngx-slider-ticks",3,"hidden"],["ticksElement",""],["class","ngx-slider-tick",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],[1,"ngx-slider-tick",3,"ngClass","ngStyle"],[3,"template","tooltip","placement"],["class","ngx-slider-span ngx-slider-tick-value",3,"template","tooltip","placement","content",4,"ngIf"],["class","ngx-slider-span ngx-slider-tick-legend",3,"innerHTML",4,"ngIf"],[1,"ngx-slider-span","ngx-slider-tick-value",3,"template","tooltip","placement","content"],[1,"ngx-slider-span","ngx-slider-tick-legend",3,"innerHTML"]],template:function(e,i){1&e&&(s.TgZ(0,"span",0,1),s._UZ(2,"span",2),s.qZA(),s.TgZ(3,"span",3,4),s._UZ(5,"span",2),s.qZA(),s.TgZ(6,"span",5,6),s._UZ(8,"span",2),s.qZA(),s.TgZ(9,"span",7,8),s._UZ(11,"span",9),s.qZA(),s._UZ(12,"span",10,11)(14,"span",12,13)(16,"span",14,15)(18,"span",16,17)(20,"span",18,19)(22,"span",20,21)(24,"span",22,23),s.TgZ(26,"span",24,25),s.YNc(28,d9,4,9,"span",26),s.qZA()),2&e&&(s.xp6(6),s.ekj("ngx-slider-transparent",i.fullBarTransparentClass),s.xp6(3),s.ekj("ngx-slider-draggable",i.selectionBarDraggableClass),s.xp6(2),s.Q6J("ngStyle",i.barStyle),s.xp6(1),s.Q6J("ngStyle",i.minPointerStyle),s.xp6(2),s.Udp("display",i.range?"inherit":"none"),s.Q6J("ngStyle",i.maxPointerStyle),s.xp6(12),s.ekj("ngx-slider-ticks-values-under",i.ticksUnderValuesClass),s.Q6J("hidden",!i.showTicks),s.xp6(2),s.Q6J("ngForOf",i.ticks))},dependencies:function(){return[hn,Nn,bn,uo,qf,dP,kv,A9]},styles:[".ngx-slider{display:inline-block;position:relative;height:4px;width:100%;margin:35px 0 15px;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:pan-y}  .ngx-slider.with-legend{margin-bottom:40px}  .ngx-slider[disabled]{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-pointer{cursor:not-allowed;background-color:#d8e0f3}  .ngx-slider[disabled] .ngx-slider-draggable{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-selection{background:#8b91a2}  .ngx-slider[disabled] .ngx-slider-tick{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-tick.ngx-slider-selected{background:#8b91a2}  .ngx-slider .ngx-slider-span{white-space:nowrap;position:absolute;display:inline-block}  .ngx-slider .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider .ngx-slider-bar-wrapper{left:0;box-sizing:border-box;margin-top:-16px;padding-top:16px;width:100%;height:32px;z-index:1}  .ngx-slider .ngx-slider-draggable{cursor:move}  .ngx-slider .ngx-slider-bar{left:0;width:100%;height:4px;z-index:1;background:#d8e0f3;border-radius:2px}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-transparent .ngx-slider-bar{background:0 0}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-left-out-selection .ngx-slider-bar{background:#df002d}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-right-out-selection .ngx-slider-bar{background:#03a688}  .ngx-slider .ngx-slider-selection{z-index:2;background:#0db9f0;border-radius:2px}  .ngx-slider .ngx-slider-pointer{cursor:pointer;width:32px;height:32px;top:-14px;background-color:#0db9f0;z-index:3;border-radius:16px}  .ngx-slider .ngx-slider-pointer:after{content:'';width:8px;height:8px;position:absolute;top:12px;left:12px;border-radius:4px;background:#fff}  .ngx-slider .ngx-slider-pointer:hover:after{background-color:#fff}  .ngx-slider .ngx-slider-pointer.ngx-slider-active{z-index:4}  .ngx-slider .ngx-slider-pointer.ngx-slider-active:after{background-color:#451aff}  .ngx-slider .ngx-slider-bubble{cursor:default;bottom:16px;padding:1px 3px;color:#55637d;font-size:16px}  .ngx-slider .ngx-slider-bubble.ngx-slider-limit{color:#55637d}  .ngx-slider .ngx-slider-ticks{box-sizing:border-box;width:100%;height:0;position:absolute;left:0;top:-3px;margin:0;z-index:1;list-style:none}  .ngx-slider .ngx-slider-ticks-values-under .ngx-slider-tick-value{top:auto;bottom:-36px}  .ngx-slider .ngx-slider-tick{text-align:center;cursor:pointer;width:10px;height:10px;background:#d8e0f3;border-radius:50%;position:absolute;top:0;left:0;margin-left:11px}  .ngx-slider .ngx-slider-tick.ngx-slider-selected{background:#0db9f0}  .ngx-slider .ngx-slider-tick-value{position:absolute;top:-34px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0)}  .ngx-slider .ngx-slider-tick-legend{position:absolute;top:24px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0);max-width:50px;white-space:normal}  .ngx-slider.vertical{position:relative;width:4px;height:100%;margin:0 20px;padding:0;vertical-align:baseline;touch-action:pan-x}  .ngx-slider.vertical .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider.vertical .ngx-slider-bar-wrapper{top:auto;left:0;margin:0 0 0 -16px;padding:0 0 0 16px;height:100%;width:32px}  .ngx-slider.vertical .ngx-slider-bar{bottom:0;left:auto;width:4px;height:100%}  .ngx-slider.vertical .ngx-slider-pointer{left:-14px!important;top:auto;bottom:0}  .ngx-slider.vertical .ngx-slider-bubble{left:16px!important;bottom:0}  .ngx-slider.vertical .ngx-slider-ticks{height:100%;width:0;left:-3px;top:0;z-index:1}  .ngx-slider.vertical .ngx-slider-tick{vertical-align:middle;margin-left:auto;margin-top:11px}  .ngx-slider.vertical .ngx-slider-tick-value{left:24px;top:auto;-webkit-transform:translate(0,-28%);transform:translate(0,-28%)}  .ngx-slider.vertical .ngx-slider-tick-legend{top:auto;right:24px;-webkit-transform:translate(0,-28%);transform:translate(0,-28%);max-width:none;white-space:nowrap}  .ngx-slider.vertical .ngx-slider-ticks-values-under .ngx-slider-tick-value{bottom:auto;left:auto;right:24px}  .ngx-slider *{transition:none}  .ngx-slider.animate .ngx-slider-bar-wrapper{transition:.3s linear}  .ngx-slider.animate .ngx-slider-selection{transition:background-color .3s linear}  .ngx-slider.animate .ngx-slider-pointer{transition:.3s linear}  .ngx-slider.animate .ngx-slider-pointer:after{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-limit{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-combined{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-tick{transition:background-color .3s linear}"]}),n})(),A9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngx-slider-tooltip-wrapper"]],inputs:{template:"template",tooltip:"tooltip",placement:"placement",content:"content"},decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ngx-slider-inner-tooltip"]],template:function(e,i){1&e&&(s.YNc(0,g9,2,6,"ng-container",0),s.YNc(1,m9,3,3,"ng-container",0)),2&e&&(s.Q6J("ngIf",i.template),s.xp6(1),s.Q6J("ngIf",!i.template))},dependencies:[bn,jo],styles:[".ngx-slider-inner-tooltip[_ngcontent-%COMP%]{height:100%}"]}),n})(),NU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mi]}),n})(),FU=(()=>{class n{constructor(e,i){this.filterInfo=e,this.router=i,this.minValue=100,this.maxValue=600,this.options={floor:0,ceil:700}}ngAfterContentChecked(){this.filterInfo.filterModalInfo.PriceFrom=this.minValue,this.filterInfo.filterModalInfo.PriceTo=this.maxValue}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Hf),s.Y36(hi))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-price-range"]],decls:19,vars:5,consts:[[1,"price-range"],[1,"price-input"],[1,"field"],["type","number",1,"inpu-min",3,"ngModel","ngModelChange"],[1,"separator"],["type","number",1,"inpu-max",3,"ngModel","ngModelChange"],[1,"range-input"],[3,"value","highValue","options","valueChange","highValueChange"]],template:function(e,i){1&e&&(s.TgZ(0,"section",0)(1,"header")(2,"h3"),s._uU(3,"Price range"),s.qZA(),s.TgZ(4,"p"),s._uU(5,"The average nightly price is \u20ac138"),s.qZA()(),s.TgZ(6,"div",1)(7,"div",2)(8,"span"),s._uU(9,"Min"),s.qZA(),s.TgZ(10,"input",3),s.NdJ("ngModelChange",function(o){return i.minValue=o}),s.qZA()(),s.TgZ(11,"div",4),s._uU(12,"-"),s.qZA(),s.TgZ(13,"div",2)(14,"span"),s._uU(15,"Max"),s.qZA(),s.TgZ(16,"input",5),s.NdJ("ngModelChange",function(o){return i.maxValue=o}),s.qZA()()(),s.TgZ(17,"div",6)(18,"ngx-slider",7),s.NdJ("valueChange",function(o){return i.minValue=o})("highValueChange",function(o){return i.maxValue=o}),s.qZA()()()),2&e&&(s.xp6(10),s.Q6J("ngModel",i.minValue),s.xp6(6),s.Q6J("ngModel",i.maxValue),s.xp6(2),s.Q6J("value",i.minValue)("highValue",i.maxValue)("options",i.options))},dependencies:[il,nf,Od,cy,PU],styles:[".price-range[_ngcontent-%COMP%]{width:100%;height:25vh;display:flex;flex-direction:column;justify-content:space-between}.price-input[_ngcontent-%COMP%]{width:100%;display:flex}.price-input[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:100%;outline:none;font-size:2rem;text-align:center;margin-left:1.2rem;border-radius:.5rem;border:.1rem solid rgb(172,167,167);-moz-appearance:textfield;color:#313030}.field[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem;color:#555}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none}.price-input[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{width:12rem;display:flex;align-items:center;justify-content:center;font-size:2rem;color:#555}h3[_ngcontent-%COMP%]{font-weight:500}"]}),n})(),LU=(()=>{class n{constructor(e){this.filterModalInfo=e,this.propertyOfType=new So({house:new mn(""),apartament:new mn(""),guesthouse:new mn(""),hotel:new mn("")})}ngOnInit(){}onChangeHouse(e){this.filterModalInfo.filterModalInfo.propertyOfType=e.target.checked?e.target.value:"0"}onChangeApartament(e){this.filterModalInfo.filterModalInfo.propertyOfType=e.target.checked?e.target.value:"0"}onChangeGuesthouse(e){this.filterModalInfo.filterModalInfo.propertyOfType=e.target.checked?e.target.value:"0"}onChangeHotel(e){this.filterModalInfo.filterModalInfo.propertyOfType=e.target.checked?e.target.value:"0"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Hf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-property-type"]],decls:29,vars:0,consts:[[1,"property-type"],[1,"hagt-wrapper"],[1,"hagt"],["type","radio","name","propertyOfType","id","house","value","Home",3,"change"],["for","house"],["src","https://a0.muscache.com/pictures/4d7580e1-4ab2-4d26-a3d6-97f9555ba8f9.jpg\n          ","alt","house",1,"hagt-img"],["type","radio","name","propertyOfType","id","apartament","value","apartament",3,"change"],["for","apartament"],["src","https://a0.muscache.com/pictures/21cfc7c9-5457-494d-9779-7b0c21d81a25.jpg\n          ","alt","apartament",1,"hagt-img"],["type","radio","name","propertyOfType","id","guesthouse","value","Villa",3,"change"],["for","guesthouse"],["src","https://a0.muscache.com/pictures/6f261426-2e47-4c91-8b1a-7a847da2b21b.jpg\n          ","alt","Villa",1,"hagt-img"],["type","radio","name","propertyOfType","id","hotel","value","hotel",3,"change"],["for","hotel"],["src","https://a0.muscache.com/pictures/64b27fed-56a1-4f03-950a-d8da08efb428.jpg\n          ","alt","hotel",1,"hagt-img"]],template:function(e,i){1&e&&(s.TgZ(0,"section",0)(1,"header")(2,"h3"),s._uU(3,"Property type"),s.qZA()(),s.TgZ(4,"div",1)(5,"div",2)(6,"input",3),s.NdJ("change",function(o){return i.onChangeHouse(o)}),s.qZA(),s.TgZ(7,"label",4),s._UZ(8,"img",5),s.TgZ(9,"h5"),s._uU(10,"House"),s.qZA()()(),s.TgZ(11,"div",2)(12,"input",6),s.NdJ("change",function(o){return i.onChangeApartament(o)}),s.qZA(),s.TgZ(13,"label",7),s._UZ(14,"img",8),s.TgZ(15,"h5"),s._uU(16,"Apartament"),s.qZA()()(),s.TgZ(17,"div",2)(18,"input",9),s.NdJ("change",function(o){return i.onChangeGuesthouse(o)}),s.qZA(),s.TgZ(19,"label",10),s._UZ(20,"img",11),s.TgZ(21,"h5"),s._uU(22,"Villa"),s.qZA()()(),s.TgZ(23,"div",2)(24,"input",12),s.NdJ("change",function(o){return i.onChangeHotel(o)}),s.qZA(),s.TgZ(25,"label",13),s._UZ(26,"img",14),s.TgZ(27,"h5"),s._uU(28,"Hotel"),s.qZA()()()()())},styles:[".property-type[_ngcontent-%COMP%]{height:30vh;width:100%;display:flex;flex-direction:column;justify-content:space-evenly}.hagt-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.hagt[_ngcontent-%COMP%]{height:6rem;width:8.5rem;position:relative}input[type=radio][_ngcontent-%COMP%]{-webkit-appearance:none;position:relative;height:100%;width:100%;border-radius:10%;cursor:pointer;border:1px solid rgb(222,217,217);outline:none;transition:all .5s}input[type=radio][_ngcontent-%COMP%]:hover{border:.1rem solid rgb(102,98,98)}input[type=radio][_ngcontent-%COMP%]:checked{border:.1rem solid rgb(102,98,98);background-color:#dad9d961}label[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:space-between;height:80%;width:100%;position:absolute;bottom:0;cursor:pointer;margin-left:10%}label[_ngcontent-%COMP%]   .hagt-img[_ngcontent-%COMP%]{height:35%;width:25%}h3[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{font-weight:500}"]}),n})();function b9(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div")(1,"input",4),s.NdJ("change",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onChangeBedrooms(r))}),s.qZA(),s.TgZ(2,"label",5),s._uU(3),s.qZA()()}if(2&n){const e=t.$implicit,i=t.index;s.xp6(1),s.MGl("id","bedrooms",i,""),s.s9C("value",e),s.Q6J("checked",0==e),s.xp6(1),s.MGl("for","bedrooms",i,""),s.xp6(1),s.Oqu(0==e?"Any":i)}}function w9(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div")(1,"input",6),s.NdJ("change",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onChangeBeds(r))}),s.qZA(),s.TgZ(2,"label",5),s._uU(3),s.qZA()()}if(2&n){const e=t.$implicit,i=t.index;s.xp6(1),s.MGl("id","beds",i,""),s.s9C("value",e),s.Q6J("checked",0==e),s.xp6(1),s.MGl("for","beds",i,""),s.xp6(1),s.Oqu(0==e?"Any":i)}}function C9(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div")(1,"input",7),s.NdJ("change",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onChangeBathrooms(r))}),s.qZA(),s.TgZ(2,"label",5),s._uU(3),s.qZA()()}if(2&n){const e=t.$implicit,i=t.index;s.xp6(1),s.MGl("id","bathrooms",i,""),s.s9C("value",e),s.Q6J("checked",0==e),s.xp6(1),s.MGl("for","bathrooms",i,""),s.xp6(1),s.Oqu(0==e?"Any":i)}}let BU=(()=>{class n{constructor(e){this.filterModalInfo=e,this.RoomsCount=[0,1,2,3,4,5,6,7,8],this.BedsPerRoomCount=[0,1,2,3,4,5,6,7,8],this.BathRoomsCount=[0,1,2,3,4,5,6,7,8]}ngOnInit(){}onChangeBedrooms(e){this.filterModalInfo.filterModalInfo.RoomsCount=e.target.value}onChangeBeds(e){this.filterModalInfo.filterModalInfo.BedsPerRoomCount=e.target.value}onChangeBathrooms(e){this.filterModalInfo.filterModalInfo.BathRoomsCount=e.target.value}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Hf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-rooms-and-beds"]],decls:19,vars:3,consts:[[1,"rooms-and-beds"],[1,"title-and-buttons"],["role","group","aria-label","Basic radio toggle button group",1,"btn-group"],[4,"ngFor","ngForOf"],["type","radio","name","bedrooms",1,"btn-check",3,"id","checked","value","change"],[1,"btn","btn-outline-primary",3,"for"],["type","radio","name","beds",1,"btn-check",3,"id","checked","value","change"],["type","radio","name","bathrooms",1,"btn-check",3,"id","checked","value","change"]],template:function(e,i){1&e&&(s.TgZ(0,"section",0)(1,"header")(2,"h3"),s._uU(3,"Rooms and beds"),s.qZA()(),s.TgZ(4,"div",1)(5,"h4"),s._uU(6,"Rooms"),s.qZA(),s.TgZ(7,"div",2),s.YNc(8,b9,4,5,"div",3),s.qZA()(),s.TgZ(9,"div",1)(10,"h4"),s._uU(11,"BedsPerRoom"),s.qZA(),s.TgZ(12,"div",2),s.YNc(13,w9,4,5,"div",3),s.qZA()(),s.TgZ(14,"div",1)(15,"h4"),s._uU(16,"BathRooms"),s.qZA(),s.TgZ(17,"div",2),s.YNc(18,C9,4,5,"div",3),s.qZA()()()),2&e&&(s.xp6(8),s.Q6J("ngForOf",i.RoomsCount),s.xp6(5),s.Q6J("ngForOf",i.BedsPerRoomCount),s.xp6(5),s.Q6J("ngForOf",i.BathRoomsCount))},dependencies:[Nn],styles:[".rooms-and-beds[_ngcontent-%COMP%]{height:50vh;display:flex;flex-direction:column;justify-content:space-evenly}.btn-group[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}h4[_ngcontent-%COMP%]{margin-bottom:2%;font-weight:400}.btn[_ngcontent-%COMP%]{color:#423f3f!important;border-color:#b2acac!important;width:3.5rem!important;border-radius:1.5rem!important}.btn-check[_ngcontent-%COMP%]:checked + .btn[_ngcontent-%COMP%], .btn.active[_ngcontent-%COMP%], .btn.show[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:first-child:active, [_ngcontent-%COMP%]:not(.btn-check) + .btn[_ngcontent-%COMP%]:active{background-color:#423f3f!important;border-color:#423f3f!important;color:#fff!important}.btn-outline-primary[_ngcontent-%COMP%]{--bs-btn-border-color: rgb(30, 27, 27) !important}.btn[_ngcontent-%COMP%]:hover{background-color:#dadada8c!important}h3[_ngcontent-%COMP%]{font-weight:500}"]}),n})(),VU=(()=>{class n{constructor(e){this.filterModalInfo=e}ngOnInit(){}onEntryPlace(e){if(e.target.checked)this.filterModalInfo.filterModalInfo.TypeOfPlace.push(e.target.value);else{let i=this.filterModalInfo.filterModalInfo.TypeOfPlace.indexOf(e.target.value);this.filterModalInfo.filterModalInfo.TypeOfPlace.splice(i,1)}}onPrivateRoom(e){if(e.target.checked)this.filterModalInfo.filterModalInfo.TypeOfPlace.push(e.target.value);else{let i=this.filterModalInfo.filterModalInfo.TypeOfPlace.indexOf(e.target.value);this.filterModalInfo.filterModalInfo.TypeOfPlace.splice(i,1)}}onSharedRoom(e){if(e.target.checked)this.filterModalInfo.filterModalInfo.TypeOfPlace.push(e.target.value);else{let i=this.filterModalInfo.filterModalInfo.TypeOfPlace.indexOf(e.target.value);this.filterModalInfo.filterModalInfo.TypeOfPlace.splice(i,1)}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Hf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-type-of-place"]],decls:26,vars:0,consts:[[1,"type-of-place"],[1,"checkbox-wrapper"],[1,"form-check"],["type","checkbox","id","entrie-place","value","entire place",1,"form-check-input",3,"change"],["for","entrie-place",1,"form-check-label"],["type","checkbox","id","private-room","value","private room",1,"form-check-input",3,"change"],["for","private-room",1,"form-check-label"],["type","checkbox","id","shared-room","value","shared room",1,"form-check-input",3,"change"],["for","shared-room",1,"form-check-label"]],template:function(e,i){1&e&&(s.TgZ(0,"section",0)(1,"header")(2,"h3"),s._uU(3,"Type of place"),s.qZA()(),s.TgZ(4,"div",1)(5,"div",2)(6,"input",3),s.NdJ("change",function(o){return i.onEntryPlace(o)}),s.qZA(),s.TgZ(7,"label",4),s._uU(8," Entire place "),s._UZ(9,"br"),s.TgZ(10,"span"),s._uU(11,"A place all to yourself"),s.qZA()()(),s.TgZ(12,"div",2)(13,"input",5),s.NdJ("change",function(o){return i.onPrivateRoom(o)}),s.qZA(),s.TgZ(14,"label",6),s._uU(15," Private room "),s._UZ(16,"br"),s.TgZ(17,"span"),s._uU(18," Your own room in a home or a hotel, plus some shared commonspaces "),s.qZA()()(),s.TgZ(19,"div",2)(20,"input",7),s.NdJ("change",function(o){return i.onSharedRoom(o)}),s.qZA(),s.TgZ(21,"label",8),s._uU(22," Shared room "),s._UZ(23,"br"),s.TgZ(24,"span"),s._uU(25,"A sleeping space and common areas that may be shared with others"),s.qZA()()()()())},styles:["span[_ngcontent-%COMP%]{color:#999}.checkbox-wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-top:2.2rem}.form-check[_ngcontent-%COMP%]{width:50%;display:flex}.form-check-input[_ngcontent-%COMP%]{height:1.5rem;width:1.5rem;cursor:pointer}label[_ngcontent-%COMP%]{margin-left:1.2rem;width:90%}h3[_ngcontent-%COMP%]{font-weight:500}"]}),n})();const E9=function(n){return{showmodal:n}};let UU=(()=>{class n{constructor(e){this.filterModalInfo=e,this.showModal=!1}ngOnChanges(){}ngOnInit(){this.filterModalInfo.advancedFilterEmitter.subscribe(()=>{this.showModal=!this.showModal})}onShowModal(){this.showModal=!this.showModal}onCloseModal(e){this.showModal=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Hf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-filter-modal"]],features:[s.TTD],decls:22,vars:3,consts:[[1,"filter-button",3,"click"],["viewBox","0 0 16 16","xmlns","http://www.w3.org/2000/svg","aria-hidden","true","role","presentation","focusable","false",2,"display","block","height","16px","width","16px","fill","currentcolor"],["d","M5 8c1.306 0 2.418.835 2.83 2H14v2H7.829A3.001 3.001 0 1 1 5 8zm0 2a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm6-8a3 3 0 1 1-2.829 4H2V4h6.17A3.001 3.001 0 0 1 11 2zm0 2a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"],["id","staticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade",3,"ngClass"],[1,"modal-dialog"],[1,"modal-content"],[3,"closeModalEmitter"],[1,"modal-body"]],template:function(e,i){1&e&&(s.TgZ(0,"button",0),s.NdJ("click",function(){return i.onShowModal()}),s.O4$(),s.TgZ(1,"svg",1),s._UZ(2,"path",2),s.qZA(),s._uU(3," Filters\n"),s.qZA(),s.kcU(),s.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"app-filter-header",6),s.NdJ("closeModalEmitter",function(o){return i.onCloseModal(o)}),s.qZA(),s.TgZ(8,"div",7),s._UZ(9,"app-price-range")(10,"hr")(11,"app-type-of-place")(12,"hr")(13,"app-rooms-and-beds")(14,"hr")(15,"app-property-type")(16,"hr")(17,"app-amenities")(18,"hr")(19,"app-host-language"),s.qZA(),s._UZ(20,"br")(21,"app-filter-footer"),s.qZA()()()),2&e&&(s.xp6(4),s.Q6J("ngClass",s.VKq(1,E9,i.showModal)))},dependencies:[hn,lU,cU,uU,dU,FU,LU,BU,VU],styles:[".filter-button[_ngcontent-%COMP%]{height:3rem;width:6rem;display:flex;justify-content:space-evenly;align-items:center;padding:.5rem;border:.3px solid rgb(141,138,138);background-color:inherit;border-radius:.8rem;cursor:pointer}.showmodal[_ngcontent-%COMP%]{background-color:#145eb933;opacity:1;display:block;align-items:center}.modal-dialog[_ngcontent-%COMP%]{padding:2%;margin-top:5%}.modal-content[_ngcontent-%COMP%]{height:80vh;width:45rem;padding:0 5%;transform:translate(-25%);border-radius:1rem}.modal-body[_ngcontent-%COMP%]{overflow-y:scroll}"]}),n})(),hP=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-filter"]],decls:5,vars:0,consts:[[1,"filter-area","col-md-12"],[1,"buttons-slider","col-md-11"],[1,"filter-modal-area","col-md-1"]],template:function(e,i){1&e&&(s.TgZ(0,"article",0)(1,"div",1),s._UZ(2,"app-filter-buttons-slider"),s.qZA(),s.TgZ(3,"div",2),s._UZ(4,"app-filter-modal"),s.qZA()())},dependencies:[oU,UU],styles:[".filter-area[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;height:80px;padding-left:10px;padding-right:10px;background-color:#fff}.buttons-slider[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 1.2rem;overflow:hidden}.filter-modal-area[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.buttons-slider[_ngcontent-%COMP%]{background-color:#ffffffd2}"]}),n})(),HU=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-filtered-hotels"]],decls:2,vars:0,template:function(e,i){1&e&&s._UZ(0,"app-filter")(1,"router-outlet")},dependencies:[hP,Su]}),n})(),fP=(()=>{class n{constructor(){this.loadingEmitter=new s.vpe,this.loadings=new Map}handle(e,i){i?(this.loadings.set(e,i),this.loadingEmitter.emit(!0)):!i&&this.loadings.has(e)&&this.loadings.delete(e),0==this.loadings.size&&this.loadingEmitter.emit(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function D9(n,t){1&n&&s._UZ(0,"app-card",2),2&n&&s.Q6J("card",t.$implicit)}let zU=(()=>{class n{constructor(e,i,r){this.baseHttpService=e,this.categoryService=i,this.loadingService=r,this.cards=[],this.hotelFilteredArray=[],this.loadingStatus=!1}ngOnInit(){this.baseHttpService.getAll(`${ql_baseApiUrl}/Hotel`).subscribe(i=>{this.cards=i,this.hotelFilteredArray=this.cards,console.log(this.cards)}),this.categoryService.categoryItemEmitter.subscribe(i=>{this.hotelItem=i}),this.loadingService.loadingEmitter.subscribe(i=>{this.loadingStatus=i})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(xv),s.Y36(Wl),s.Y36(fP))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-most-requested-hotels"]],decls:2,vars:1,consts:[[1,"most-popular-hotel"],["class","",3,"card",4,"ngFor","ngForOf"],[1,"",3,"card"]],template:function(e,i){1&e&&(s.TgZ(0,"article",0),s.YNc(1,D9,1,1,"app-card",1),s.qZA()),2&e&&(s.xp6(1),s.Q6J("ngForOf",i.cards))},dependencies:[Nn,Tv],styles:[".most-popular-hotel[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(278px,1fr));grid-gap:15px}"]}),n})();function I9(n,t){1&n&&s._UZ(0,"app-card",2),2&n&&s.Q6J("card",t.$implicit)}let jU=(()=>{class n{constructor(e,i){this.baseHttpService=e,this.categoryService=i,this.cards=[],this.hotelFilteredArray=[]}ngOnInit(){this.baseHttpService.getAll(`${ql_baseApiUrl}/Hotel`).subscribe(i=>{this.cards=i,this.hotelFilteredArray=this.cards,console.log(this.cards)}),this.categoryService.categoryItemEmitter.subscribe(i=>{this.hotelItem=i})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(xv),s.Y36(Wl))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-most-requested-regions"]],decls:2,vars:1,consts:[[1,"popular-hotel-by-region"],["class","",3,"card",4,"ngFor","ngForOf"],[1,"",3,"card"]],template:function(e,i){1&e&&(s.TgZ(0,"article",0),s.YNc(1,I9,1,1,"app-card",1),s.qZA()),2&e&&(s.xp6(1),s.Q6J("ngForOf",i.cards))},dependencies:[Nn,Tv],styles:[".popular-hotel-by-region[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(278px,1fr));grid-gap:15px}"]}),n})(),GU=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-home-page"]],decls:10,vars:0,consts:[[1,"home-page"]],template:function(e,i){1&e&&(s.TgZ(0,"article",0),s._UZ(1,"app-filter"),s.TgZ(2,"aside")(3,"h2"),s._uU(4,"Most Popular hotels"),s.qZA(),s._UZ(5,"app-most-requested-hotels"),s.qZA(),s.TgZ(6,"aside")(7,"h2"),s._uU(8,"Most Popular hotels by Region"),s.qZA(),s._UZ(9,"app-most-requested-regions"),s.qZA()())},dependencies:[hP,zU,jU],styles:[".home-page[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:25px;margin:30px 0 20px}"]}),n})();const qU=function(n){return{ratio:n}};function S9(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"img",7),s.NdJ("load",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.imageLoading=!1)}),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("ngClass",s.VKq(5,qU,e.ratio))("src",e.fileUrl,s.LSH)("alt",e.alt)("title",e.title),s.uIk("loading",1==e.lazy?"lazy":null)}}function T9(n,t){if(1&n&&s._UZ(0,"iframe",8),2&n){const e=s.oxw(2);s.Q6J("src",e.fileUrl,s.uOi),s.uIk("loading",1==e.lazy?"lazy":null)}}function x9(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"video",9),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.videoClickHandler(r))}),s._UZ(1,"source",10),s._uU(2," Your browser does not support the video tag. "),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("id","video_"+e.imageIndex)("ngClass",s.VKq(5,qU,e.ratio))("autoplay",e.videoAutoPlay),s.uIk("controls",e.showVideoControls?e.showVideoControls:null),s.xp6(1),s.Q6J("src",e.fileUrl,s.LSH)}}function M9(n,t){if(1&n&&(s.TgZ(0,"div",11),s._uU(1,"Invalid file format"),s.qZA()),2&n){const e=s.oxw(2);s.Q6J("dir",e.direction)}}function k9(n,t){1&n&&s._UZ(0,"span",12)}const O9=function(n){return{"ng-fullimage-loading":n}};function R9(n,t){if(1&n&&(s.TgZ(0,"div",1),s.YNc(1,S9,1,7,"img",2),s.YNc(2,T9,1,2,"iframe",3),s.YNc(3,x9,3,7,"video",4),s.YNc(4,M9,2,1,"div",5),s.YNc(5,k9,1,0,"span",6),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngClass",s.VKq(6,O9,e.imageLoading)),s.xp6(1),s.Q6J("ngIf",e.type===e.IMAGE&&e.fileUrl),s.xp6(1),s.Q6J("ngIf",e.type===e.YOUTUBE&&e.fileUrl),s.xp6(1),s.Q6J("ngIf",e.type===e.VIDEO),s.xp6(1),s.Q6J("ngIf",!e.fileUrl),s.xp6(1),s.Q6J("ngIf",e.type===e.YOUTUBE||e.type===e.VIDEO||e.isVideo)}}const P9=["lightboxDiv"],N9=["lightboxImageDiv"];function F9(n,t){1&n&&(s.TgZ(0,"div",13),s._UZ(1,"div",14),s.qZA())}const L9=function(n){return{width:n}};function B9(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",15,16),s.NdJ("touchstart",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.swipeLightboxImg(r,"start"))})("touchend",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.swipeLightboxImg(r,"end"))}),s.TgZ(2,"div",17),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.closeLightbox())}),s.qZA(),s._UZ(3,"custom-img",18),s.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw(2);s.Q6J("ngStyle",s.VKq(13,L9,r.popupWidth+"px")),s.uIk("id","ng-lightbox-image-"+i),s.xp6(3),s.Q6J("imageUrl",(null==e?null:e.image)||(null==e?null:e.video))("isVideo",!!(null!=e&&e.posterImage||null!=e&&e.video))("currentImageIndex",r.currentImageIndex)("imageIndex",i)("speed",r.speed)("videoAutoPlay",r.videoAutoPlay&&i==r.currentImageIndex)("showVideoControls",r.showVideoControls?1:0)("alt",(null==e?null:e.alt)||(null==e?null:e.title)||"")("title",(null==e?null:e.title)||(null==e?null:e.alt)||"")("showVideo",!0)("direction",r.direction)}}const VT=function(n){return{disable:n}};function V9(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"a",19),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.prevImageLightbox())}),s._uU(1,"\u2039"),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("ngClass",s.VKq(1,VT,e.lightboxPrevDisable))}}function U9(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"a",20),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.nextImageLightbox())}),s._uU(1,"\u203a"),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("ngClass",s.VKq(1,VT,e.lightboxNextDisable))}}function H9(n,t){if(1&n&&(s.TgZ(0,"div",21),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.AsE("",e.currentImageIndex+1," of ",e.totalImages,"")}}const z9=function(n,t,e){return{"margin-left":n,"grid-template-columns":t,transition:e}},j9=function(n,t){return{show:n,hide:t}};function G9(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",1)(1,"div",2)(2,"a",3),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.closeLightbox())}),s.qZA(),s.TgZ(3,"div",4,5),s.YNc(5,F9,2,0,"div",6),s.TgZ(6,"div",7),s.YNc(7,B9,4,15,"div",8),s.qZA(),s.TgZ(8,"div",9),s._uU(9),s.qZA(),s.YNc(10,V9,2,3,"a",10),s.YNc(11,U9,2,3,"a",11),s.qZA()(),s.YNc(12,H9,2,2,"div",12),s.qZA()}if(2&n){const e=s.oxw();s.xp6(5),s.Q6J("ngIf",e.showLoading),s.xp6(1),s.Q6J("ngStyle",s.kEZ(9,z9,e.marginLeft+"px","repeat("+e.images.length+",1fr)",e.effectStyle)),s.xp6(1),s.Q6J("ngForOf",e.images),s.xp6(1),s.Q6J("dir",e.direction)("ngClass",s.WLB(13,j9,e.title,!e.title)),s.xp6(1),s.Oqu(e.title),s.xp6(1),s.Q6J("ngIf",e.images.length>1),s.xp6(1),s.Q6J("ngIf",e.images.length>1),s.xp6(1),s.Q6J("ngIf",e.paginationShow)}}const q9=["sliderMain"],Z9=["imageDiv"];function W9(n,t){if(1&n&&(s.TgZ(0,"div",16),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit,i=s.oxw(2);s.Q6J("dir",i.textDirection),s.xp6(1),s.Oqu(null==e?null:e.title)}}const Y9=function(n,t){return{"image-popup":n,"selected-image":t}},$9=function(n,t,e){return{width:n,"margin-left":t,"margin-right":e}};function K9(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12,13),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(2);return s.KtG(c.imageOnClick(o.index))})("mouseenter",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.stopSlideOnHover&&r.imageMouseEnterHandler())})("mouseleave",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.stopSlideOnHover&&r.imageAutoSlide())}),s._UZ(2,"custom-img",14),s.YNc(3,W9,2,2,"div",15),s.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw(2);s.Q6J("ngClass",s.WLB(10,Y9,r.imagePopup,r.activeImageIndex==i))("ngStyle",s.kEZ(13,$9,r.sliderImageWidth+"px",r.imageMargin+"px",r.imageMargin+"px")),s.xp6(2),s.Q6J("imageUrl",(null==e?null:e.thumbImage)||(null==e?null:e.posterImage)||(null==e?null:e.video))("isVideo",!!(null!=e&&e.posterImage||null!=e&&e.video))("alt",(null==e?null:e.alt)||(null==e?null:e.title)||"")("title",(null==e?null:e.title)||(null==e?null:e.alt)||"")("direction",r.textDirection)("ratio",r.manageImageRatio)("lazy",r.lazyLoading),s.xp6(1),s.Q6J("ngIf",null==e?null:e.title)}}const Q9=function(n){return{"with-ng-main-pagination":n}},J9=function(n,t,e){return{"margin-left":n,width:t,transition:e}};function X9(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",10),s.NdJ("touchstart",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.swipe(r,"start"))})("touchend",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.swipe(r,"end"))}),s.YNc(1,K9,4,17,"div",11),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("ngClass",s.VKq(3,Q9,e.paginationShow))("ngStyle",s.kEZ(5,J9,e.leftPos+"px",e.imageParentDivWidth+"px",e.effectStyle)),s.xp6(1),s.Q6J("ngForOf",e.imageObj)}}function eY(n,t){1&n&&(s.TgZ(0,"div",17),s._UZ(1,"span",18),s.qZA())}function tY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"a",19),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.prev())})("mouseenter",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.stopSlideOnHover&&r.imageMouseEnterHandler())})("mouseleave",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.stopSlideOnHover&&r.imageAutoSlide())}),s._uU(1,"\u2039"),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("ngClass",s.VKq(1,VT,e.sliderPrevDisable))}}function nY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"a",20),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.next())})("mouseenter",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.imageMouseEnterHandler())})("mouseleave",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.imageAutoSlide())}),s._uU(1,"\u203a"),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("ngClass",s.VKq(1,VT,e.sliderNextDisable))}}function iY(n,t){if(1&n&&(s.TgZ(0,"div",21),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.AsE("",e.visiableImageIndex+1," of ",e.totalImages,"")}}function rY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div")(1,"slider-lightbox",22),s.NdJ("prevImage",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.lightboxArrowClickHandler(r))})("nextImage",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.lightboxArrowClickHandler(r))})("close",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.close())}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("paginationShow",e.paginationShow)("showVideoControls",e.showVideoControls)("arrowKeyMove",e.arrowKeyMove)("images",e.ligthboxImageObj)("infinite",e.infinite)("animationSpeed",e.speed)("imageIndex",e.activeImageIndex)("show",e.ligthboxShow)("direction",e.textDirection)("videoAutoPlay",e.videoAutoPlay)}}const ZU=function(n){return{height:n}};let pP=(()=>{class n{constructor(){}isBase64(e){return/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(e)}base64FileExtension(e){return e.substring(11,e.indexOf(";base64"))}orderArray(e=[],i="ASC"){return e?.length&&i?e.sort((r,o)=>null!==r.order&&r.order?null!==o.order&&o.order?r.order>o.order?"DESC"===i?-1:1:r.order<o.order?"DESC"===i?1:-1:void 0:-1:1):e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const oY=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=|\?v=)([^#\&\?]*).*/,YU=["jpeg","jpg","gif","png"],$U=["mp4"];let KU=(()=>{class n{constructor(e,i,r){this.imageSliderService=e,this.sanitizer=i,this.YOUTUBE="youtube",this.IMAGE="image",this.VIDEO="video",this.fileUrl="",this.fileExtension="",this.type=this.IMAGE,this.imageLoading=!0,this.showVideo=!1,this.videoAutoPlay=!1,this.showVideoControls=1,this.speed=1,this.isVideo=!1,this.alt="",this.title="",this.direction="ltr",this.ratio=!1,this.lazy=!1}ngOnChanges(e){this.imageUrl&&this.imageUrl&&this.imageUrl&&"string"==typeof this.imageUrl&&(e.imageUrl&&e.imageUrl.firstChange||this.videoAutoPlay)&&this.setUrl()}setUrl(){const e=this.imageUrl;this.imageLoading=!0,this.fileUrl=this.sanitizer.bypassSecurityTrustResourceUrl(e),this.fileExtension=e.split(".").pop().split(/\#|\?/)[0],this.imageSliderService.base64FileExtension(e)&&(YU.indexOf(this.imageSliderService.base64FileExtension(e).toLowerCase())>-1||$U.indexOf(this.imageSliderService.base64FileExtension(e).toLowerCase())>-1)&&(this.fileExtension=this.imageSliderService.base64FileExtension(e));const i=e.match(oY);if(i&&11===i[2].length)this.showVideo?(this.type=this.YOUTUBE,this.fileUrl=this.sanitizer.bypassSecurityTrustResourceUrl(`https://www.youtube.com/embed/${i[2]}${this.videoAutoPlay?"?autoplay=1&enablejsapi=1":"?autoplay=0&enablejsapi=1"}&controls=${this.showVideoControls}`)):(this.type=this.IMAGE,this.fileUrl=this.sanitizer.bypassSecurityTrustResourceUrl(`https://img.youtube.com/vi/${i[2]}/0.jpg`));else if(this.fileExtension&&YU.indexOf(this.fileExtension.toLowerCase())>-1)this.type=this.IMAGE;else if(this.fileExtension&&$U.indexOf(this.fileExtension.toLowerCase())>-1&&(this.type=this.VIDEO,this.videoAutoPlay&&document.getElementById(`video_${this.imageIndex}`))){const r=document.getElementById(`video_${this.imageIndex}`);setTimeout(()=>{r.play()},1e3*this.speed)}}videoClickHandler(e){e&&e.srcElement&&!this.showVideoControls&&(e.srcElement.paused?e.srcElement.play():e.srcElement.pause())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(pP),s.Y36(vo),s.Y36(ae))},n.\u0275cmp=s.Xpm({type:n,selectors:[["custom-img"]],inputs:{showVideo:"showVideo",videoAutoPlay:"videoAutoPlay",showVideoControls:"showVideoControls",currentImageIndex:"currentImageIndex",imageIndex:"imageIndex",speed:"speed",imageUrl:"imageUrl",isVideo:"isVideo",alt:"alt",title:"title",direction:"direction",ratio:"ratio",lazy:"lazy"},features:[s.TTD],decls:1,vars:1,consts:[["class","custom-image-main",3,"ngClass",4,"ngIf"],[1,"custom-image-main",3,"ngClass"],["class","image",3,"ngClass","src","alt","title","load",4,"ngIf"],["class","youtube","frameborder","0","allow","autoplay","allowfullscreen","",3,"src",4,"ngIf"],["class","video","type","video/mp4","controlsList","nodownload",3,"id","ngClass","autoplay","click",4,"ngIf"],["class","invalid-msg",3,"dir",4,"ngIf"],["class","youtube-icon",4,"ngIf"],[1,"image",3,"ngClass","src","alt","title","load"],["frameborder","0","allow","autoplay","allowfullscreen","",1,"youtube",3,"src"],["type","video/mp4","controlsList","nodownload",1,"video",3,"id","ngClass","autoplay","click"],["type","video/mp4",3,"src"],[1,"invalid-msg",3,"dir"],[1,"youtube-icon"]],template:function(e,i){1&e&&s.YNc(0,R9,6,8,"div",0),2&e&&s.Q6J("ngIf",i.fileUrl)},dependencies:[hn,bn],encapsulation:2}),n})(),cY=(()=>{class n{constructor(e,i,r,o){this.cdRef=e,this.sanitizer=i,this.elRef=r,this.document=o,this.totalImages=0,this.nextImageIndex=-1,this.popupWidth=1200,this.marginLeft=0,this.imageFullscreenView=!1,this.lightboxPrevDisable=!1,this.lightboxNextDisable=!1,this.showLoading=!0,this.effectStyle="none",this.speed=1,this.title="",this.currentImageIndex=0,this.images=[],this.videoAutoPlay=!1,this.direction="ltr",this.paginationShow=!1,this.infinite=!1,this.arrowKeyMove=!0,this.showVideoControls=!0,this.close=new s.vpe,this.prevImage=new s.vpe,this.nextImage=new s.vpe}set imageIndex(e){void 0!==e&&e>-1&&e<this.images.length&&(this.currentImageIndex=e),this.nextPrevDisable()}set show(e){this.imageFullscreenView=e,this.elRef.nativeElement.ownerDocument.body.style.overflow="",!0===e&&(this.elRef.nativeElement.ownerDocument.body.style.overflow="hidden",this.setPopupSliderWidth())}set animationSpeed(e){e&&"number"==typeof e&&e>=.1&&e<=5&&(this.speed=e)}onResize(e){this.effectStyle="none",this.setPopupSliderWidth()}handleKeyboardEvent(e){e&&e.key&&this.arrowKeyMove&&("arrowright"===e.key.toLowerCase()&&this.nextImageLightbox(),"arrowleft"===e.key.toLowerCase()&&this.prevImageLightbox(),"escape"===e.key.toLowerCase()&&this.closeLightbox())}ngOnInit(){}ngAfterViewInit(){}ngOnDestroy(){this.resetState()}setPopupSliderWidth(){window&&window.innerWidth&&(this.popupWidth=window.innerWidth,this.totalImages=this.images.length,"number"==typeof this.currentImageIndex&&void 0!==this.currentImageIndex&&(this.marginLeft=-1*this.popupWidth*this.currentImageIndex,this.getImageData(),this.nextPrevDisable(),setTimeout(()=>{this.showLoading=!1},500)))}closeLightbox(){this.close.emit()}prevImageLightbox(){this.effectStyle=`all ${this.speed}s ease-in-out`,this.currentImageIndex>0&&!this.lightboxPrevDisable&&(this.currentImageIndex--,this.prevImage.emit("lightbox previous"),this.marginLeft=-1*this.popupWidth*this.currentImageIndex,this.getImageData(),this.nextPrevDisable())}nextImageLightbox(){this.effectStyle=`all ${this.speed}s ease-in-out`,this.currentImageIndex<this.images.length-1&&!this.lightboxNextDisable&&(this.currentImageIndex++,this.nextImage.emit("lightbox next"),this.marginLeft=-1*this.popupWidth*this.currentImageIndex,this.getImageData(),this.nextPrevDisable())}nextPrevDisable(){this.lightboxNextDisable=!0,this.lightboxPrevDisable=!0,setTimeout(()=>{this.applyButtonDisableCondition()},1e3*this.speed)}applyButtonDisableCondition(){this.lightboxNextDisable=!1,this.lightboxPrevDisable=!1,!this.infinite&&this.currentImageIndex>=this.images.length-1&&(this.lightboxNextDisable=!0),!this.infinite&&this.currentImageIndex<=0&&(this.lightboxPrevDisable=!0)}getImageData(){if(this.images&&this.images.length&&"number"==typeof this.currentImageIndex&&void 0!==this.currentImageIndex&&this.images[this.currentImageIndex]&&(this.images[this.currentImageIndex].image||this.images[this.currentImageIndex].video)){this.title=this.images[this.currentImageIndex].title||"",this.totalImages=this.images.length;for(const e in this.document.getElementsByTagName("iframe"))this.document.getElementsByTagName("iframe")[e]&&this.document.getElementsByTagName("iframe")[e].contentWindow&&this.document.getElementsByTagName("iframe")[e].contentWindow.postMessage&&this.document.getElementsByTagName("iframe")[e].contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*");for(const e in this.document.getElementsByTagName("video"))this.document.getElementsByTagName("video")[e]&&this.document.getElementsByTagName("video")[e].pause&&this.document.getElementsByTagName("video")[e].pause()}}resetState(){this.images=[]}swipeLightboxImg(e,i){const r=[e.changedTouches[0].pageX,e.changedTouches[0].pageY],o=(new Date).getTime();if("start"===i)this.swipeLightboxImgCoord=r,this.swipeLightboxImgTime=o;else if("end"===i){const c=[r[0]-this.swipeLightboxImgCoord[0],r[1]-this.swipeLightboxImgCoord[1]];o-this.swipeLightboxImgTime<1e3&&Math.abs(c[0])>30&&Math.abs(c[0])>Math.abs(3*c[1])&&(c[0]<0?this.nextImageLightbox():this.prevImageLightbox())}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(vo),s.Y36(s.SBq),s.Y36(ae))},n.\u0275cmp=s.Xpm({type:n,selectors:[["slider-lightbox"]],viewQuery:function(e,i){if(1&e&&(s.Gf(P9,5),s.Gf(N9,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.lightboxDiv=r.first),s.iGM(r=s.CRH())&&(i.lightboxImageDiv=r.first)}},hostBindings:function(e,i){1&e&&s.NdJ("resize",function(o){return i.onResize(o)},!1,s.Jf7)("keyup",function(o){return i.handleKeyboardEvent(o)},!1,s.evT)},inputs:{images:"images",imageIndex:"imageIndex",show:"show",videoAutoPlay:"videoAutoPlay",direction:"direction",paginationShow:"paginationShow",animationSpeed:"animationSpeed",infinite:"infinite",arrowKeyMove:"arrowKeyMove",showVideoControls:"showVideoControls"},outputs:{close:"close",prevImage:"prevImage",nextImage:"nextImage"},decls:1,vars:1,consts:[["class","ng-image-fullscreen-view",4,"ngIf"],[1,"ng-image-fullscreen-view"],[1,"lightbox-wrapper"],[1,"close",3,"click"],[1,"lightbox-div"],["lightboxDiv",""],["class","pre-loader",4,"ngIf"],[1,"lightbox-image-main",3,"ngStyle"],["class","lightbox-image",3,"ngStyle","touchstart","touchend",4,"ngFor","ngForOf"],[1,"caption",3,"dir","ngClass"],["class","prev icons prev-icon",3,"ngClass","click",4,"ngIf"],["class","next icons next-icon",3,"ngClass","click",4,"ngIf"],["class","popup-pagination",4,"ngIf"],[1,"pre-loader"],[1,"mnml-spinner"],[1,"lightbox-image",3,"ngStyle","touchstart","touchend"],["lightboxImageDiv",""],[1,"close-outside",3,"click"],[3,"imageUrl","isVideo","currentImageIndex","imageIndex","speed","videoAutoPlay","showVideoControls","alt","title","showVideo","direction"],[1,"prev","icons","prev-icon",3,"ngClass","click"],[1,"next","icons","next-icon",3,"ngClass","click"],[1,"popup-pagination"]],template:function(e,i){1&e&&s.YNc(0,G9,13,16,"div",0),2&e&&s.Q6J("ngIf",i.imageFullscreenView)},dependencies:[hn,Nn,bn,uo,KU],encapsulation:2}),n})(),hY=(()=>{class n{constructor(e,i,r,o){this.cdRef=e,this.platformId=i,this.imageSliderService=r,this.elRef=o,this.sliderMainDivWidth=0,this.imageParentDivWidth=0,this.imageObj=[],this.ligthboxImageObj=[],this.totalImages=0,this.leftPos=0,this.effectStyle="all 1s ease-in-out",this.speed=1,this.sliderPrevDisable=!1,this.sliderNextDisable=!1,this.slideImageCount=1,this.sliderImageWidth=205,this.sliderImageReceivedWidth=205,this.sliderImageHeight=200,this.sliderImageReceivedHeight=205,this.sliderImageSizeWithPadding=211,this.autoSlideCount=0,this.stopSlideOnHover=!0,this.showArrowButton=!0,this.textDirection="ltr",this.imageMargin=3,this.sliderOrderType="ASC",this.ligthboxShow=!1,this.activeImageIndex=-1,this.visiableImageIndex=0,this.infinite=!1,this.imagePopup=!0,this.images=[],this.videoAutoPlay=!1,this.paginationShow=!1,this.arrowKeyMove=!0,this.manageImageRatio=!1,this.showVideoControls=!0,this.lazyLoading=!1,this.imageClick=new s.vpe,this.arrowClick=new s.vpe,this.lightboxArrowClick=new s.vpe,this.lightboxClose=new s.vpe}set imageSize(e){e&&"object"==typeof e&&(e.hasOwnProperty("space")&&"number"==typeof e.space&&e.space>-1&&(this.imageMargin=e.space),e.hasOwnProperty("width")&&("number"==typeof e.width||"string"==typeof e.width)&&(this.sliderImageReceivedWidth=e.width),e.hasOwnProperty("height")&&("number"==typeof e.height||"string"==typeof e.height)&&(this.sliderImageReceivedHeight=e.height))}set direction(e){e&&(this.textDirection=e)}set animationSpeed(e){e&&"number"==typeof e&&e>=.1&&e<=5&&(this.speed=e,this.effectStyle=`all ${this.speed}s ease-in-out`)}set slideImage(e){e&&"number"==typeof e&&(this.slideImageCount=Math.round(e))}set autoSlide(e){e&&("number"==typeof e||"boolean"==typeof e||"object"==typeof e)&&("number"==typeof e&&e>=1&&e<=5?e=Math.round(e):"boolean"==typeof e?e=1:"object"==typeof e&&e.hasOwnProperty("interval")&&Math.round(e.interval)&&Math.round(e.interval)>=1&&Math.round(e.interval)<=5&&(this.stopSlideOnHover=!e.hasOwnProperty("stopOnHover")||e.stopOnHover,e=Math.round(e.interval)),this.autoSlideCount=1e3*e)}set showArrow(e){void 0!==e&&"boolean"==typeof e&&(this.showArrowButton=e)}set orderType(e){void 0!==e&&"string"==typeof e&&(this.sliderOrderType=e.toUpperCase())}set defaultActiveImage(e){"number"==typeof e&&e>-1&&(this.activeImageIndex=e)}onResize(e){this.setSliderWidth()}handleKeyboardEvent(e){e&&e.key&&("arrowright"===e.key.toLowerCase()&&!this.ligthboxShow&&this.arrowKeyMove&&this.next(),"arrowleft"===e.key.toLowerCase()&&!this.ligthboxShow&&this.arrowKeyMove&&this.prev(),"escape"===e.key.toLowerCase()&&this.ligthboxShow&&this.close())}ngOnInit(){if(this.infinite){this.effectStyle="none",this.leftPos=-1*this.sliderImageSizeWithPadding*this.slideImageCount;for(let e=1;e<=this.slideImageCount;e++)this.imageObj.unshift(this.imageObj[this.imageObj.length-e])}}ngAfterViewInit(){this.setSliderWidth(),this.cdRef.detectChanges(),tr(this.platformId)&&this.imageAutoSlide()}ngOnDestroy(){this.autoSlideInterval&&clearInterval(this.autoSlideInterval),!0===this.ligthboxShow&&this.close()}ngOnChanges(e){if(e.images&&e.images.hasOwnProperty("previousValue")&&e.images.hasOwnProperty("currentValue")&&e.images.previousValue!=e.images.currentValue&&this.setSliderImages(e.images.currentValue),e&&e.imageSize){const i=e.imageSize;i&&i.previousValue&&i.currentValue&&i.previousValue.width&&i.previousValue.height&&i.currentValue.width&&i.currentValue.height&&(i.previousValue.width!==i.currentValue.width||i.previousValue.height!==i.currentValue.height)&&this.setSliderWidth()}}ngDoCheck(){this.images&&this.ligthboxImageObj&&this.images.length!==this.ligthboxImageObj.length&&this.setSliderImages(this.images)}setSliderImages(e){e&&e instanceof Array&&e.length?(e.find(r=>{if(r.hasOwnProperty("order"))return!0})&&(e=this.imageSliderService.orderArray(e,this.sliderOrderType.toUpperCase())),this.imageObj=e.map((r,o)=>(r.index=o,r)),this.ligthboxImageObj=[...this.imageObj],this.totalImages=this.imageObj.length):(this.imageObj=[],this.ligthboxImageObj=[],this.totalImages=0,this.imageParentDivWidth=0,this.activeImageIndex=0),this.setSliderWidth()}setSliderWidth(){this.sliderMain&&this.sliderMain.nativeElement&&this.sliderMain.nativeElement.offsetWidth&&(this.sliderMainDivWidth=this.sliderMain.nativeElement.offsetWidth),this.sliderMainDivWidth&&this.sliderImageReceivedWidth&&("number"==typeof this.sliderImageReceivedWidth?this.sliderImageWidth=this.sliderImageReceivedWidth:"string"==typeof this.sliderImageReceivedWidth&&(this.sliderImageReceivedWidth.indexOf("px")>=0?this.sliderImageWidth=parseFloat(this.sliderImageReceivedWidth):this.sliderImageReceivedWidth.indexOf("%")>=0?this.sliderImageWidth=+(this.sliderMainDivWidth*parseFloat(this.sliderImageReceivedWidth)/100).toFixed(2):parseFloat(this.sliderImageReceivedWidth)&&(this.sliderImageWidth=parseFloat(this.sliderImageReceivedWidth)))),tr(this.platformId)&&window&&window.innerHeight&&this.sliderImageReceivedHeight&&("number"==typeof this.sliderImageReceivedHeight?this.sliderImageHeight=this.sliderImageReceivedHeight:"string"==typeof this.sliderImageReceivedHeight&&(this.sliderImageReceivedHeight.indexOf("px")>=0?this.sliderImageHeight=parseFloat(this.sliderImageReceivedHeight):this.sliderImageReceivedHeight.indexOf("%")>=0?this.sliderImageHeight=+(window.innerHeight*parseFloat(this.sliderImageReceivedHeight)/100).toFixed(2):parseFloat(this.sliderImageReceivedHeight)&&(this.sliderImageHeight=parseFloat(this.sliderImageReceivedHeight)))),this.sliderImageSizeWithPadding=this.sliderImageWidth+2*this.imageMargin,this.imageParentDivWidth=this.imageObj.length*this.sliderImageSizeWithPadding,this.imageDiv&&this.imageDiv.nativeElement&&this.imageDiv.nativeElement.offsetWidth&&(this.leftPos=this.infinite?-1*this.sliderImageSizeWithPadding*this.slideImageCount:0),this.nextPrevSliderButtonDisable()}imageOnClick(e){this.activeImageIndex=e,this.imagePopup&&this.showLightbox(),this.imageClick.emit(e)}imageAutoSlide(){this.infinite&&this.autoSlideCount&&!this.ligthboxShow&&(this.autoSlideInterval=setInterval(()=>{this.next()},this.autoSlideCount))}imageMouseEnterHandler(){this.infinite&&this.autoSlideCount&&this.autoSlideInterval&&clearInterval(this.autoSlideInterval)}prev(){this.sliderPrevDisable||(this.infinite?this.infinitePrevImg():this.prevImg(),this.sliderArrowDisableTeam("previous"),this.getVisiableIndex())}next(){this.sliderNextDisable||(this.infinite?this.infiniteNextImg():this.nextImg(),this.sliderArrowDisableTeam("next"),this.getVisiableIndex())}prevImg(){0>=this.leftPos+this.sliderImageSizeWithPadding*this.slideImageCount?this.leftPos+=this.sliderImageSizeWithPadding*this.slideImageCount:this.leftPos=0}nextImg(){this.imageParentDivWidth+this.leftPos-this.sliderMainDivWidth>this.sliderImageSizeWithPadding*this.slideImageCount?this.leftPos-=this.sliderImageSizeWithPadding*this.slideImageCount:this.imageParentDivWidth+this.leftPos-this.sliderMainDivWidth>0&&(this.leftPos-=this.imageParentDivWidth+this.leftPos-this.sliderMainDivWidth)}infinitePrevImg(){this.effectStyle=`all ${this.speed}s ease-in-out`,this.leftPos=0,setTimeout(()=>{this.effectStyle="none",this.leftPos=-1*this.sliderImageSizeWithPadding*this.slideImageCount;for(let e=0;e<this.slideImageCount;e++)this.imageObj.unshift(this.imageObj[this.imageObj.length-this.slideImageCount-1]),this.imageObj.pop()},1e3*this.speed)}infiniteNextImg(){this.effectStyle=`all ${this.speed}s ease-in-out`,this.leftPos=-2*this.sliderImageSizeWithPadding*this.slideImageCount,setTimeout(()=>{this.effectStyle="none";for(let e=0;e<this.slideImageCount;e++)this.imageObj.push(this.imageObj[this.slideImageCount]),this.imageObj.shift();this.leftPos=-1*this.sliderImageSizeWithPadding*this.slideImageCount},1e3*this.speed)}getVisiableIndex(){const e=Math.round((Math.abs(this.leftPos)+this.sliderImageWidth)/this.sliderImageWidth);this.imageObj[e-1]&&void 0!==this.imageObj[e-1].index&&(this.visiableImageIndex=this.imageObj[e-1].index)}sliderArrowDisableTeam(e){this.sliderNextDisable=!0,this.sliderPrevDisable=!0,setTimeout(()=>{this.nextPrevSliderButtonDisable(e)},1e3*this.speed)}nextPrevSliderButtonDisable(e){this.sliderNextDisable=!1,this.sliderPrevDisable=!1;const i={};this.infinite||(this.imageParentDivWidth+this.leftPos<=this.sliderMainDivWidth&&(this.sliderNextDisable=!0),this.leftPos>=0&&(this.sliderPrevDisable=!0),i.prevDisable=this.sliderPrevDisable,i.nextDisable=this.sliderNextDisable),e&&this.arrowClick.emit({action:e,...i})}showLightbox(){this.imageObj.length&&(this.imageMouseEnterHandler(),this.ligthboxShow=!0,this.elRef.nativeElement.ownerDocument.body.style.overflow="hidden")}close(){this.ligthboxShow=!1,this.elRef.nativeElement.ownerDocument.body.style.overflow="",this.lightboxClose.emit(),this.imageAutoSlide()}lightboxArrowClickHandler(e){this.lightboxArrowClick.emit(e)}swipe(e,i){const r=[e.changedTouches[0].pageX,e.changedTouches[0].pageY],o=(new Date).getTime();if("start"===i)this.swipeCoord=r,this.swipeTime=o;else if("end"===i){const c=[r[0]-this.swipeCoord[0],r[1]-this.swipeCoord[1]];o-this.swipeTime<1e3&&Math.abs(c[0])>30&&Math.abs(c[0])>Math.abs(3*c[1])&&(c[0]<0?this.next():this.prev())}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(s.Lbi),s.Y36(pP),s.Y36(s.SBq))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-image-slider"]],viewQuery:function(e,i){if(1&e&&(s.Gf(q9,5),s.Gf(Z9,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.sliderMain=r.first),s.iGM(r=s.CRH())&&(i.imageDiv=r.first)}},hostBindings:function(e,i){1&e&&s.NdJ("resize",function(o){return i.onResize(o)},!1,s.Jf7)("keyup",function(o){return i.handleKeyboardEvent(o)},!1,s.evT)},inputs:{imageSize:"imageSize",infinite:"infinite",imagePopup:"imagePopup",direction:"direction",animationSpeed:"animationSpeed",images:"images",slideImage:"slideImage",autoSlide:"autoSlide",showArrow:"showArrow",orderType:"orderType",videoAutoPlay:"videoAutoPlay",paginationShow:"paginationShow",arrowKeyMove:"arrowKeyMove",manageImageRatio:"manageImageRatio",showVideoControls:"showVideoControls",defaultActiveImage:"defaultActiveImage",lazyLoading:"lazyLoading"},outputs:{imageClick:"imageClick",arrowClick:"arrowClick",lightboxArrowClick:"lightboxArrowClick",lightboxClose:"lightboxClose"},features:[s.TTD],decls:10,vars:12,consts:[[1,"ng-image-slider",3,"ngStyle"],[1,"ng-image-slider-container"],[1,"main",3,"ngStyle"],["sliderMain",""],["class","main-inner",3,"ngClass","ngStyle","touchstart","touchend",4,"ngIf"],["class","ng-image-slider-error",4,"ngIf"],["class","prev icons prev-icon",3,"ngClass","click","mouseenter","mouseleave",4,"ngIf"],["class","next icons next-icon",3,"ngClass","click","mouseenter","mouseleave",4,"ngIf"],["class","ng-main-pagination",4,"ngIf"],[4,"ngIf"],[1,"main-inner",3,"ngClass","ngStyle","touchstart","touchend"],["class","img-div",3,"ngClass","ngStyle","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],[1,"img-div",3,"ngClass","ngStyle","click","mouseenter","mouseleave"],["imageDiv",""],[3,"imageUrl","isVideo","alt","title","direction","ratio","lazy"],["class","caption",3,"dir",4,"ngIf"],[1,"caption",3,"dir"],[1,"ng-image-slider-error"],[1,"ng-image-slider-loader"],[1,"prev","icons","prev-icon",3,"ngClass","click","mouseenter","mouseleave"],[1,"next","icons","next-icon",3,"ngClass","click","mouseenter","mouseleave"],[1,"ng-main-pagination"],[3,"paginationShow","showVideoControls","arrowKeyMove","images","infinite","animationSpeed","imageIndex","show","direction","videoAutoPlay","prevImage","nextImage","close"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2,3),s.YNc(4,X9,2,9,"div",4),s.YNc(5,eY,2,0,"div",5),s.YNc(6,tY,2,3,"a",6),s.YNc(7,nY,2,3,"a",7),s.qZA(),s.YNc(8,iY,2,2,"div",8),s.qZA()(),s.YNc(9,rY,2,10,"div",9)),2&e&&(s.Q6J("ngStyle",s.VKq(8,ZU,i.sliderImageHeight+"px")),s.xp6(2),s.Q6J("ngStyle",s.VKq(10,ZU,i.sliderImageHeight+"px")),s.xp6(2),s.Q6J("ngIf",i.imageObj.length),s.xp6(1),s.Q6J("ngIf",!i.imageObj.length),s.xp6(1),s.Q6J("ngIf",i.showArrowButton&&i.imageObj.length>1),s.xp6(1),s.Q6J("ngIf",i.showArrowButton&&i.imageObj.length>1),s.xp6(1),s.Q6J("ngIf",i.imageObj.length&&i.paginationShow),s.xp6(1),s.Q6J("ngIf",i.ligthboxShow))},dependencies:[hn,Nn,bn,uo,KU,cY],styles:[".ng-image-slider{display:inline-block;position:relative;width:100%}.ng-image-slider .ng-image-slider-container .main{overflow:hidden;position:absolute;height:200px;width:100%}.ng-image-slider .ng-image-slider-container .main .main-inner{width:1760px;padding:0;height:100%}.ng-image-slider .ng-image-slider-container .main .main-inner.with-ng-main-pagination{height:calc(100% - 30px)}.ng-image-slider .ng-image-slider-container .main .main-inner .full-screen{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAAF+klEQVRoge2Yz28UyRXHv6+q50d7ftqDl42wrU1QFIXVkuAZD5pEzoYrihIhuERw2D8gl1UOKFeiaBfBIZGQIkVKGHGIQHsmspQoillgBfE4vpgQy4pFTIAdPB6Pe365u7peDsx4Z8z0/GDtS3Y+Uh+66vWr963u11X1gCFDhgz5qiEymYy5X86oW2c6nU4w8zcAxJhZaa2tZh8zK8MwLK11XAgRdF3360KIdxYWFn7VzWcqlfoJM38C4B8ASgC2WrpNZg4CgBCCAPiYeZOIfrOwsPC3Tv4Mr4GOHz8ecl13JRQKfS6ldJVSkpnJcZwQABARGYZRJiImIg4Gg/VCoTABoKsAZqZIJPKvy5cvjxQKBVEqlcJ7bUzTlOFw2ACA27dv6/n5+Z8BGEyAaZphpZR/fn7+290CavLkyZMnZ8+eVb3smNk1DEOl0+nv9uM3n89/dufOnddENvEUoJQ6YhjGFgDPhzugexkIIfxCiJ52TY4ePRoBEPDq9xTAzEoI4fY7UDAY9HUbqMVvvVwux69du/ZpIpEw4vG4b2JiInL48OF4IpEYk1L6Wu2LxeIOM5ffREBJKRXa237z5s17d+/edV6+fGmUSqVAtVoNO44TUkpFiejTXgLq9fqfiegP169f/xYRjTHzKBFpAAzAPX369L1Lly79sGlfKBRsIrK8/HUVoLWOtLY9f/786dWrV98D8DEzbwghiq7rFqWUm1LKlw8ePPhvLwHLy8s2PBJ9enr6R/fv3/9la9vm5qZi5uLAApaWlraTyaTftm3H7/f7AMC2bReAlcvlPuoV6JsghBBSyrb8KBaLmog8BYgu/jSAsmVZu9+fbdsKQN95MShEVK3Vam15VKlUGEDN6xnPN9BAK6V2f42FQqECQH6pKLuglKo015m9cXg900sAM/PuzdbW1g5eJduBIIQoa60H2mb0EtBGuVxW6PI6vyxSyrLruv7WNq01iMhz0np+Qo8ePVq3bbsOACsrK1Uiqu5DrF5sA4icOXPms3A47FarVfnixYtJZvZc4btu5qanp28Q0ffxSmgAwCYz/25xcfHX+xv3F8zMzHxPa/1NZg4IIbYBOMz8l1wuVzqoMYcMGTLkK0zXdeDkyZMTWmu/67phrXXNcZzny8vLnoeL/eDEiRM/kFJ+wMzNk6AiomWvYoGngFQq9VNm/r1hGBtSSsd1XZ9SalxKeezhw4drBxI9gGQy+dvJycnvnDt3jqWUtLGxobLZ7GypVAqurq7u7LXvdqB569ixYw9v3LjxfrMtk8msKaXGARyYACIKz87O2ufPn38feLUXymaznvbdzgOvYRiGo7Ue5JA/MMwcCoVCr30Z4+PjHWPtKoCI2hwZhmELIQ5UAIBwLBbre5fsKYCZCXv2/qZp1luS60Bg5lAikdjdUjfmkCuVysBvwBcIBNoEhMNhh5k7nZj2DSIKRCIRX8s9AFRM0+w4cZ6vioii8Xi8TQAzY5CiVD9kMhmzXq+PGoYx6rruGICo67qVVhshhLWzsxMF8Pne57t9a7FYLNaWA1NTU/ba2tovpqenf0xERSIqNkoeRQD/zuVyf0IfR85UKvUhM38IYNy27aAQoiaE2BgZGdmampp6kU6n0632Pp+vqpSKdfLVVcDo6GibgCtXrszmcrl/Pnv27O319fXRp0+futvb22RZllhZWXknmUz+PJfLfdJLADN/cPHixfVTp04FI5EIBwIBE8Bk43oNv99fq9VqgwsYGxtr6xdCiJmZmXc7GV+4cOHe48eP3+4VfAN15MiRkUOHDo33YyyldKWUHXPAM4mJqJ7P53tWm5s4jiPQ/4Gfte4/larVahTAfzr1dVuJC/l8/i3LsrZ1YzTLsqpa693CVjQaDRGRME0z2Kgc9Pv/ltlsdvvWrVvzlmV1nES/369N0wQzw7bt48zcsT7a7S/017m5uTNzc3NBAH4AFQCtNZsKgHqjzQcgxcx/7FPA35eWlhSA1Ubl2Wn4aI4tAUQbt1Vm/mhxcXG1T99vhEgmkyeTyeTXDnKQIUOG/B/yP/QEm5iXakbiAAAAAElFTkSuQmCC);background-size:40px 40px;background-repeat:no-repeat;position:absolute;z-index:8;display:block;height:40px;width:40px;top:4px;right:8px;opacity:.4;transition:all .5s ease-in-out;cursor:pointer}.ng-image-slider .ng-image-slider-container .main .main-inner .img-div{width:205px;height:100%;margin-right:3px;margin-left:3px;position:relative;display:inline-block;box-shadow:inset 0 0 1px #0000003d,0 0 2px #0000001f;border-radius:5px}.ng-image-slider .ng-image-slider-container .main .main-inner .img-div.image-popup{cursor:pointer}.ng-image-slider .ng-image-slider-container .main .main-inner .img-div img,.ng-image-slider .ng-image-slider-container .main .main-inner .img-div video{position:absolute;top:0px;bottom:0px;margin:auto;height:100%;width:100%;left:0;right:0;border-radius:5px}.ng-image-slider .ng-image-slider-container .main .main-inner .img-div img.ratio,.ng-image-slider .ng-image-slider-container .main .main-inner .img-div video.ratio{width:auto;height:auto;max-width:100%;max-height:100%}.ng-image-slider .ng-image-slider-container .main .main-inner .img-div .youtube-icon{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAC0CAMAAADSOgUjAAAAA3NCSVQICAjb4U/gAAAC9FBMVEX///+vr6+lpaWPj498fHx4eHh2dnZ0dHRvb29sbGxqampmZmZiYmJeXl5aWlpYWFhUVFRSUlJQUFBMTExKSkpISEhERERCQkJAQEA+Pj44ODg2NjYzMzMwMDAuLi4sLCwqKiooKCgkJCQiIiIgICAYGBgUFBQSEhIODg4MDAwKCgoICAgGBgYEBAQAAADj4+PV1dXBwcG/v7+9vb23t7ezs7Ovr6+rq6ulpaWhoaGPj4+Li4uJiYmHh4eDg4OBgYF+fn58fHx4eHhycnJvb29sbGxmZmZiYmJeXl5aWlpWVlZUVFRSUlJQUFBOTk5KSkpISEhGRkZERERCQkI+Pj47Ozs4ODg2NjYzMzMwMDAuLi4oKCgkJCQiIiIgICAeHh4cHBwUFBQSEhIODg4ICAgEBAQAAADl5eWrq6unp6ejo6OhoaGdnZ2ZmZmVlZWTk5OPj4+Li4uJiYmHh4eBgYF+fn58fHx4eHh0dHRycnJsbGxqampmZmZiYmJWVlYiIiIaGhoAAADMzMzDw8PBwcG/v7+9vb27u7u5ubm3t7e1tbWzs7OxsbGvr6+tra2pqamnp6elpaWhoaGfn5+dnZ2ZmZmVlZWTk5ORkZGJiYlISEjv7+/p6enj4+PT09PPz8/MzMzJycnHx8fFxcXDw8PBwcG/v7+9vb27u7u5ubm3t7ezs7Ovr6+Li4vf39/Z2dnX19fV1dXT09PR0dHPz8/MzMzJycnHx8e9vb3t7e3l5eXj4+Pf39/d3d3b29vZ2dnX19fV1dXT09PR0dHPz8/MzMzp6enn5+fl5eXj4+Ph4eHf39/d3d3X19fT09O9vb3v7+/t7e3r6+vp6enn5+fl5eXj4+Pf39/Z2dnT09PHx8f19fXz8/Px8fHv7+/t7e3r6+vp6enn5+fl5eXj4+P5+fn39/f19fXz8/Px8fHv7+/t7e3f39/7+/v5+fn39/f19fXz8/Px8fHv7+/////7+/v5+fn39/fz8/P////7+/v///9a1shPAAAA/HRSTlMAERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERESIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzRERERERERERERERERERERERERERERERERFVVVVVVVVVVVVVVVVVVVVVVVVVmZmZmZmZmZmZmZnd3d3d3d3d3d3d3d3eIiIiIiIiIiIiImZmZmZmZmZmZmZmqqqqqqqqqqqqqu7u7u7u7u7vMzMzMzMzM3d3d3d3u7v9/AAjkAAAACXBIWXMAAAsSAAALEgHS3X78AAAAFnRFWHRDcmVhdGlvbiBUaW1lADA2LzEyLzE09BLGOQAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAAA/MSURBVHic7Z15fBTlGcenhz20rbWXKHhU5RDhra22ilal0IpC1VJb1IKlVpmiRUBiuBEBFWIQMXgfAUtIREAIgciVBIpCLjUXeITdRITsJrqHurPp7PzTea+59pjZza7JOzu/z8eoO7PvO893n+d933nned/hOEeOHDly5MiRI0eOHDly5MiRI0eOsAAAvX0JbApAdFpxDkirAonU2xfX15UQngMxsSzBcyDGU1L4HIRGmQByECZUTDLg+1f/+pe/+JesSy+/8rvngpgnOgy5KCryJ6OWvvRyXbPbGwx2h8Pd3YGgx9VWve+lV6YOiQM7m2Xk8WDh7gaPPyJCSaKEJGIJgWMNe/KnOAg10nEAY/P3tfoEUVWISPOJ4G/cmTPJQYikY/D7R/d0aLmJemk/CzVsnfFDB6HW/u9N3+cRJcJJyy0SiRgxouD2NRZfmeUINaYPyGsSZHwqvJAQCLpr6g8eLC8p2bjhrbf217Z4A35B64uS6Cmdms0ENU3fskbofBSf4GmvK189lzd2FROe23ig2uXXOqK/YjqXpQQ1Ri9zK/gkMdxWWZhLDvE64c/uzN9W97ncNxOEUqBqdFYiVC0ecUjANEKSFOp6a/nYKHIGjBy4YtPRIA14SQpuzcIwVg1+w6/Eo7d29WgDPeX/tB/L51wwq7wlRBFGGvOyjKBq7fJW3J5BfG8u0NIzNoD6qJb/647n63z0y769t2QTQsXQG/eGCAHBU3SbSicePcKQnAemzD7sRwjlPx1Z5ISKmf92YXxS5Nha1fcSwjM6Yu7hIAlk4b9naDsmG0sxcq1fwm3Y59sBlxQ+FSHgprVEJPwzNF+ZFQSphT/bE8H8hNoxHEgOnhYi4Io6CcHgo+qh3jYzY6L2XdtIwte7SfGm5IUJjqsP4bKEnUBpP3vb0AyJWvcrL/GalpHx8RkeY0Y95lQQgtcDuLhQpc0JUtuWEYOF8v5x+MUtwUgRf3t6Gy5QrLE1QWr0I6j7kId+BTHxWS5H44Q/rYpgl27qb70c1kQNy/Nhb2keE6PzSLIsihCAInRLI0qN/exKkFr1BOFXMymKXyrlKU6Yj9oFuVm90KZRTGy6l/CrB0Z+KZaoELzPgwiKtUo7mAErek/EpBEeSe4tRfEg7UF7FG/6MH7Ai9vWCq5HhfZNEYtOd2MveTst/IwE53YigpF19msGqUHV+Obf6H9pKBkRzMU+GH7Cds0gsWY75lefPn4GgjOCiKDnOpu5IDFmqYD4HRmq45em0jHB/DCqoukiWxEktlzzBXIP923p5acjyK3FP9J+O3Uk1JQW1IH4Z6abn94HK1EzEV5uI4LEkPW4ASzW8kt3HXLBk9vgQFPqvNA2AIkdN5xENwq1GeGnJZjrQxUdTE8f1QdErDiMHKNrHMgIPy3BjcjVhedsApAYgXtg4akMOaAWIKhBd4uNU+wxGMQ2DIZPkETxQMb4aQnmBOGPFVpvi3tiYkIhnK+Tum7KVACrVUGC/0FB3HqHHQhiCy6Ed6liZFMm+akEQb+PYXXiVo59gMQA6BKi1AwsAkzRYtUFn0Utrqcf8y5ITOrnhh4hFHAW+CmjjxSsVlwQHJUH7WLkVY71foRcfQlqkxo0PYjZV1KEqLjg09AFJfclrLsgvvpT25ADrjYPYDC4ZwRVF2yGLii+lro39w3hq39UdUATfuC03btP6QlCSpB7DE7LSG2MA8QXP6AFpSGYO6B84Dut0smt3wAGJVuj7ILDYe4D8nqWCeJrH4FuTt13W+AHftIqieLJslFA22GnRLBYgB1//TCWXZBcehmK4F3AAj9w1jEJ5vt53p5vfGqXXKXyFztgrR0jWQ5ifOXnozFMYJElgP1d+Mma9MWBkakhVFxwG5o9W84wQHLl02EES/XAZAiDj53jRh4Is8e/rJpvTP1IolqefwjGsFh3FrsEyXWXotuqzdYAnteGAaI1D1+886Ix8dJytfKXGqELBq5lHeCwJuiA3pGWIhhMxABp6nnw3YeSRqjEcDmak1nJbj+Mr/sPfhiQ7w8GJjch2OpJFCBF6H930T1JIqQAn0cxXHExqwCJuXloIrDYzAE5HHeT2hWAdPVS97uz/2lMg7NSMRgPey/J9VdWY5hcdgUEGLzMUgTz/N8/1gDEEEUp/OELyQSyclIVbH39sxkH6IIO2D7eLNkiHkD8KA8itJ7NRc/YRJ2fZYATYBMoVlmKYPmkydEAEUGp+4MXLCfE0eMzAzCGqxgFSIx40gcBFnLWmkD+H8ejASoInzF6YeKqwSloFqglvQ/xvzKRa94G0wH9eRb7kDgA0dBaRvh+gbW2kBwcWgPntLx/YRrgIWi7Z4HZIMYUIF4TFz6+ZYoFhPTYTli5bw7TABugDW2g5wAJQuGTZyfqEcatG4AV6EtPs9kI4mse5oamN5tGsBWAdGHxic1m+V34c567NAxDv4RlgNd7rXXCCsBPEgAkjaEUObFJhzBO3QBcHiRP85kFyE0NQJvLTSOYAnzYFCAaWkdOFE9JNDtBAI5E+RA1TLaB5JKXwWGg8Fo6AWKE4sdv8vHXMxBi49vh6S2ARYLkigvhDb2wCpiOxZIBiOcZIl27JsYplFY2tAWe3chkyjm54lcgQP/z5iYkBZB0J5HOdadzCQnWwhA+Zu7/fVDkil+OQIC56Q1hJZBFsWPbt7gY5VKAaCbDwy5AnnsJAZybbg9UA1n0vfGD+ABhwrTYweTaLy3AwMKMACQT/w2/iQ+wCgI8ybwHZgygjK/r5UQhvF8PkCGCgABEbWBgTiYAoh0/tp4fsxfRhbCHxWXsOoD+B9MOELV/4XfmcKTkmNUrnQiDAPXDmOfSP4yR/7y/hY/XulGA7A9jlqKB9JPpBYjwfbplsTopE7t2ANBA2s0yQHwrtzHN98Ki+OWuxfyS+PmahN+ZTfALLSwDVCYT0uWBqPH733sv8ksS8KMAr0OTCbUMAwQ3oOmsynTdCyN83R9CfEt4UwcEl+mns1gECNCE6mEuPSGMBs6fbVmyJDE/xf/xhOoGJgFGTemnASDk9+nmJUZ+8QGugIMocQ2Ld3LKrQh+qLTI1AksAJTx4caP4DPjB0A5SvOdyzBAwJXCcYwv3yrAeFP6eKu8jxZFu1+Ch0oDq+FjTc94lgGCVYYH64lOjwsQz/6d2KLBl7BXIoe+iXJjm6ew2Amrs+o+/FTJzAsowFhP5RC+Ty3jU+p+QJ/awSZA4III2m/tAUA0cH7vYWvRq617U0iXXMQowAqUaHu5leysWADxwPkj3HdYw6fOxaD0tlxGAaoJlhBBkcX0NgNAPGX64bxY0WsK8M8owdI9kc0+RDFjIUrxrbvYxAzigZMNAOV/Pkui8dPVPAst8KkbyqgDUjPuQUnmnaNNXJB4oC4/ELrul5sXJ9H4aSsG61GS+WZWI1ixAy1zMLWDAFQyVEN01iCp4NXWfDda5hC8ilmAlCBeultnJUuf5+9sp+tE4A7xusbPIj2l3vloAHX0bDZHgVDEkP5oONthdjeHAU6iAOWR3ydJN36aaulSrxJ2HVCJYbzY0MwSbDZeJ4JmnHelhE+tthWNn5gdxHCqJfehHSDaEsw+qWfDlUrocdvbt8cY+VmCgH8JLk+gS/SYBUgJ/vwI2jb/mcS+gA+dCz1QEj6YzfOp4aOV4nk0YQ2Ts9FU1PDlKIYbTWxBh85xS6J4HKbjk9hNeqM84oBT8ZL/gQxHMKcQnIB3PVlpwQXPapW8JbcBnk8Rn/KjHUL7nhQz7YDaIS3sFw6ZtEfwwI8O7fl2D/ApAXxfN3T6rrsYB0jt+Rtchy6G8xPvgwMPDBwEtG9OSjr86DfQVGpknfmzmD4uCmC9svWTaRBHK/n6QAHq+DtvYt0BlUHtALz52EoTj+ghPqWAwU1olfx20wVmfV+EILdORFsxDbAymk4Zn+LwG1C33zGWeQdUXfDMY+jGaoe1hf+p4VO+PMqDRuNFTA+iqagLrsBbgN5vYVyWss0UYI1Eb32Yd0DFKB4cQpvQuq/P3MiW8ivCm9A+bQsHVIN4rh+/7eOSTBGkFc0MoBSG/Wb7rLAixQXfRI4R2pAhx6D+d44bb8Q9xiYOqFo25CjeCn52ZlyQlrkX9ffC47bhp7rgOPy+FJfZWKYntXDrI6il2Gllt1FWRAlyq/CbFjLx8jda3jQBDaGPDLGPA2pckCsV6bsqkp8msFAD4K4jL2S5MbP7LX/VUggOasYEd6SXIC0KjEIvKhWFAnvx0xC81YUJbgdpJKjwG+PCr7wqsxs/DcHpHpztUnqxSrBnRiqlgDkuXPY++/FTAPJguR9bWTkoPQTVMmaS36ZmeMLsVUZFzZQJhvEmnzUXaF+m3sNi5QLWBPDzvCN3pTKT3fcVRVBqPoNL9olb/EK5R7pxqccvALbkp4libiMh6L6XS23eXl8i6o/eiOAym86wYQOIpfGWFYRgYC3QhnFKk89Io5tIJubRHwN7BjCUhuDjHST95fBYoFeSZWE91kH41d9uY34agjyY6SYmux4fYkBoOfuKnn5zpYALE0oHpfQolB1pCN5cHSFWV/xWH8cmthtxD1t6jPwWQd0b6+zIT9/sl/nxi+Ulz9oBRiqYgJ5B1PvpkabWRsj76dtzU9x9nylpCHJPdRGCYvuG2HQSSmbFXVNJfwWhMtW3FzAm1X4ejKuLUIRtxUM4wBsjOSE+jrt2b5Am8n/+WJbw0xMEhV6JbBYdcRUO5KLawvjiuHv3BET8bUmsuUrX/NmZn54g97t6ge63HfHuzrHugYUNAYmmUneWDM8ifjqCPLhkTWOIbuIk+lvL5k02ZTd8QsGeDoEuYhL9ZTeBrOKnHYlAs+8uaY0oNERfY9mqBefHp/enGRtqO0Kiiq96oQGf/flxRoRgnSuixKMohTzNFa+ufuBrp1Ec6N8Xff2KGa+V1rh9dBEJ7HsCh3Os729uKwEdQg4sawyTHgHtuS2Jgt/bVFtRVlael59XvGPHgbpqd9APX9OiniR6D9zPGbwvW/gZfFDuTcC0eq/MhDoXhCjpVm1K6AN6VJTCbUU301TMLOTHGZ1Q/vvHotqAssqLcNIv3FQ+FdwHCkDU1vpZhY/T39USENNer/MIouJqRkHPE0P+9p0rx8XAl238jPMCGMfgES/srHYHQqIkGiVz9XmbKjZffWoselnIjzMgVNqz8ybMW/Xq/pomb4ffBycNI4Lf73W11JeVPDvu7GFKDjqf9fig9E6kzc/n77r1oQXzcmbl5MyaPX/hLbfz2hOSmP+yvUCUYkJS145E3zD3tgm9rWiEOl58InYOPqRYXBBGQDvouPM0vX3pfUXx+Jioty+7T8mh12M5+NIgB14a5MBLhxx2aZIDzpEjR44cOXLkyJEjR44cOXLkyJGjdOr/ODCzC5DKTiMAAAAASUVORK5CYII=);background-size:140px 80px;background-repeat:no-repeat;position:absolute;z-index:6;display:block;height:100%;width:100%;top:0;left:0;background-position:center center}.ng-image-slider .ng-image-slider-container .main .main-inner .img-div .caption{position:absolute;bottom:0;padding:5px;color:#fff;background-image:linear-gradient(to right,rgba(0,0,0,.1),rgba(0,0,0,.25),rgba(0,0,0,.5),rgba(0,0,0,.25),rgba(0,0,0,.1));width:100%;text-align:center;box-sizing:border-box;border-radius:0 0 5px 5px}.ng-image-slider .ng-image-slider-container .main .main-inner:hover .full-screen{transition:all .5s ease-in-out;opacity:1}.ng-image-slider .ng-image-slider-container .main .next,.ng-image-slider .ng-image-slider-container .main .prev{position:absolute;right:10px;top:50%;background-color:#fff;border-radius:50%;cursor:pointer;margin-top:-16px;outline:0;width:35px;height:35px;font-size:35px;line-height:30px;z-index:8;transition:all .5s ease-in-out;text-align:center}.ng-image-slider .ng-image-slider-container .main .next:hover,.ng-image-slider .ng-image-slider-container .main .prev:hover{background-color:#d4cdcd;background-position:-192px -415px}.ng-image-slider .ng-image-slider-container .main .next.disable,.ng-image-slider .ng-image-slider-container .main .prev.disable{color:#bbb;background-color:#fff;opacity:.5;cursor:default}.ng-image-slider .ng-image-slider-container .main .prev{left:10px}.ng-image-slider .ng-image-slider-container .main .prev:hover{background-position:-194px -450px}.ng-image-slider .ng-image-slider-container .ng-main-pagination{background-color:inherit;color:inherit;position:absolute;height:30px;width:calc(100% - 6px);text-align:center;bottom:0;font-size:16px;line-height:30px;border-radius:0 0 5px 5px;margin:0 3px}.ng-image-slider .ng-image-slider-error{height:100%;position:relative;display:flex;justify-content:center;align-items:center}.ng-image-slider .ng-image-slider-error .ng-image-slider-loader{background-image:url(data:image/gif;base64,R0lGODlhQABAAKUAAAQCBISChMTCxDQ2NOzq7KyqrExOTBweHJSSlNTW1PT29FxaXLS2tCwqLAwKDIyKjMzKzERCRPTy9FRWVCQmJJyanNze3Pz+/GRiZLy+vExKTAQGBISGhMTGxOzu7KyurFRSVCQiJJSWlNza3Pz6/FxeXLy6vCwuLAwODIyOjMzOzERGRAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCQAsACwAAAAAQABAAAAG/kCWcEgsGo/IpHLJbDqf0CgRtXg8FiipdjshXL4XwmRLdk7A6Mu4zD6ivOkvIduuCzFxNMbOHCwWA0opeWApfEkgI2gWIEgPhF8Ph0cBhAFHJZAXe0gHHBkmHAdaZ5BrUx6EHnRGGhJoChpRABaaFgBGpXELna9pEqNPA5pfgUYLcHKnRg8keZJPeMScRiglViWsRwKEAlDSmtRkGd1Qw8TGZY/PULS2uGwHvmjAUbp5vHUaCrCyUpV5LvE58EBAhgfBSNUCY2HZpDoDSpRI97CixYsYM2pkgoICBW0bo0Rg4OwCCQYRQkLZIIJQBXgql1TQhCDmkhXELqwIeaCA/gcJBRIOIUcsw8YGyS54CEHEQUlNJBxo/BDnA5ETOb+c0DgPjAQiDbJe2Jqx65evQ5zmjDq1ahGimoxqRIrGA4UiEXKm3NhTAlChQ2ZCqmlTyQbBcSpsKMwkgomSJEzsZdzEAYUGUilr3sw5yYkUCSR4SJCCbGciLJ+CISFi8WkWG+DmyeC6c0tiIk43UE2IRAM+FJhKuZ0zd5sQEL5AEP4kgdgEdZKDgRCFNyQSx+PcfWK9dxsK2qE4zwq9jXTlUYjjrhNCxRcVzJ2c6J7GN/DfWhBDqpBkgwEDmWXkADeQCFBbEQ64d4EKAWLEEiGtIYJGIyE1gEBoEoyAAH4SG4JB4WtGbCAdBAeCSAQABoAAk4kstujii00EAQAh+QQJCQApACwAAAAAQABAAIUEAgSEgoTEwsREQkSsrqwcGhzk5uRsamyUkpT09vQMDgxcWlwkJiR0dnTMysxMSky8urycmpwMCgyMiowkIiTs7ux0cnT8/vwEBgTExsRERkS0trQcHhzs6uxsbmyUlpT8+vwUFhQsLix8fnzMzsxMTky8vrycnpyMjowAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/sCUcEgsGo/IpHLJbDqf0Kh0Sl0uMheQY1HtOj+XsPjjLSMX4vSFa24LHWqxw90GgOJhEICeFE02GxMiSQAJeFl7fEUAE3dpE4lGcHhzikUThxNnh2xIEiMZGSMSUyKHYYNHCHERSgokaSQKUpinmmeTW0sBcQFSEKcXEG1YapVQwKfDZpNpx08owShtvGq+UaanqWWvsbNS0XjTbhIBGQ4BpFMA4WkokZZdIigQGyjb8fn6+/z9/v8AAxLB8MCDhwcYBD7x0CFNhQMKmZw4dCJikgPBPASkwMBThWAV1PHjkIuCkRLBwmjw1+zCMyEWUl5o0I9CnI5EYqakyY/B/s0iKFM+YOnMiISPp0L64wDrAgmTRjwEgwiQAU4kE/FUtJjEAtIwFSxwXSKhoIUHIseqXcu2bRIFVr+5JTJggyMQGwbMTYEBDJ4I8NRGCIagrQaZK9eakGnCTYgGFkJIkeAoGIi0AylQSMikgIEwBgpgk4nKyAMIdyGUWDIizYjRpPFJIHCIgFwjrcW8hkJZ5uUhGAQEE8DZSIGGFzqIjrI4ZeMhtYLdOvK4wfIoA2TqFRKi8qkEki0NPlV4CEbSVBVhGM+qeAr2KbfGG4A6D4TtRGiTJsBPQlwk8AUjn0XnyZSeRQV4dwgI4Y0V3SnjqCVBMYc4gBlXCugXh217CZVgwl0mrOZGEAAh+QQJCQAyACwAAAAAQABAAIUEAgSEgoREQkTEwsQkIiSkoqRsamzk4uT08vQUFhRUVlQ0MjS0srSUlpR0dnQMCgxMSkzU0tSsqqzs6uz8+vw8OjzMyswsLix0cnQcHhxcXly8vrycnpwEBgSEhoRERkTExsQkJiSkpqRsbmzk5uT09vQcGhxcWlw0NjS0trScmpx8fnwMDgxMTkysrqzs7uz8/vw8PjwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/kCZcEgsGo/IpHLJbDqf0Kh0Sq1ar8lLilJKXbBg5AUBK8MQ37BamDKbU2s1gOIuUwBxZYdA6CwBJXUwd3lHDwETZS8BD0ptdXCFRR0bght+SAtkZmhNHXhVAYJlAUpaFBQpC0wsHAglHCxTHYmjE5hgIm4iUyGjZiFhD3RmFLhPvr8wwWAdxHbHTrS/t2oSbhJUHr8eaywFrwWyswOCA9FgAKBVDx4vZQiMkmEAIX3z+Pn6+/z9/v8AA06p0AAECBUVBDLpwEEQB3QKhzQcxSHikRjKYMTwl8ABhgRIJv6qyM8EiTIkTByxkNFCvxVuVqxs+TLmEZEU+5moNUGl/hGMyjb26+jA55ECvwpYPNIBaZ0CEJfKiKHCoAqhUrNq3cq1q8IKATgUCJCwSgcII0ZAiEoFBcs6FlBMGVFLkYEwCp7VKXEiCk43JK2g0CuIglwnBjKOsAIgQsYyEdYpefBO2YtGVAQ8NiOgSYvNH6ps2wyjGxMMmx0gAYDixAkUkodcI53tdGojAAwccEPCQGxdtD1vhjDJxS8Xx0ZvNr2EcsbLRVRkbEDkA2kYnZuMyHiXyALCglYJabw58pO/ZgIPkf5YBZEK4N1QKPsEQ2V4i404fhyhSN5fFPQlxQNoYbAWErs9doARbgkSFz77ZdQfbjF4UEABHsQQWx4NKWzmnlQobHaYVOi58WFWHTDwCwNsCZTbSWZM4JtXMgBQgQYaVLDhFUEAACH5BAkJACoALAAAAABAAEAAhQQCBISChDw6PMTGxOTm5CQiJFRWVKSipNTW1CwuLAwODJSWlERGRGxqbMzOzPT29LS2tNze3AwKDERCRCwqLGRiZDQ2NJyenPz+/AQGBISGhDw+PMzKzCQmJFxaXKyqrNza3DQyNBQWFJyanExKTGxubNTS1Pz6/Ly6vOTi5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAb+QJVwSCwaj8ikcslsOp/QqHRKrVqvS0oHy10WHBiMqdAtF03hsMPM7qTTFHaZ8g7H5UqRyIlOm/BJJH0IJEwFfWOARwx1GAxNFHdNEgYeElYIjQhsEpkYCJdTIo1he2UVbxVUo6SmXahpqlQgjSBsCp4gClWMdYWcHpZXJLQYIL+KXHrJzM3Oz9DR0tPUzgIBFwcBAtVMFhyNHBZJEiEhGdEGJ6QYDx5GGRoPYQ8a6M0C8+wYJ+NDCn3eONiVDEDAfSYADFnAbgGzCfvqTBCiQF+jBwQBaYj4RoOQEBH9AfrAMc0HIRZCJiNZEsNJFQrWkToRSmNLDB6FMCTlMFn+r5ITKR4MYyIjIIMlExKJJ/OEPWsy2Z3gZkSChRA1namT+q7bkW/hRHo1AmCDhgMHNGxQOLat27djJVSAAAIBhAb3pghYMGDACKpdLKRolEKskwwXGl3IayUfuweAnSQmdQGLhMH7UjBesiHihisNSjZ4MpldZSsoSqJ4Am4fhysRSkZgHfE1kgQBPqRNgCQ2x9mSI54uImHnmxGbVaTmuNpJ532fiwBY3ggF2yElSpaAcoDdgSOh940mIoFAxBRGmWToXudAchW+2QEnMsFinalTNozoOyK6kQIlkVGEAJi9kUJkcoDEkWFCSNAAXSCgUEFWeADIkYBuxUdKCnAgqRAeO+O9lQF1dVjXoQqINYLciUOEoMEHH2gQAovQBAEAIfkECQkAMAAsAAAAAEAAQACFBAIEhIKEREJExMbEJCIk5ObkbGpsrKqsFBIUNDI09Pb03NrcVFJUdHZ0tLa0DAoMlJKULCos7O7sHBocPDo8zM7MtLK0/P785OLkXFpcfH58BAYEhIaETEpMzMrMJCYk7OrsbG5srK6sFBYUNDY0/Pr83N7cVFZUfHp8vLq8DA4MlJaULC4s9PL0HB4cPD48AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABv5AmHBILBqPyKRyyWw6n9CodEqtWq/YbHaiCUy0YCNBcrlICEwAi8FgAcJMTbkcUG5QhfmlgNrAkwF6GkkjA3p6AyN/R2NlZ0gbHoeHA35SGwIvD04TAV5JDSWTh4NRCSZlJglZAHmjeiBvTw+ocwWbVwmvkyRQL5MvWBm7hxm+wMLEesazrmW3WLrKZb1Qp6mrWBsg0yCWUA8CArhZDdOli1GRxB7f6VCFr4nvVHfccyB99FYACWwJsvYJHEiwoMEwDww4WLDAgQF3B5WQqKUHQ7UjAD58CDjwhahRCigcOYGhDIYTBGkRwwDxxCSUAg1MM0Ck1SQMHNOlmJaCyP6HVx8EUtxlwidQgSWVFR1i81CBnIt2KutJxGWxgTKVhTCSIenJlM5GYVCBMUIEqPQ8viohMqISCkkrtnVrRyHDFA/p6t3Lt69fOA/MkqvyIEECiFk+HFBQpsSBoFM2cGB8QQEHxFU6tJjUooMUFRUmVSCLJcJmkBGirHi1IssBYgegqPg4SQFpwrRHlRi8RNqri1RYTGPxhAQx4Ece8C4iXBlxJ7PXLhfyoMGCMgv0GXmQe9JuKKtHtT6CwNAhDwiOvN4VW3boQxXSHxHxysKRD6c5p47ygMPHEhxMB4NvoyAnhGaceUbFAyQkIKAQcuyCThERiPCfCPvRAwExEC8o8QALLDwIBwrEoPCXEMbtYiBfFtR34hAIvKdHfC8O8QAKtZiAgoh+qcBjjYsEAQAh+QQJCQAuACwAAAAAQABAAIUEAgSMioxEQkTMysxkYmTk5uQkIiSsqqxUUlT09vSUlpTc2tx0cnQcGhwsLiwMCgxMSkzU0tRsamzs7uxcWlyUkpQsKiy0trT8/vycnpwEBgSMjoxERkTMzsxkZmTs6uwkJiSsrqxUVlT8+vycmpzk4uR8enw0MjQMDgxMTkzU1tRsbmz08vRcXlwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/kCXcEgsGo8ayCYU2kAAx6h0Sp1yVJisdiGoer9fz0hLxowk4LR6yBmXy921nKrBvssqzXx/TN3vCHyCQxV/bxWDgxeGZRdHBisKFSsGiVOLjFqORA8kblkjGQ+WR4WZWYhDDwN/A6OkRAinWYFDCowZcycBGydRAHaMC1BCBp93I5VqDglZCQ5RbZlxQgynDGu3WgpSYn9nRSSnuWqmWdxSAgtvXEYZ42sObiPQUwBKTBVPR9aZ2GsnNvQiZYzRCBCwBL0zRC7hngcd/nR45XAPioVkMqComMgAAwUkGCjjSLKkyZMoU6o0+cCCBYorwYA40MzMAYQxvUBg8YYF/gQpKCBA2KjSAs87CSwcETAhywRqJw8wOmAERVMtE4iyrPkNpgs/ZVKgdHCq3hCwZMSePFG2iFUyWVE+OPZmhFcXAo6ygGpSqiGqR4IOXWn0DwulOafs7PkzMRULIeaFQOy4ygMHDu5W3sy5s+fPoCuioBAgAAWtcwCAAEEMlogPZD6I2COiRJYSs0mJ+JNbze4yvQWhgH3nA2ovAAq8KdGaDwFGBNSA+INT0AZGG6RTTxSAUQA1yd8UaG4EAAcTJjiQJ/LcUHTfbyhMARGBTATKbq++ibuGgm0MuE3RgHJlFNBAFL/FtwcALq1XhDZvoHMEBcRlIRtKBIo3BQoELpTWwnEcacCIHqFVWMYHoQkBYRkSgjbgGx8cmKILFgSDgQr4pWgeevvM6CNnQQAAIfkECQkAJgAsAAAAAEAAQACFBAIEhIaEREJExMbEJCIkZGJktLK07OrsnJqcVFZUDA4MNDI0/Pr8jI6M5OLkdHZ0TEpMzM7MLCosvL689PL0XF5cFBYUBAYEjIqMzMrMJCYkZGZk7O7snJ6cXFpcFBIUNDY0/P78lJKUfHp8TE5MxMLEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABv5Ak3BILBqPyKRyyWyaPo/BwTF4KJzYrBJyCHm/B4h2PIYwvugQQ0xuLxWcdJrzcduPI7l8dGcSAhkOBwMBBEcDemkDfUkAAWdpDBgARXGJXxSMRxcGlyEGlEMUnl6ZRgAFE1MTBRdaAaQhGESIpItFFrVoAxZYGpCeDBpDeaR8RAC6iq5NDbFeDUMflol0RQWeG04RzyERRGaXbEQlnhNOo8+mQwLUXxzjRO5yHE7zl+vSI1IHGSNXR9JV29btm5tyl841EdEtmpsN2Zz8isVAgh0AGRJlCNUEQ6xZdyxkTJOhFxZOngwwuwNgQ4kDB0ps4IgFAAZgXyTR1NRHQ/6ACDAjYDDEs6jRo0iTKl3KtKlTIQo8YMDgAeBTLQm6gElwNUuCRFyRgOiAAERXBVrlHLBKZEG6ilexXSpwBAGaDledXXJYpMPdqx4vgSyyABKDBVcreKJ7REKHDoivwqnGtmuSr3o8WHbiIW2IA2E3N1FQYGqFOqJTq17NurXr17Bj90kwgAGFAaHbKIAAoTIjhmlEuGnnhYOAopjl5MYy+Z1vNyPl3NJCQg4JTQBwomGws0n1NNcZARAYqTuT5sWft4muqI2AdBSOM1kwYoRZJcnTLM+yuzcTAH590YF5QwCHhnBOPSDHA0t4UBsDA2j2lANyOCCbEAAkQiBrFBqmYeGFJiiYBoMgAnjXhq6BUN99ILboYmxBAAAh+QQJCQAnACwAAAAAQABAAIUEAgSMiozExsRUUlQkIiSkpqTk5uQUEhQ0MjS0srT09vScmpx8enwMCgw8Ojzk4uRcWlwsKiysrqz08vQcHhy8urz8/vykoqQEBgSUkpTMzsxUVlQkJiSsqqzs6uwUFhQ0NjS0trT8+vycnpx8fnwMDgw8PjwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/sCTcEgsGo/IpHLJbA4PINDBSa02ESGRxSIKIazg8Gmj3ZpFG7GaiVCY39zIen4MweEhuhNDoWCSB2V3WyJTekkOEm4WChIORw6DcI+HRgABkgEARSCSb5RHBAMDHGKYngFFB55mhkUEFW8VBFYmrFsmRXaeFUcUBnceFFUJtxZ5RAiCcCJyRrGDvXuLrAp/RBDLhGlGHKylTd7GFuDJFWUiFV9HG6zcTOLG5aogDq5HA+572oMi12IEvlEpdisBHWh3pDmxdSvXHAIegtGqcirToQ8SZE2scinTpkqiSK1JhC4BqEooMRDwg7Kly5cnMHyEqcfBCGAWDIw4SdNK/oMCkgo06GmlhAZWGu4RXdLBWIelQjYIEKFAwDshkcbxfFnRTAYiQMcVIApB0jucxgwQFSBJwJBxZobCBMCP0Ee4W+S+BECN2ceI4zysbTskrLGxPcsOepfV2FaXGe58BesU6gkIU0UIgGDEKFK9lpWUaDqoA+jQSxxceLDlwYXHqJlg+Be7tu3buHPr3s3bSYQsCkI4UwNixAIQLiNMeDNhOJg2hJzr2fUGWZgFb0agpHtHxEwrI7Jv72tXjDJC6ypRN2M9TIQLI9JXUs5cOtEBBToMaPJbRBf7PTHwBgO9HVHCMiKUUGARCNwh34IHvpHggkUIaAYJFBoxQAf6CWXo4YcghmhEEAA7YnVPZzU3UnNDZXVsS2VVYlhjelFTNkFCd2NQbHA4Umg0WUJramlqdElnNVhRWVphVGtSTmNwSno1Zm5mZ0ZOWA==);background-repeat:no-repeat;background-position:center center;background-size:25px 25px;width:25px;height:25px}.close-outside{height:100%;width:100%;position:absolute;top:0;left:0}@media (max-width: 1199px){.ng-image-slider .ng-image-slider-container .main .main-inner .img-div{width:170px;max-width:100%}}@media (max-width: 991px){.ng-image-slider .ng-image-slider-container .main .main-inner .img-div{width:297px;max-width:100%}}@media (max-width: 768px){.ng-image-slider .ng-image-slider-container .main .main-inner .img-div{width:247px;max-width:100%}}@media (max-width: 576px){.ng-image-slider .ng-image-slider-container .main .main-inner .img-div{width:350px;max-width:100%}}.ng-image-fullscreen-view{position:fixed;z-index:1031;background-color:#0009;width:100%;height:100%;top:0px;overflow:hidden;transition:all .5s ease-in-out;left:0;text-align:center}.ng-image-fullscreen-view.image-fullview-hide{display:none!important}.ng-image-fullscreen-view .lightbox-wrapper{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#1f1f1f;transition:all .5s ease;display:flex;justify-content:center;align-items:center}.ng-image-fullscreen-view .lightbox-wrapper.ng-ligthbox-pagination{height:calc(100% - 30px)}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div{width:100%;height:100%;border:1px solid;border-color:#00000059;position:relative;overflow:hidden}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .pre-loader{background-color:inherit;width:100%;height:100%}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .pre-loader .mnml-spinner{background-image:url(data:image/gif;base64,R0lGODlhQABAAKUAAAQCBISChMTCxDQ2NOzq7KyqrExOTBweHJSSlNTW1PT29FxaXLS2tCwqLAwKDIyKjMzKzERCRPTy9FRWVCQmJJyanNze3Pz+/GRiZLy+vExKTAQGBISGhMTGxOzu7KyurFRSVCQiJJSWlNza3Pz6/FxeXLy6vCwuLAwODIyOjMzOzERGRAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCQAsACwAAAAAQABAAAAG/kCWcEgsGo/IpHLJbDqf0CgRtXg8FiipdjshXL4XwmRLdk7A6Mu4zD6ivOkvIduuCzFxNMbOHCwWA0opeWApfEkgI2gWIEgPhF8Ph0cBhAFHJZAXe0gHHBkmHAdaZ5BrUx6EHnRGGhJoChpRABaaFgBGpXELna9pEqNPA5pfgUYLcHKnRg8keZJPeMScRiglViWsRwKEAlDSmtRkGd1Qw8TGZY/PULS2uGwHvmjAUbp5vHUaCrCyUpV5LvE58EBAhgfBSNUCY2HZpDoDSpRI97CixYsYM2pkgoICBW0bo0Rg4OwCCQYRQkLZIIJQBXgql1TQhCDmkhXELqwIeaCA/gcJBRIOIUcsw8YGyS54CEHEQUlNJBxo/BDnA5ETOb+c0DgPjAQiDbJe2Jqx65evQ5zmjDq1ahGimoxqRIrGA4UiEXKm3NhTAlChQ2ZCqmlTyQbBcSpsKMwkgomSJEzsZdzEAYUGUilr3sw5yYkUCSR4SJCCbGciLJ+CISFi8WkWG+DmyeC6c0tiIk43UE2IRAM+FJhKuZ0zd5sQEL5AEP4kgdgEdZKDgRCFNyQSx+PcfWK9dxsK2qE4zwq9jXTlUYjjrhNCxRcVzJ2c6J7GN/DfWhBDqpBkgwEDmWXkADeQCFBbEQ64d4EKAWLEEiGtIYJGIyE1gEBoEoyAAH4SG4JB4WtGbCAdBAeCSAQABoAAk4kstujii00EAQAh+QQJCQApACwAAAAAQABAAIUEAgSEgoTEwsREQkSsrqwcGhzk5uRsamyUkpT09vQMDgxcWlwkJiR0dnTMysxMSky8urycmpwMCgyMiowkIiTs7ux0cnT8/vwEBgTExsRERkS0trQcHhzs6uxsbmyUlpT8+vwUFhQsLix8fnzMzsxMTky8vrycnpyMjowAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/sCUcEgsGo/IpHLJbDqf0Kh0Sl0uMheQY1HtOj+XsPjjLSMX4vSFa24LHWqxw90GgOJhEICeFE02GxMiSQAJeFl7fEUAE3dpE4lGcHhzikUThxNnh2xIEiMZGSMSUyKHYYNHCHERSgokaSQKUpinmmeTW0sBcQFSEKcXEG1YapVQwKfDZpNpx08owShtvGq+UaanqWWvsbNS0XjTbhIBGQ4BpFMA4WkokZZdIigQGyjb8fn6+/z9/v8AAxLB8MCDhwcYBD7x0CFNhQMKmZw4dCJikgPBPASkwMBThWAV1PHjkIuCkRLBwmjw1+zCMyEWUl5o0I9CnI5EYqakyY/B/s0iKFM+YOnMiISPp0L64wDrAgmTRjwEgwiQAU4kE/FUtJjEAtIwFSxwXSKhoIUHIseqXcu2bRIFVr+5JTJggyMQGwbMTYEBDJ4I8NRGCIagrQaZK9eakGnCTYgGFkJIkeAoGIi0AylQSMikgIEwBgpgk4nKyAMIdyGUWDIizYjRpPFJIHCIgFwjrcW8hkJZ5uUhGAQEE8DZSIGGFzqIjrI4ZeMhtYLdOvK4wfIoA2TqFRKi8qkEki0NPlV4CEbSVBVhGM+qeAr2KbfGG4A6D4TtRGiTJsBPQlwk8AUjn0XnyZSeRQV4dwgI4Y0V3SnjqCVBMYc4gBlXCugXh217CZVgwl0mrOZGEAAh+QQJCQAyACwAAAAAQABAAIUEAgSEgoREQkTEwsQkIiSkoqRsamzk4uT08vQUFhRUVlQ0MjS0srSUlpR0dnQMCgxMSkzU0tSsqqzs6uz8+vw8OjzMyswsLix0cnQcHhxcXly8vrycnpwEBgSEhoRERkTExsQkJiSkpqRsbmzk5uT09vQcGhxcWlw0NjS0trScmpx8fnwMDgxMTkysrqzs7uz8/vw8PjwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/kCZcEgsGo/IpHLJbDqf0Kh0Sq1ar8lLilJKXbBg5AUBK8MQ37BamDKbU2s1gOIuUwBxZYdA6CwBJXUwd3lHDwETZS8BD0ptdXCFRR0bght+SAtkZmhNHXhVAYJlAUpaFBQpC0wsHAglHCxTHYmjE5hgIm4iUyGjZiFhD3RmFLhPvr8wwWAdxHbHTrS/t2oSbhJUHr8eaywFrwWyswOCA9FgAKBVDx4vZQiMkmEAIX3z+Pn6+/z9/v8AA06p0AAECBUVBDLpwEEQB3QKhzQcxSHikRjKYMTwl8ABhgRIJv6qyM8EiTIkTByxkNFCvxVuVqxs+TLmEZEU+5moNUGl/hGMyjb26+jA55ECvwpYPNIBaZ0CEJfKiKHCoAqhUrNq3cq1q8IKATgUCJCwSgcII0ZAiEoFBcs6FlBMGVFLkYEwCp7VKXEiCk43JK2g0CuIglwnBjKOsAIgQsYyEdYpefBO2YtGVAQ8NiOgSYvNH6ps2wyjGxMMmx0gAYDixAkUkodcI53tdGojAAwccEPCQGxdtD1vhjDJxS8Xx0ZvNr2EcsbLRVRkbEDkA2kYnZuMyHiXyALCglYJabw58pO/ZgIPkf5YBZEK4N1QKPsEQ2V4i404fhyhSN5fFPQlxQNoYbAWErs9doARbgkSFz77ZdQfbjF4UEABHsQQWx4NKWzmnlQobHaYVOi58WFWHTDwCwNsCZTbSWZM4JtXMgBQgQYaVLDhFUEAACH5BAkJACoALAAAAABAAEAAhQQCBISChDw6PMTGxOTm5CQiJFRWVKSipNTW1CwuLAwODJSWlERGRGxqbMzOzPT29LS2tNze3AwKDERCRCwqLGRiZDQ2NJyenPz+/AQGBISGhDw+PMzKzCQmJFxaXKyqrNza3DQyNBQWFJyanExKTGxubNTS1Pz6/Ly6vOTi5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAb+QJVwSCwaj8ikcslsOp/QqHRKrVqvS0oHy10WHBiMqdAtF03hsMPM7qTTFHaZ8g7H5UqRyIlOm/BJJH0IJEwFfWOARwx1GAxNFHdNEgYeElYIjQhsEpkYCJdTIo1he2UVbxVUo6SmXahpqlQgjSBsCp4gClWMdYWcHpZXJLQYIL+KXHrJzM3Oz9DR0tPUzgIBFwcBAtVMFhyNHBZJEiEhGdEGJ6QYDx5GGRoPYQ8a6M0C8+wYJ+NDCn3eONiVDEDAfSYADFnAbgGzCfvqTBCiQF+jBwQBaYj4RoOQEBH9AfrAMc0HIRZCJiNZEsNJFQrWkToRSmNLDB6FMCTlMFn+r5ITKR4MYyIjIIMlExKJJ/OEPWsy2Z3gZkSChRA1namT+q7bkW/hRHo1AmCDhgMHNGxQOLat27djJVSAAAIBhAb3pghYMGDACKpdLKRolEKskwwXGl3IayUfuweAnSQmdQGLhMH7UjBesiHihisNSjZ4MpldZSsoSqJ4Am4fhysRSkZgHfE1kgQBPqRNgCQ2x9mSI54uImHnmxGbVaTmuNpJ532fiwBY3ggF2yElSpaAcoDdgSOh940mIoFAxBRGmWToXudAchW+2QEnMsFinalTNozoOyK6kQIlkVGEAJi9kUJkcoDEkWFCSNAAXSCgUEFWeADIkYBuxUdKCnAgqRAeO+O9lQF1dVjXoQqINYLciUOEoMEHH2gQAovQBAEAIfkECQkAMAAsAAAAAEAAQACFBAIEhIKEREJExMbEJCIk5ObkbGpsrKqsFBIUNDI09Pb03NrcVFJUdHZ0tLa0DAoMlJKULCos7O7sHBocPDo8zM7MtLK0/P785OLkXFpcfH58BAYEhIaETEpMzMrMJCYk7OrsbG5srK6sFBYUNDY0/Pr83N7cVFZUfHp8vLq8DA4MlJaULC4s9PL0HB4cPD48AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABv5AmHBILBqPyKRyyWw6n9CodEqtWq/YbHaiCUy0YCNBcrlICEwAi8FgAcJMTbkcUG5QhfmlgNrAkwF6GkkjA3p6AyN/R2NlZ0gbHoeHA35SGwIvD04TAV5JDSWTh4NRCSZlJglZAHmjeiBvTw+ocwWbVwmvkyRQL5MvWBm7hxm+wMLEesazrmW3WLrKZb1Qp6mrWBsg0yCWUA8CArhZDdOli1GRxB7f6VCFr4nvVHfccyB99FYACWwJsvYJHEiwoMEwDww4WLDAgQF3B5WQqKUHQ7UjAD58CDjwhahRCigcOYGhDIYTBGkRwwDxxCSUAg1MM0Ck1SQMHNOlmJaCyP6HVx8EUtxlwidQgSWVFR1i81CBnIt2KutJxGWxgTKVhTCSIenJlM5GYVCBMUIEqPQ8viohMqISCkkrtnVrRyHDFA/p6t3Lt69fOA/MkqvyIEECiFk+HFBQpsSBoFM2cGB8QQEHxFU6tJjUooMUFRUmVSCLJcJmkBGirHi1IssBYgegqPg4SQFpwrRHlRi8RNqri1RYTGPxhAQx4Ece8C4iXBlxJ7PXLhfyoMGCMgv0GXmQe9JuKKtHtT6CwNAhDwiOvN4VW3boQxXSHxHxysKRD6c5p47ygMPHEhxMB4NvoyAnhGaceUbFAyQkIKAQcuyCThERiPCfCPvRAwExEC8o8QALLDwIBwrEoPCXEMbtYiBfFtR34hAIvKdHfC8O8QAKtZiAgoh+qcBjjYsEAQAh+QQJCQAuACwAAAAAQABAAIUEAgSMioxEQkTMysxkYmTk5uQkIiSsqqxUUlT09vSUlpTc2tx0cnQcGhwsLiwMCgxMSkzU0tRsamzs7uxcWlyUkpQsKiy0trT8/vycnpwEBgSMjoxERkTMzsxkZmTs6uwkJiSsrqxUVlT8+vycmpzk4uR8enw0MjQMDgxMTkzU1tRsbmz08vRcXlwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/kCXcEgsGo8ayCYU2kAAx6h0Sp1yVJisdiGoer9fz0hLxowk4LR6yBmXy921nKrBvssqzXx/TN3vCHyCQxV/bxWDgxeGZRdHBisKFSsGiVOLjFqORA8kblkjGQ+WR4WZWYhDDwN/A6OkRAinWYFDCowZcycBGydRAHaMC1BCBp93I5VqDglZCQ5RbZlxQgynDGu3WgpSYn9nRSSnuWqmWdxSAgtvXEYZ42sObiPQUwBKTBVPR9aZ2GsnNvQiZYzRCBCwBL0zRC7hngcd/nR45XAPioVkMqComMgAAwUkGCjjSLKkyZMoU6o0+cCCBYorwYA40MzMAYQxvUBg8YYF/gQpKCBA2KjSAs87CSwcETAhywRqJw8wOmAERVMtE4iyrPkNpgs/ZVKgdHCq3hCwZMSePFG2iFUyWVE+OPZmhFcXAo6ygGpSqiGqR4IOXWn0DwulOafs7PkzMRULIeaFQOy4ygMHDu5W3sy5s+fPoCuioBAgAAWtcwCAAEEMlogPZD6I2COiRJYSs0mJ+JNbze4yvQWhgH3nA2ovAAq8KdGaDwFGBNSA+INT0AZGG6RTTxSAUQA1yd8UaG4EAAcTJjiQJ/LcUHTfbyhMARGBTATKbq++ibuGgm0MuE3RgHJlFNBAFL/FtwcALq1XhDZvoHMEBcRlIRtKBIo3BQoELpTWwnEcacCIHqFVWMYHoQkBYRkSgjbgGx8cmKILFgSDgQr4pWgeevvM6CNnQQAAIfkECQkAJgAsAAAAAEAAQACFBAIEhIaEREJExMbEJCIkZGJktLK07OrsnJqcVFZUDA4MNDI0/Pr8jI6M5OLkdHZ0TEpMzM7MLCosvL689PL0XF5cFBYUBAYEjIqMzMrMJCYkZGZk7O7snJ6cXFpcFBIUNDY0/P78lJKUfHp8TE5MxMLEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABv5Ak3BILBqPyKRyyWyaPo/BwTF4KJzYrBJyCHm/B4h2PIYwvugQQ0xuLxWcdJrzcduPI7l8dGcSAhkOBwMBBEcDemkDfUkAAWdpDBgARXGJXxSMRxcGlyEGlEMUnl6ZRgAFE1MTBRdaAaQhGESIpItFFrVoAxZYGpCeDBpDeaR8RAC6iq5NDbFeDUMflol0RQWeG04RzyERRGaXbEQlnhNOo8+mQwLUXxzjRO5yHE7zl+vSI1IHGSNXR9JV29btm5tyl841EdEtmpsN2Zz8isVAgh0AGRJlCNUEQ6xZdyxkTJOhFxZOngwwuwNgQ4kDB0ps4IgFAAZgXyTR1NRHQ/6ACDAjYDDEs6jRo0iTKl3KtKlTIQo8YMDgAeBTLQm6gElwNUuCRFyRgOiAAERXBVrlHLBKZEG6ilexXSpwBAGaDledXXJYpMPdqx4vgSyyABKDBVcreKJ7REKHDoivwqnGtmuSr3o8WHbiIW2IA2E3N1FQYGqFOqJTq17NurXr17Bj90kwgAGFAaHbKIAAoTIjhmlEuGnnhYOAopjl5MYy+Z1vNyPl3NJCQg4JTQBwomGws0n1NNcZARAYqTuT5sWft4muqI2AdBSOM1kwYoRZJcnTLM+yuzcTAH590YF5QwCHhnBOPSDHA0t4UBsDA2j2lANyOCCbEAAkQiBrFBqmYeGFJiiYBoMgAnjXhq6BUN99ILboYmxBAAAh+QQJCQAnACwAAAAAQABAAIUEAgSMiozExsRUUlQkIiSkpqTk5uQUEhQ0MjS0srT09vScmpx8enwMCgw8Ojzk4uRcWlwsKiysrqz08vQcHhy8urz8/vykoqQEBgSUkpTMzsxUVlQkJiSsqqzs6uwUFhQ0NjS0trT8+vycnpx8fnwMDgw8PjwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/sCTcEgsGo/IpHLJbA4PINDBSa02ESGRxSIKIazg8Gmj3ZpFG7GaiVCY39zIen4MweEhuhNDoWCSB2V3WyJTekkOEm4WChIORw6DcI+HRgABkgEARSCSb5RHBAMDHGKYngFFB55mhkUEFW8VBFYmrFsmRXaeFUcUBnceFFUJtxZ5RAiCcCJyRrGDvXuLrAp/RBDLhGlGHKylTd7GFuDJFWUiFV9HG6zcTOLG5aogDq5HA+572oMi12IEvlEpdisBHWh3pDmxdSvXHAIegtGqcirToQ8SZE2scinTpkqiSK1JhC4BqEooMRDwg7Kly5cnMHyEqcfBCGAWDIw4SdNK/oMCkgo06GmlhAZWGu4RXdLBWIelQjYIEKFAwDshkcbxfFnRTAYiQMcVIApB0jucxgwQFSBJwJBxZobCBMCP0Ee4W+S+BECN2ceI4zysbTskrLGxPcsOepfV2FaXGe58BesU6gkIU0UIgGDEKFK9lpWUaDqoA+jQSxxceLDlwYXHqJlg+Be7tu3buHPr3s3bSYQsCkI4UwNixAIQLiNMeDNhOJg2hJzr2fUGWZgFb0agpHtHxEwrI7Jv72tXjDJC6ypRN2M9TIQLI9JXUs5cOtEBBToMaPJbRBf7PTHwBgO9HVHCMiKUUGARCNwh34IHvpHggkUIaAYJFBoxQAf6CWXo4YcghmhEEAA7YnVPZzU3UnNDZXVsS2VVYlhjelFTNkFCd2NQbHA4Umg0WUJramlqdElnNVhRWVphVGtSTmNwSno1Zm5mZ0ZOWA==);background-repeat:no-repeat;background-position:center center;width:100%;height:100%}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main{display:grid;grid-template-columns:repeat(6,1fr);grid-template-rows:100%;grid-column-gap:0px;height:100%}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image{width:1299px;height:100%;position:relative}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image .custom-image-main.ng-fullimage-loading{background-image:url(data:image/gif;base64,R0lGODlhQABAAKUAAAQCBISChMTCxDQ2NOzq7KyqrExOTBweHJSSlNTW1PT29FxaXLS2tCwqLAwKDIyKjMzKzERCRPTy9FRWVCQmJJyanNze3Pz+/GRiZLy+vExKTAQGBISGhMTGxOzu7KyurFRSVCQiJJSWlNza3Pz6/FxeXLy6vCwuLAwODIyOjMzOzERGRAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCQAsACwAAAAAQABAAAAG/kCWcEgsGo/IpHLJbDqf0CgRtXg8FiipdjshXL4XwmRLdk7A6Mu4zD6ivOkvIduuCzFxNMbOHCwWA0opeWApfEkgI2gWIEgPhF8Ph0cBhAFHJZAXe0gHHBkmHAdaZ5BrUx6EHnRGGhJoChpRABaaFgBGpXELna9pEqNPA5pfgUYLcHKnRg8keZJPeMScRiglViWsRwKEAlDSmtRkGd1Qw8TGZY/PULS2uGwHvmjAUbp5vHUaCrCyUpV5LvE58EBAhgfBSNUCY2HZpDoDSpRI97CixYsYM2pkgoICBW0bo0Rg4OwCCQYRQkLZIIJQBXgql1TQhCDmkhXELqwIeaCA/gcJBRIOIUcsw8YGyS54CEHEQUlNJBxo/BDnA5ETOb+c0DgPjAQiDbJe2Jqx65evQ5zmjDq1ahGimoxqRIrGA4UiEXKm3NhTAlChQ2ZCqmlTyQbBcSpsKMwkgomSJEzsZdzEAYUGUilr3sw5yYkUCSR4SJCCbGciLJ+CISFi8WkWG+DmyeC6c0tiIk43UE2IRAM+FJhKuZ0zd5sQEL5AEP4kgdgEdZKDgRCFNyQSx+PcfWK9dxsK2qE4zwq9jXTlUYjjrhNCxRcVzJ2c6J7GN/DfWhBDqpBkgwEDmWXkADeQCFBbEQ64d4EKAWLEEiGtIYJGIyE1gEBoEoyAAH4SG4JB4WtGbCAdBAeCSAQABoAAk4kstujii00EAQAh+QQJCQApACwAAAAAQABAAIUEAgSEgoTEwsREQkSsrqwcGhzk5uRsamyUkpT09vQMDgxcWlwkJiR0dnTMysxMSky8urycmpwMCgyMiowkIiTs7ux0cnT8/vwEBgTExsRERkS0trQcHhzs6uxsbmyUlpT8+vwUFhQsLix8fnzMzsxMTky8vrycnpyMjowAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/sCUcEgsGo/IpHLJbDqf0Kh0Sl0uMheQY1HtOj+XsPjjLSMX4vSFa24LHWqxw90GgOJhEICeFE02GxMiSQAJeFl7fEUAE3dpE4lGcHhzikUThxNnh2xIEiMZGSMSUyKHYYNHCHERSgokaSQKUpinmmeTW0sBcQFSEKcXEG1YapVQwKfDZpNpx08owShtvGq+UaanqWWvsbNS0XjTbhIBGQ4BpFMA4WkokZZdIigQGyjb8fn6+/z9/v8AAxLB8MCDhwcYBD7x0CFNhQMKmZw4dCJikgPBPASkwMBThWAV1PHjkIuCkRLBwmjw1+zCMyEWUl5o0I9CnI5EYqakyY/B/s0iKFM+YOnMiISPp0L64wDrAgmTRjwEgwiQAU4kE/FUtJjEAtIwFSxwXSKhoIUHIseqXcu2bRIFVr+5JTJggyMQGwbMTYEBDJ4I8NRGCIagrQaZK9eakGnCTYgGFkJIkeAoGIi0AylQSMikgIEwBgpgk4nKyAMIdyGUWDIizYjRpPFJIHCIgFwjrcW8hkJZ5uUhGAQEE8DZSIGGFzqIjrI4ZeMhtYLdOvK4wfIoA2TqFRKi8qkEki0NPlV4CEbSVBVhGM+qeAr2KbfGG4A6D4TtRGiTJsBPQlwk8AUjn0XnyZSeRQV4dwgI4Y0V3SnjqCVBMYc4gBlXCugXh217CZVgwl0mrOZGEAAh+QQJCQAyACwAAAAAQABAAIUEAgSEgoREQkTEwsQkIiSkoqRsamzk4uT08vQUFhRUVlQ0MjS0srSUlpR0dnQMCgxMSkzU0tSsqqzs6uz8+vw8OjzMyswsLix0cnQcHhxcXly8vrycnpwEBgSEhoRERkTExsQkJiSkpqRsbmzk5uT09vQcGhxcWlw0NjS0trScmpx8fnwMDgxMTkysrqzs7uz8/vw8PjwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/kCZcEgsGo/IpHLJbDqf0Kh0Sq1ar8lLilJKXbBg5AUBK8MQ37BamDKbU2s1gOIuUwBxZYdA6CwBJXUwd3lHDwETZS8BD0ptdXCFRR0bght+SAtkZmhNHXhVAYJlAUpaFBQpC0wsHAglHCxTHYmjE5hgIm4iUyGjZiFhD3RmFLhPvr8wwWAdxHbHTrS/t2oSbhJUHr8eaywFrwWyswOCA9FgAKBVDx4vZQiMkmEAIX3z+Pn6+/z9/v8AA06p0AAECBUVBDLpwEEQB3QKhzQcxSHikRjKYMTwl8ABhgRIJv6qyM8EiTIkTByxkNFCvxVuVqxs+TLmEZEU+5moNUGl/hGMyjb26+jA55ECvwpYPNIBaZ0CEJfKiKHCoAqhUrNq3cq1q8IKATgUCJCwSgcII0ZAiEoFBcs6FlBMGVFLkYEwCp7VKXEiCk43JK2g0CuIglwnBjKOsAIgQsYyEdYpefBO2YtGVAQ8NiOgSYvNH6ps2wyjGxMMmx0gAYDixAkUkodcI53tdGojAAwccEPCQGxdtD1vhjDJxS8Xx0ZvNr2EcsbLRVRkbEDkA2kYnZuMyHiXyALCglYJabw58pO/ZgIPkf5YBZEK4N1QKPsEQ2V4i404fhyhSN5fFPQlxQNoYbAWErs9doARbgkSFz77ZdQfbjF4UEABHsQQWx4NKWzmnlQobHaYVOi58WFWHTDwCwNsCZTbSWZM4JtXMgBQgQYaVLDhFUEAACH5BAkJACoALAAAAABAAEAAhQQCBISChDw6PMTGxOTm5CQiJFRWVKSipNTW1CwuLAwODJSWlERGRGxqbMzOzPT29LS2tNze3AwKDERCRCwqLGRiZDQ2NJyenPz+/AQGBISGhDw+PMzKzCQmJFxaXKyqrNza3DQyNBQWFJyanExKTGxubNTS1Pz6/Ly6vOTi5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAb+QJVwSCwaj8ikcslsOp/QqHRKrVqvS0oHy10WHBiMqdAtF03hsMPM7qTTFHaZ8g7H5UqRyIlOm/BJJH0IJEwFfWOARwx1GAxNFHdNEgYeElYIjQhsEpkYCJdTIo1he2UVbxVUo6SmXahpqlQgjSBsCp4gClWMdYWcHpZXJLQYIL+KXHrJzM3Oz9DR0tPUzgIBFwcBAtVMFhyNHBZJEiEhGdEGJ6QYDx5GGRoPYQ8a6M0C8+wYJ+NDCn3eONiVDEDAfSYADFnAbgGzCfvqTBCiQF+jBwQBaYj4RoOQEBH9AfrAMc0HIRZCJiNZEsNJFQrWkToRSmNLDB6FMCTlMFn+r5ITKR4MYyIjIIMlExKJJ/OEPWsy2Z3gZkSChRA1namT+q7bkW/hRHo1AmCDhgMHNGxQOLat27djJVSAAAIBhAb3pghYMGDACKpdLKRolEKskwwXGl3IayUfuweAnSQmdQGLhMH7UjBesiHihisNSjZ4MpldZSsoSqJ4Am4fhysRSkZgHfE1kgQBPqRNgCQ2x9mSI54uImHnmxGbVaTmuNpJ532fiwBY3ggF2yElSpaAcoDdgSOh940mIoFAxBRGmWToXudAchW+2QEnMsFinalTNozoOyK6kQIlkVGEAJi9kUJkcoDEkWFCSNAAXSCgUEFWeADIkYBuxUdKCnAgqRAeO+O9lQF1dVjXoQqINYLciUOEoMEHH2gQAovQBAEAIfkECQkAMAAsAAAAAEAAQACFBAIEhIKEREJExMbEJCIk5ObkbGpsrKqsFBIUNDI09Pb03NrcVFJUdHZ0tLa0DAoMlJKULCos7O7sHBocPDo8zM7MtLK0/P785OLkXFpcfH58BAYEhIaETEpMzMrMJCYk7OrsbG5srK6sFBYUNDY0/Pr83N7cVFZUfHp8vLq8DA4MlJaULC4s9PL0HB4cPD48AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABv5AmHBILBqPyKRyyWw6n9CodEqtWq/YbHaiCUy0YCNBcrlICEwAi8FgAcJMTbkcUG5QhfmlgNrAkwF6GkkjA3p6AyN/R2NlZ0gbHoeHA35SGwIvD04TAV5JDSWTh4NRCSZlJglZAHmjeiBvTw+ocwWbVwmvkyRQL5MvWBm7hxm+wMLEesazrmW3WLrKZb1Qp6mrWBsg0yCWUA8CArhZDdOli1GRxB7f6VCFr4nvVHfccyB99FYACWwJsvYJHEiwoMEwDww4WLDAgQF3B5WQqKUHQ7UjAD58CDjwhahRCigcOYGhDIYTBGkRwwDxxCSUAg1MM0Ck1SQMHNOlmJaCyP6HVx8EUtxlwidQgSWVFR1i81CBnIt2KutJxGWxgTKVhTCSIenJlM5GYVCBMUIEqPQ8viohMqISCkkrtnVrRyHDFA/p6t3Lt69fOA/MkqvyIEECiFk+HFBQpsSBoFM2cGB8QQEHxFU6tJjUooMUFRUmVSCLJcJmkBGirHi1IssBYgegqPg4SQFpwrRHlRi8RNqri1RYTGPxhAQx4Ece8C4iXBlxJ7PXLhfyoMGCMgv0GXmQe9JuKKtHtT6CwNAhDwiOvN4VW3boQxXSHxHxysKRD6c5p47ygMPHEhxMB4NvoyAnhGaceUbFAyQkIKAQcuyCThERiPCfCPvRAwExEC8o8QALLDwIBwrEoPCXEMbtYiBfFtR34hAIvKdHfC8O8QAKtZiAgoh+qcBjjYsEAQAh+QQJCQAuACwAAAAAQABAAIUEAgSMioxEQkTMysxkYmTk5uQkIiSsqqxUUlT09vSUlpTc2tx0cnQcGhwsLiwMCgxMSkzU0tRsamzs7uxcWlyUkpQsKiy0trT8/vycnpwEBgSMjoxERkTMzsxkZmTs6uwkJiSsrqxUVlT8+vycmpzk4uR8enw0MjQMDgxMTkzU1tRsbmz08vRcXlwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/kCXcEgsGo8ayCYU2kAAx6h0Sp1yVJisdiGoer9fz0hLxowk4LR6yBmXy921nKrBvssqzXx/TN3vCHyCQxV/bxWDgxeGZRdHBisKFSsGiVOLjFqORA8kblkjGQ+WR4WZWYhDDwN/A6OkRAinWYFDCowZcycBGydRAHaMC1BCBp93I5VqDglZCQ5RbZlxQgynDGu3WgpSYn9nRSSnuWqmWdxSAgtvXEYZ42sObiPQUwBKTBVPR9aZ2GsnNvQiZYzRCBCwBL0zRC7hngcd/nR45XAPioVkMqComMgAAwUkGCjjSLKkyZMoU6o0+cCCBYorwYA40MzMAYQxvUBg8YYF/gQpKCBA2KjSAs87CSwcETAhywRqJw8wOmAERVMtE4iyrPkNpgs/ZVKgdHCq3hCwZMSePFG2iFUyWVE+OPZmhFcXAo6ygGpSqiGqR4IOXWn0DwulOafs7PkzMRULIeaFQOy4ygMHDu5W3sy5s+fPoCuioBAgAAWtcwCAAEEMlogPZD6I2COiRJYSs0mJ+JNbze4yvQWhgH3nA2ovAAq8KdGaDwFGBNSA+INT0AZGG6RTTxSAUQA1yd8UaG4EAAcTJjiQJ/LcUHTfbyhMARGBTATKbq++ibuGgm0MuE3RgHJlFNBAFL/FtwcALq1XhDZvoHMEBcRlIRtKBIo3BQoELpTWwnEcacCIHqFVWMYHoQkBYRkSgjbgGx8cmKILFgSDgQr4pWgeevvM6CNnQQAAIfkECQkAJgAsAAAAAEAAQACFBAIEhIaEREJExMbEJCIkZGJktLK07OrsnJqcVFZUDA4MNDI0/Pr8jI6M5OLkdHZ0TEpMzM7MLCosvL689PL0XF5cFBYUBAYEjIqMzMrMJCYkZGZk7O7snJ6cXFpcFBIUNDY0/P78lJKUfHp8TE5MxMLEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABv5Ak3BILBqPyKRyyWyaPo/BwTF4KJzYrBJyCHm/B4h2PIYwvugQQ0xuLxWcdJrzcduPI7l8dGcSAhkOBwMBBEcDemkDfUkAAWdpDBgARXGJXxSMRxcGlyEGlEMUnl6ZRgAFE1MTBRdaAaQhGESIpItFFrVoAxZYGpCeDBpDeaR8RAC6iq5NDbFeDUMflol0RQWeG04RzyERRGaXbEQlnhNOo8+mQwLUXxzjRO5yHE7zl+vSI1IHGSNXR9JV29btm5tyl841EdEtmpsN2Zz8isVAgh0AGRJlCNUEQ6xZdyxkTJOhFxZOngwwuwNgQ4kDB0ps4IgFAAZgXyTR1NRHQ/6ACDAjYDDEs6jRo0iTKl3KtKlTIQo8YMDgAeBTLQm6gElwNUuCRFyRgOiAAERXBVrlHLBKZEG6ilexXSpwBAGaDledXXJYpMPdqx4vgSyyABKDBVcreKJ7REKHDoivwqnGtmuSr3o8WHbiIW2IA2E3N1FQYGqFOqJTq17NurXr17Bj90kwgAGFAaHbKIAAoTIjhmlEuGnnhYOAopjl5MYy+Z1vNyPl3NJCQg4JTQBwomGws0n1NNcZARAYqTuT5sWft4muqI2AdBSOM1kwYoRZJcnTLM+yuzcTAH590YF5QwCHhnBOPSDHA0t4UBsDA2j2lANyOCCbEAAkQiBrFBqmYeGFJiiYBoMgAnjXhq6BUN99ILboYmxBAAAh+QQJCQAnACwAAAAAQABAAIUEAgSMiozExsRUUlQkIiSkpqTk5uQUEhQ0MjS0srT09vScmpx8enwMCgw8Ojzk4uRcWlwsKiysrqz08vQcHhy8urz8/vykoqQEBgSUkpTMzsxUVlQkJiSsqqzs6uwUFhQ0NjS0trT8+vycnpx8fnwMDgw8PjwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/sCTcEgsGo/IpHLJbA4PINDBSa02ESGRxSIKIazg8Gmj3ZpFG7GaiVCY39zIen4MweEhuhNDoWCSB2V3WyJTekkOEm4WChIORw6DcI+HRgABkgEARSCSb5RHBAMDHGKYngFFB55mhkUEFW8VBFYmrFsmRXaeFUcUBnceFFUJtxZ5RAiCcCJyRrGDvXuLrAp/RBDLhGlGHKylTd7GFuDJFWUiFV9HG6zcTOLG5aogDq5HA+572oMi12IEvlEpdisBHWh3pDmxdSvXHAIegtGqcirToQ8SZE2scinTpkqiSK1JhC4BqEooMRDwg7Kly5cnMHyEqcfBCGAWDIw4SdNK/oMCkgo06GmlhAZWGu4RXdLBWIelQjYIEKFAwDshkcbxfFnRTAYiQMcVIApB0jucxgwQFSBJwJBxZobCBMCP0Ee4W+S+BECN2ceI4zysbTskrLGxPcsOepfV2FaXGe58BesU6gkIU0UIgGDEKFK9lpWUaDqoA+jQSxxceLDlwYXHqJlg+Be7tu3buHPr3s3bSYQsCkI4UwNixAIQLiNMeDNhOJg2hJzr2fUGWZgFb0agpHtHxEwrI7Jv72tXjDJC6ypRN2M9TIQLI9JXUs5cOtEBBToMaPJbRBf7PTHwBgO9HVHCMiKUUGARCNwh34IHvpHggkUIaAYJFBoxQAf6CWXo4YcghmhEEAA7YnVPZzU3UnNDZXVsS2VVYlhjelFTNkFCd2NQbHA4Umg0WUJramlqdElnNVhRWVphVGtSTmNwSno1Zm5mZ0ZOWA==);background-repeat:no-repeat;background-position:center center}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image.ng-image-slider-show{opacity:1;display:block}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image.ng-image-slider-hide{opacity:0;display:none}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image .custom-image-main{width:100%;height:100%}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image .custom-image-main img{transition:all .5s ease-in-out;width:auto;height:auto;max-height:100%;max-width:100%;position:absolute;z-index:11;top:0px;bottom:0px;margin:auto;left:0px;right:0px}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image .custom-image-main iframe{top:0;left:0;right:0;bottom:0;margin:auto;width:100%;height:100%;border:0}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image .custom-image-main video{top:0;left:0;right:0;bottom:0;margin:auto;width:100%;height:100%;border:0}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .caption{position:absolute;z-index:11;top:0px;margin:auto;padding:5px;color:#fff;background-color:#00000059;max-width:100%;left:0px;right:0px}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .caption.show{display:block}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .caption.hide{display:none}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .next,.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .prev{position:absolute;right:10px;top:50%;background-color:#fff;border-radius:50%;cursor:pointer;margin-top:-16px;width:38px;height:38px;font-size:35px;z-index:12;line-height:30px;outline:0;color:#000;transition:all .3s ease-in-out}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .next:hover,.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .prev:hover{background-color:#d4cdcd}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .next.disable,.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .prev.disable{color:#bbb;background-color:#fff}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .prev{left:10px}.ng-image-fullscreen-view .lightbox-wrapper .close{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAQK0lEQVRYCQEgEN/vAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIyMjLuvr60L8/Pwz/Pz8HAQEBBYAAAAA/Pz86gQEBOQEBATPFRUVvt3d3dAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPT09DNPT02T4+Php/v7+FgQEBLwBAQHHCAgI4AQEBO4AAAAA/Pz8Evn5+SD+/v43/Pz8RAICAu4ICAiZKysrmsXFxfIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVFRVcBQUF5wkJCcEYGBhOZGRkBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY2NjBBgYGEwJCQm9BgYG6xQUFGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMTExDgwMDK0FBQXhGBgYSgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGRkZRgYGBt8LCwuvLCwsDgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAuLi4WBwcH0QsLC7EzMzMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADU1NQ4LCwutBwcH0ygoKBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAwMA4ICAjRDQ0NnWxsbAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABycnICDQ0NlwcHB9UqKioQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsLC7ELCwuvcHBwBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAd3d3AgwMDKkLCwu3d3d3AgAAAAAAAAAAAAAAAAAAAAAAFBQUYgYGBt01NTUOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADk5OQwGBgbZFBQUagAAAAAAAAAAAAAAAAA3NzcQBgYG6xoaGkQAAAAAAAAAAAAAAAAAAAAACAgIkQMDA/sHBweZPz8/BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPz8/BAcHB5kDAwP7CAgIkwAAAAAAAAAAAAAAAAAAAAAaGho8BgYG7zIyMhQAAAAAAAAAAAAODg56CgoKuQAAAAAAAAAAAAAAAAAAAAAAAAAAAwMD+wAAAP8AAAD/BwcHoz8/PwQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz8EBwcHowAAAP8AAAD/AgIC/QAAAAAAAAAAAAAAAAAAAAAAAAAACQkJsQ4ODoEAAAAAAHNzcwIHBwfjHBwcRAAAAAAAAAAAAAAAAAAAAAAAAAAABwcHmwAAAP8AAAD/AAAA/wcHB6M/Pz8EAAAAAAAAAAAAAAAAAAAAAD8/PwQHBwejAAAA/wAAAP8AAAD/BwcHmwAAAAAAAAAAAAAAAAAAAAAAAAAAHh4ePgYGBudqamoEACAgIDwGBgblbW1tAgAAAAAAAAAAAAAAAAAAAAAAAAAAOjo6BAcHB6UAAAD/AAAA/wAAAP8HBwejPz8/BAAAAAAAAAAAPz8/BAcHB6MAAAD/AAAA/wAAAP8HBwelOjo6BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcHB98cHBxCAA4ODn4LCwudAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADo6OgQHBwelAAAA/wAAAP8AAAD/BwcHoz8/PwQ/Pz8EBwcHowAAAP8AAAD/AAAA/wcHB6U6OjoEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwMDJcNDQ2FAAoKCrESEhJoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA6OjoEBwcHpQAAAP8AAAD/AAAA/wcHB6MHBwejAAAA/wAAAP8AAAD/BwcHpTo6OgQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABISEmIICAi1AAkJCdUZGRlEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOjo6BAcHB6UAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8HBwelOjo6BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB0dHT4JCQnbAAUFBeElJSUyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADo6OgQHBwelAAAA/wAAAP8AAAD/AAAA/wcHB6U6OjoEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ODiQCAgLjAv///wD+/v7+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUFBQAAAAD+AAAAAAAAAAAAAAAAAAAAAAAAAP4FBQUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP7+/v4AAAACAAoKCtkcHBxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPz8/BAcHB6MAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8HBwejPz8/BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACMjIzwJCQnfAAgICLcTExNgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz8EBwcHowAAAP8AAAD/AAAA/wcHB6UHBwelAAAA/wAAAP8AAAD/BwcHoz8/PwQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQEFgHBwe7AA0NDYkMDAyTAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8/PwQHBwejAAAA/wAAAP8AAAD/BwcHpTo6OgQ6OjoEBwcHpQAAAP8AAAD/AAAA/wcHB6M/Pz8EAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwMDI0NDQ2PABcXF0YICAjZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPz8/BAcHB6MAAAD/AAAA/wAAAP8HBwelOjo6BAAAAAAAAAAAOjo6BAcHB6UAAAD/AAAA/wAAAP8HBwejPz8/BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgICNMVFRVOAFtbWwYFBQXtIiIiMgAAAAAAAAAAAAAAAAAAAAAAAAAABwcHmQAAAP8AAAD/AAAA/wcHB6U6OjoEAAAAAAAAAAAAAAAAAAAAADo6OgQHBwelAAAA/wAAAP8AAAD/BwcHmwAAAAAAAAAAAAAAAAAAAAAAAAAAJSUlLAYGBvFLS0sIAAAAAAAMDAyPCwsLowAAAAAAAAAAAAAAAAAAAAAAAAAAAwMD+wAAAP8AAAD/BwcHpTo6OgQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA6OjoEBwcHpQAAAP8AAAD/AgIC/QAAAAAAAAAAAAAAAAAAAAAAAAAADAwMnQwMDJUAAAAAAAAAAAAnJyccBQUF8x8fHy4AAAAAAAAAAAAAAAAAAAAACAgIkwICAv0HBwebOjo6BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOjo6BAcHB5sCAgL9CAgIlQAAAAAAAAAAAAAAAAAAAAAhISEoBQUF9SgoKCAAAAAAAAAAAAAAAAAAEBAQfggICMlaWloEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGpqagQJCQnDDw8PhQAAAAAAAAAAAAAAAAAAAAAASkpKBggICMsPDw+PAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8PD4cICAjPPz8/CAAAAAAAAAAAAAAAAAAAAAAAAAAAACIiIh4GBgbnEBAQcgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAExMTbgYGBukhISEgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAaGhooBgYG5xAQEItoaGgEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHBwcAQPDw+FBQUF6RkZGSwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIyMjIAgICM8JCQnDICAgJgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIyMjJAkJCb8HBwfRISEhIgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEFBQQgODg6HBQUF9QwMDJcmJiYmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACYmJiIMDAyTBQUF9Q4ODo1BQUEKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIiIiJOnp6Xf7+/taAgIC1AUFBbgLCwvLDg4O3DExMfYAAAD+0NDQDPLy8iT09PQy+/v7R/7+/jAFBQWoGBgYid3d3doAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3NzcM3t7eTvX19UH///8y/f39HgICAhQAAAAA/v7+7gMDA+ABAQHQCgoKvScnJ7TFxcXyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAx6aIH59j4jkAAAAASUVORK5CYII=);background-repeat:no-repeat;background-position:center center;background-size:32px;position:absolute;top:10px;right:10px;color:#000;background-color:#fff;padding:0;opacity:1;border-radius:50%;height:36px;width:36px;z-index:12;cursor:pointer;transition:all .2s ease}.ng-image-fullscreen-view .lightbox-wrapper.error-msg{background-image:none}.ng-image-fullscreen-view .invalid-msg{color:#fff;font-size:18px;position:absolute;top:45%;left:45%}.ng-image-fullscreen-view .popup-pagination{background-color:#1f1f1f;color:#fff;position:absolute;height:30px;width:100%;text-align:center;bottom:0px;font-size:16px;line-height:30px}@media (max-width: 768px){.ng-image-fullscreen-view .lightbox-wrapper{width:100%;height:100%}.ng-image-fullscreen-view .lightbox-wrapper.error-msg{background-image:none}}\n"],encapsulation:2}),n})(),gP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[pP],imports:[Mi]}),n})(),QU=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-image-slider"]],inputs:{hotelRoomsImages:"hotelRoomsImages"},decls:2,vars:1,consts:[[3,"images"],["nav",""]],template:function(e,i){1&e&&s._UZ(0,"ng-image-slider",0,1),2&e&&s.Q6J("images",i.hotelRoomsImages)},dependencies:[hY]}),n})(),fY=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-hotel-description"]],inputs:{currentHotel:"currentHotel"},decls:12,vars:3,consts:[[1,"description"],[1,"place-offers"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"h3"),s._uU(2,"Addition Info You Should Know"),s.qZA(),s.TgZ(3,"p"),s._uU(4),s.qZA()(),s.TgZ(5,"div",1)(6,"h3"),s._uU(7,"Place Offers"),s.qZA(),s.TgZ(8,"p"),s._uU(9),s.qZA()(),s.TgZ(10,"h3"),s._uU(11),s.qZA()),2&e&&(s.xp6(4),s.hij(" ",i.currentHotel.description," "),s.xp6(5),s.Oqu(i.currentHotel.placeOffers.join(", ")),s.xp6(2),s.hij("Child Policy: ",i.currentHotel.rooms[0].childPolicy,""))}}),n})();function pY(n,t){1&n&&(s.TgZ(0,"p",4),s._uU(1,"\u2728"),s.qZA())}function gY(n,t){1&n&&(s.TgZ(0,"p",4),s._uU(1,"\u2728\u2728"),s.qZA())}function mY(n,t){1&n&&(s.TgZ(0,"p",4),s._uU(1,"\u2728\u2728\u2728"),s.qZA())}function _Y(n,t){1&n&&(s.TgZ(0,"p",4),s._uU(1,"\u2728\u2728\u2728\u2728"),s.qZA())}function yY(n,t){1&n&&(s.TgZ(0,"p",4),s._uU(1,"\u2728\u2728\u2728\u2728\u2728"),s.qZA())}function vY(n,t){1&n&&(s.TgZ(0,"p",4),s._uU(1,"\u2728\u2728\u2728\u2728\u2728"),s.qZA())}let AY=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-hotel-name"]],inputs:{currentHotel:"currentHotel"},decls:10,vars:7,consts:[[1,"d-flex","title-star"],[3,"ngSwitch"],["class","star",4,"ngSwitchCase"],["class","star",4,"ngSwitchDefault"],[1,"star"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"h2"),s._uU(2),s.qZA(),s.TgZ(3,"div",1),s.YNc(4,pY,2,0,"p",2),s.YNc(5,gY,2,0,"p",2),s.YNc(6,mY,2,0,"p",2),s.YNc(7,_Y,2,0,"p",2),s.YNc(8,yY,2,0,"p",2),s.YNc(9,vY,2,0,"p",3),s.qZA()()),2&e&&(s.xp6(2),s.Oqu(i.currentHotel.name),s.xp6(1),s.Q6J("ngSwitch",i.currentHotel.starCount),s.xp6(1),s.Q6J("ngSwitchCase",1),s.xp6(1),s.Q6J("ngSwitchCase",2),s.xp6(1),s.Q6J("ngSwitchCase",3),s.xp6(1),s.Q6J("ngSwitchCase",4),s.xp6(1),s.Q6J("ngSwitchCase",5))},dependencies:[ss,Nr,co],styles:[".title-star[_ngcontent-%COMP%]{align-items:center}.star[_ngcontent-%COMP%]{margin-left:10px}"]}),n})(),bY=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-hotel-address"]],inputs:{HotelAddress:"HotelAddress"},decls:2,vars:1,template:function(e,i){1&e&&(s.TgZ(0,"p"),s._uU(1),s.qZA()),2&e&&(s.xp6(1),s.Oqu(i.HotelAddress))}}),n})();function wY(n,t){if(1&n&&(s.TgZ(0,"div",2)(1,"div",3),s.O4$(),s.TgZ(2,"svg",4),s._UZ(3,"path",5),s.qZA(),s.kcU(),s.TgZ(4,"h4",6),s._uU(5),s.qZA(),s.TgZ(6,"p",7),s._uU(7),s.qZA()()()),2&n){const e=t.$implicit;s.xp6(5),s.Oqu(e.name),s.xp6(2),s.AsE(" Beds: ",e.bedsCount," bathRooms: ",e.bathRoomsCount," ")}}let CY=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-hotel-rooms"]],inputs:{HotelRooms:"HotelRooms"},decls:5,vars:1,consts:[[1,"row"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"card-body"],["viewBox","0 0 32 32","xmlns","http://www.w3.org/2000/svg","aria-hidden","true","role","presentation","focusable","false",2,"display","block","height","24px","width","24px","fill","currentcolor"],["d","M26 4a2 2 0 0 1 1.995 1.85L28 6v7.839l1.846 5.537a3 3 0 0 1 .115.468l.03.24.009.24V30h-2v-2H4v2H2v-9.675a3 3 0 0 1 .087-.717l.067-.232L4 13.836V6a2 2 0 0 1 1.697-1.977l.154-.018L6 4zm2 18H4v4h24zm-1.388-6H5.387l-1.333 4h23.891zM26 6H6v8h2v-4a2 2 0 0 1 1.85-1.995L10 8h12a2 2 0 0 1 1.995 1.85L24 10v4h2zm-11 4h-5v4h5zm7 0h-5v4h5z"],[1,"card-title"],[1,"card-text"]],template:function(e,i){1&e&&(s.TgZ(0,"h3"),s._uU(1,"Hotel Rooms"),s.qZA(),s.TgZ(2,"div")(3,"div",0),s.YNc(4,wY,8,3,"div",1),s.qZA()()),2&e&&(s.xp6(4),s.Q6J("ngForOf",i.HotelRooms))},dependencies:[Nn],styles:[".card[_ngcontent-%COMP%]{width:200px}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-direction:row;margin-left:auto;margin-right:auto}img[_ngcontent-%COMP%]{object-fit:cover!important;height:100px}.card-title[_ngcontent-%COMP%]{margin-bottom:inherit!important}"]}),n})();class JU{constructor(){this.mainImages=[],this.rooms=[{images:["string"],name:"string",bedsCount:0,price:0,personsCount:0,childPolicy:!0,bathRoomsCount:0}]}}const XU=["*"];class Xc{constructor(t){this._ngZone=t,this._pending=[],this._listeners=[],this._targetStream=new tn(void 0)}_clearListeners(){for(const t of this._listeners)t.remove();this._listeners=[]}getLazyEmitter(t){return this._targetStream.pipe(Ti(e=>{const i=new si.y(r=>{if(!e)return void this._pending.push({observable:i,observer:r});const o=e.addListener(t,c=>{this._ngZone.run(()=>r.next(c))});return this._listeners.push(o),()=>o.remove()});return i}))}setTarget(t){const e=this._targetStream.value;t!==e&&(e&&(this._clearListeners(),this._pending=[]),this._targetStream.next(t),this._pending.forEach(i=>i.observable.subscribe(i.observer)),this._pending=[])}destroy(){this._clearListeners(),this._pending=[],this._targetStream.complete()}}const pC={center:{lat:37.421995,lng:-122.084092},zoom:17,mapTypeId:"roadmap"};let Bo=(()=>{class n{constructor(e,i,r){if(this._elementRef=e,this._ngZone=i,this._eventManager=new Xc(this._ngZone),this.height="500px",this.width="500px",this._options=pC,this.mapInitialized=new s.vpe,this.authFailure=new s.vpe,this.boundsChanged=this._eventManager.getLazyEmitter("bounds_changed"),this.centerChanged=this._eventManager.getLazyEmitter("center_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.headingChanged=this._eventManager.getLazyEmitter("heading_changed"),this.idle=this._eventManager.getLazyEmitter("idle"),this.maptypeidChanged=this._eventManager.getLazyEmitter("maptypeid_changed"),this.mapMousemove=this._eventManager.getLazyEmitter("mousemove"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.projectionChanged=this._eventManager.getLazyEmitter("projection_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.tilesloaded=this._eventManager.getLazyEmitter("tilesloaded"),this.tiltChanged=this._eventManager.getLazyEmitter("tilt_changed"),this.zoomChanged=this._eventManager.getLazyEmitter("zoom_changed"),this._isBrowser=tr(r),this._isBrowser){const o=window;this._existingAuthFailureCallback=o.gm_authFailure,o.gm_authFailure=()=>{this._existingAuthFailureCallback&&this._existingAuthFailureCallback(),this.authFailure.emit()}}}set center(e){this._center=e}set zoom(e){this._zoom=e}set options(e){this._options=e||pC}ngOnChanges(e){(e.height||e.width)&&this._setSize();const i=this.googleMap;i&&(e.options&&i.setOptions(this._combineOptions()),e.center&&this._center&&i.setCenter(this._center),e.zoom&&null!=this._zoom&&i.setZoom(this._zoom),e.mapTypeId&&this.mapTypeId&&i.setMapTypeId(this.mapTypeId))}ngOnInit(){this._isBrowser&&(this._mapEl=this._elementRef.nativeElement.querySelector(".map-container"),this._setSize(),this._ngZone.runOutsideAngular(()=>{this.googleMap=new google.maps.Map(this._mapEl,this._combineOptions())}),this._eventManager.setTarget(this.googleMap),this.mapInitialized.emit(this.googleMap))}ngOnDestroy(){this._eventManager.destroy(),this._isBrowser&&(window.gm_authFailure=this._existingAuthFailureCallback)}fitBounds(e,i){this._assertInitialized(),this.googleMap.fitBounds(e,i)}panBy(e,i){this._assertInitialized(),this.googleMap.panBy(e,i)}panTo(e){this._assertInitialized(),this.googleMap.panTo(e)}panToBounds(e,i){this._assertInitialized(),this.googleMap.panToBounds(e,i)}getBounds(){return this._assertInitialized(),this.googleMap.getBounds()||null}getCenter(){return this._assertInitialized(),this.googleMap.getCenter()}getClickableIcons(){return this._assertInitialized(),this.googleMap.getClickableIcons()}getHeading(){return this._assertInitialized(),this.googleMap.getHeading()}getMapTypeId(){return this._assertInitialized(),this.googleMap.getMapTypeId()}getProjection(){return this._assertInitialized(),this.googleMap.getProjection()||null}getStreetView(){return this._assertInitialized(),this.googleMap.getStreetView()}getTilt(){return this._assertInitialized(),this.googleMap.getTilt()}getZoom(){return this._assertInitialized(),this.googleMap.getZoom()}get controls(){return this._assertInitialized(),this.googleMap.controls}get data(){return this._assertInitialized(),this.googleMap.data}get mapTypes(){return this._assertInitialized(),this.googleMap.mapTypes}get overlayMapTypes(){return this._assertInitialized(),this.googleMap.overlayMapTypes}_setSize(){if(this._mapEl){const e=this._mapEl.style;e.height=null===this.height?"":nH(this.height)||"500px",e.width=null===this.width?"":nH(this.width)||"500px"}}_combineOptions(){const e=this._options||{};return{...e,center:this._center||e.center||pC.center,zoom:this._zoom??e.zoom??pC.zoom,mapTypeId:this.mapTypeId||e.mapTypeId||pC.mapTypeId}}_assertInitialized(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(s.Lbi))},n.\u0275cmp=s.Xpm({type:n,selectors:[["google-map"]],inputs:{height:"height",width:"width",mapTypeId:"mapTypeId",center:"center",zoom:"zoom",options:"options"},outputs:{mapInitialized:"mapInitialized",authFailure:"authFailure",boundsChanged:"boundsChanged",centerChanged:"centerChanged",mapClick:"mapClick",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",mapDragstart:"mapDragstart",headingChanged:"headingChanged",idle:"idle",maptypeidChanged:"maptypeidChanged",mapMousemove:"mapMousemove",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",projectionChanged:"projectionChanged",mapRightclick:"mapRightclick",tilesloaded:"tilesloaded",tiltChanged:"tiltChanged",zoomChanged:"zoomChanged"},exportAs:["googleMap"],features:[s.TTD],ngContentSelectors:XU,decls:2,vars:0,consts:[[1,"map-container"]],template:function(e,i){1&e&&(s.F$t(),s._UZ(0,"div",0),s.Hsn(1))},encapsulation:2,changeDetection:0}),n})();const EY=/([A-Za-z%]+)$/;function nH(n){return null==n?"":EY.test(n)?n:`${n}px`}const kY={position:{lat:37.421995,lng:-122.084092}};let _P=(()=>{class n{constructor(e,i){this._googleMap=e,this._ngZone=i,this._eventManager=new Xc(this._ngZone),this.animationChanged=this._eventManager.getLazyEmitter("animation_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.clickableChanged=this._eventManager.getLazyEmitter("clickable_changed"),this.cursorChanged=this._eventManager.getLazyEmitter("cursor_changed"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.draggableChanged=this._eventManager.getLazyEmitter("draggable_changed"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.flatChanged=this._eventManager.getLazyEmitter("flat_changed"),this.iconChanged=this._eventManager.getLazyEmitter("icon_changed"),this.mapMousedown=this._eventManager.getLazyEmitter("mousedown"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.mapMouseup=this._eventManager.getLazyEmitter("mouseup"),this.positionChanged=this._eventManager.getLazyEmitter("position_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.shapeChanged=this._eventManager.getLazyEmitter("shape_changed"),this.titleChanged=this._eventManager.getLazyEmitter("title_changed"),this.visibleChanged=this._eventManager.getLazyEmitter("visible_changed"),this.zindexChanged=this._eventManager.getLazyEmitter("zindex_changed")}set title(e){this._title=e}set position(e){this._position=e}set label(e){this._label=e}set clickable(e){this._clickable=e}set options(e){this._options=e}set icon(e){this._icon=e}set visible(e){this._visible=e}ngOnInit(){this._googleMap._isBrowser&&(this._ngZone.runOutsideAngular(()=>{this.marker=new google.maps.Marker(this._combineOptions())}),this._assertInitialized(),this.marker.setMap(this._googleMap.googleMap),this._eventManager.setTarget(this.marker))}ngOnChanges(e){const{marker:i,_title:r,_position:o,_label:c,_clickable:d,_icon:p,_visible:_}=this;i&&(e.options&&i.setOptions(this._combineOptions()),e.title&&void 0!==r&&i.setTitle(r),e.position&&o&&i.setPosition(o),e.label&&void 0!==c&&i.setLabel(c),e.clickable&&void 0!==d&&i.setClickable(d),e.icon&&p&&i.setIcon(p),e.visible&&void 0!==_&&i.setVisible(_))}ngOnDestroy(){this._eventManager.destroy(),this.marker&&this.marker.setMap(null)}getAnimation(){return this._assertInitialized(),this.marker.getAnimation()||null}getClickable(){return this._assertInitialized(),this.marker.getClickable()}getCursor(){return this._assertInitialized(),this.marker.getCursor()||null}getDraggable(){return this._assertInitialized(),!!this.marker.getDraggable()}getIcon(){return this._assertInitialized(),this.marker.getIcon()||null}getLabel(){return this._assertInitialized(),this.marker.getLabel()||null}getOpacity(){return this._assertInitialized(),this.marker.getOpacity()||null}getPosition(){return this._assertInitialized(),this.marker.getPosition()||null}getShape(){return this._assertInitialized(),this.marker.getShape()||null}getTitle(){return this._assertInitialized(),this.marker.getTitle()||null}getVisible(){return this._assertInitialized(),this.marker.getVisible()}getZIndex(){return this._assertInitialized(),this.marker.getZIndex()||null}getAnchor(){return this._assertInitialized(),this.marker}_combineOptions(){const e=this._options||kY;return{...e,title:this._title||e.title,position:this._position||e.position,label:this._label||e.label,clickable:this._clickable??e.clickable,map:this._googleMap.googleMap,icon:this._icon||e.icon,visible:this._visible??e.visible}}_assertInitialized(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Bo),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["map-marker"]],inputs:{title:"title",position:"position",label:"label",clickable:"clickable",options:"options",icon:"icon",visible:"visible"},outputs:{animationChanged:"animationChanged",mapClick:"mapClick",clickableChanged:"clickableChanged",cursorChanged:"cursorChanged",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",draggableChanged:"draggableChanged",mapDragstart:"mapDragstart",flatChanged:"flatChanged",iconChanged:"iconChanged",mapMousedown:"mapMousedown",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",mapMouseup:"mapMouseup",positionChanged:"positionChanged",mapRightclick:"mapRightclick",shapeChanged:"shapeChanged",titleChanged:"titleChanged",visibleChanged:"visibleChanged",zindexChanged:"zindexChanged"},exportAs:["mapMarker"],features:[s.TTD]}),n})(),HY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function zY(n,t){1&n&&s._UZ(0,"map-marker",2,3),2&n&&s.Q6J("position",t.$implicit)}let jY=(()=>{class n{constructor(){this.curentHotel=new JU,this.center={lat:1,lng:1},this.markerPositions=[],this.zoom=10}ngOnInit(){this.center={lat:this.curentHotel.latitude,lng:this.curentHotel.longitude},this.markerPositions.push({lat:this.curentHotel.latitude,lng:this.curentHotel.longitude})}addMarker(e){null!=e.latLng&&this.markerPositions.push(e.latLng.toJSON())}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-hotel-map"]],inputs:{curentHotel:"curentHotel"},decls:2,vars:3,consts:[["height","400px","width","100%",3,"center","zoom"],[3,"position",4,"ngFor","ngForOf"],[3,"position"],["marker","mapMarker"]],template:function(e,i){1&e&&(s.TgZ(0,"google-map",0),s.YNc(1,zY,2,1,"map-marker",1),s.qZA()),2&e&&(s.Q6J("center",i.center)("zoom",i.zoom),s.xp6(1),s.Q6J("ngForOf",i.markerPositions))},dependencies:[Nn,Bo,_P],styles:["google-maps[_ngcontent-%COMP%]{position:relative;width:100%;height:0;overflow:hidden}"]}),n})(),GY=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-host-information"]],inputs:{hostInformation:"hostInformation",hostLanguage:"hostLanguage"},decls:10,vars:4,consts:[[1,"card",2,"width","18rem"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),s._uU(3),s.qZA(),s.TgZ(4,"p",3),s._uU(5),s.qZA(),s.TgZ(6,"p",3),s._uU(7),s.qZA(),s.TgZ(8,"p",3),s._uU(9),s.qZA()()()),2&e&&(s.xp6(3),s.Oqu(i.hostInformation.hostName),s.xp6(2),s.hij("Email: ",i.hostInformation.emailAddress,""),s.xp6(2),s.hij("Phone Number: ",i.hostInformation.phoneNumber,""),s.xp6(2),s.hij("Host Language: ",i.hostLanguage,""))}}),n})(),qY=(()=>{class n{constructor(){this.images=[]}ngOnInit(){this.currentHotel.rooms.map(e=>e.images.map(i=>({image:i,thumbImage:i,alt:"alt of image",title:e.name}))).forEach(e=>e.forEach(i=>this.images.push(i))),console.log(this.currentHotel)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-hotel-information"]],inputs:{currentHotel:"currentHotel"},decls:13,vars:8,consts:[[1,"col-md-10"],[3,"currentHotel"],[3,"HotelAddress"],[3,"hostLanguage","hostInformation"],[3,"HotelRooms"],[3,"hotelRoomsImages"],[3,"curentHotel"]],template:function(e,i){1&e&&(s.TgZ(0,"aside",0),s._UZ(1,"app-hotel-name",1)(2,"app-hotel-address",2)(3,"hr")(4,"app-hotel-description",1)(5,"hr")(6,"app-host-information",3)(7,"hr")(8,"app-hotel-rooms",4)(9,"hr")(10,"app-image-slider",5)(11,"hr")(12,"app-hotel-map",6),s.qZA()),2&e&&(s.xp6(1),s.Q6J("currentHotel",i.currentHotel),s.xp6(1),s.Q6J("HotelAddress",i.currentHotel.address),s.xp6(2),s.Q6J("currentHotel",i.currentHotel),s.xp6(2),s.Q6J("hostLanguage",i.currentHotel.hostLanguage)("hostInformation",i.currentHotel.hostInformation),s.xp6(2),s.Q6J("HotelRooms",i.currentHotel.rooms),s.xp6(2),s.Q6J("hotelRoomsImages",i.images),s.xp6(2),s.Q6J("curentHotel",i.currentHotel))},dependencies:[QU,fY,AY,bY,CY,jY,GY]}),n})();const ZY=["connectionContainer"],WY=["inputContainer"],YY=["label"];function $Y(n,t){1&n&&(s.ynx(0),s.TgZ(1,"div",14),s._UZ(2,"div",15)(3,"div",16)(4,"div",17),s.qZA(),s.TgZ(5,"div",18),s._UZ(6,"div",15)(7,"div",16)(8,"div",17),s.qZA(),s.BQk())}function KY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",19),s.NdJ("cdkObserveContent",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.updateOutlineGap())}),s.Hsn(1,1),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function QY(n,t){if(1&n&&(s.ynx(0),s.Hsn(1,2),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.BQk()),2&n){const e=s.oxw(2);s.xp6(3),s.Oqu(e._control.placeholder)}}function JY(n,t){1&n&&s.Hsn(0,3,["*ngSwitchCase","true"])}function XY(n,t){1&n&&(s.TgZ(0,"span",23),s._uU(1," *"),s.qZA())}function e$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"label",20,21),s.NdJ("cdkObserveContent",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.updateOutlineGap())}),s.YNc(2,QY,4,1,"ng-container",12),s.YNc(3,JY,1,0,"ng-content",12),s.YNc(4,XY,2,0,"span",22),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),s.uIk("for",e._control.id)("aria-owns",e._control.id),s.xp6(2),s.Q6J("ngSwitchCase",!1),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function t$(n,t){1&n&&(s.TgZ(0,"div",24),s.Hsn(1,4),s.qZA())}function n$(n,t){if(1&n&&(s.TgZ(0,"div",25),s._UZ(1,"span",26),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function i$(n,t){if(1&n&&(s.TgZ(0,"div"),s.Hsn(1,5),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState)}}function r$(n,t){if(1&n&&(s.TgZ(0,"div",30),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Q6J("id",e._hintLabelId),s.xp6(1),s.Oqu(e.hintLabel)}}function s$(n,t){if(1&n&&(s.TgZ(0,"div",27),s.YNc(1,r$,2,2,"div",28),s.Hsn(2,6),s._UZ(3,"div",29),s.Hsn(4,7),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState),s.xp6(1),s.Q6J("ngIf",e.hintLabel)}}const o$=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],a$=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let l$=0;const iH=new s.OlP("MatError");let c$=(()=>{class n{constructor(e,i){this.id="mat-error-"+l$++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(s.$8M("aria-live"),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("id",i.id)},inputs:{id:"id"},features:[s._Bn([{provide:iH,useExisting:n}])]}),n})();const u$={transitionMessages:kT("transitionMessages",[cC("enter",Fo({opacity:1,transform:"translateY(0%)"})),Im("void => enter",[Fo({opacity:0,transform:"translateY(-5px)"}),Dm("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let yP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n}),n})();const d$=new s.OlP("MatHint");let vP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-label"]]}),n})(),h$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const f$=new s.OlP("MatPrefix"),p$=new s.OlP("MatSuffix");let rH=0;const m$=Cv(class{constructor(n){this._elementRef=n}},"primary"),_$=new s.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),AP=new s.OlP("MatFormField");let y$=(()=>{class n extends m${constructor(e,i,r,o,c,d,p){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=o,this._platform=c,this._ngZone=d,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new jt.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+rH++,this._labelId="mat-form-field-label-"+rH++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==p,this.appearance=o?.appearance||"legacy",o&&(this._hideRequiredMarker=Boolean(o.hideRequiredMarker),o.color&&(this.color=this.defaultColor=o.color))}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=ns(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Cr(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Ai(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ai(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Ja.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Cr(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Cr(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Ai(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,iC(this._label.nativeElement,"transitionend").pipe(nn(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",o=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const b=i.querySelectorAll(`${r}, ${o}`);for(let I=0;I<b.length;I++)b[I].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let c=0,d=0;const p=i.querySelectorAll(r),_=i.querySelectorAll(o);if(this._label&&this._label.nativeElement.children.length){const b=i.getBoundingClientRect();if(0===b.width&&0===b.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const I=this._getStartEnd(b),O=e.children,B=this._getStartEnd(O[0].getBoundingClientRect());let z=0;for(let X=0;X<O.length;X++)z+=O[X].offsetWidth;c=Math.abs(B-I)-5,d=z>0?.75*z+10:0}for(let b=0;b<p.length;b++)p[b].style.width=`${c}px`;for(let b=0;b<_.length;b++)_[b].style.width=`${d}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Yu,8),s.Y36(_$,8),s.Y36(No),s.Y36(s.R0b),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,yP,5),s.Suo(r,yP,7),s.Suo(r,vP,5),s.Suo(r,vP,7),s.Suo(r,h$,5),s.Suo(r,iH,5),s.Suo(r,d$,5),s.Suo(r,f$,5),s.Suo(r,p$,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._controlNonStatic=o.first),s.iGM(o=s.CRH())&&(i._controlStatic=o.first),s.iGM(o=s.CRH())&&(i._labelChildNonStatic=o.first),s.iGM(o=s.CRH())&&(i._labelChildStatic=o.first),s.iGM(o=s.CRH())&&(i._placeholderChild=o.first),s.iGM(o=s.CRH())&&(i._errorChildren=o),s.iGM(o=s.CRH())&&(i._hintChildren=o),s.iGM(o=s.CRH())&&(i._prefixChildren=o),s.iGM(o=s.CRH())&&(i._suffixChildren=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(ZY,7),s.Gf(WY,5),s.Gf(YY,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._connectionContainerRef=r.first),s.iGM(r=s.CRH())&&(i._inputContainerRef=r.first),s.iGM(r=s.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&s.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[s._Bn([{provide:AP,useExisting:n}]),s.qOj],ngContentSelectors:a$,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(s.F$t(o$),s.TgZ(0,"div",0)(1,"div",1,2),s.NdJ("click",function(o){return i._control.onContainerClick&&i._control.onContainerClick(o)}),s.YNc(3,$Y,9,0,"ng-container",3),s.YNc(4,KY,2,1,"div",4),s.TgZ(5,"div",5,6),s.Hsn(7),s.TgZ(8,"span",7),s.YNc(9,e$,5,16,"label",8),s.qZA()(),s.YNc(10,t$,2,0,"div",9),s.qZA(),s.YNc(11,n$,2,4,"div",10),s.TgZ(12,"div",11),s.YNc(13,i$,2,1,"div",12),s.YNc(14,s$,5,2,"div",13),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("ngIf","outline"==i.appearance),s.xp6(1),s.Q6J("ngIf",i._prefixChildren.length),s.xp6(5),s.Q6J("ngIf",i._hasFloatingLabel()),s.xp6(1),s.Q6J("ngIf",i._suffixChildren.length),s.xp6(1),s.Q6J("ngIf","outline"!=i.appearance),s.xp6(1),s.Q6J("ngSwitch",i._getDisplayedMessages()),s.xp6(1),s.Q6J("ngSwitchCase","error"),s.xp6(1),s.Q6J("ngSwitchCase","hint"))},dependencies:[bn,ss,Nr,rq],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[u$.transitionMessages]},changeDetection:0}),n})(),gC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mi,_s,t3,_s]}),n})(),oH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),aH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[DT],imports:[oH,gC,_s,oH,gC]}),n})();const A$=["mat-calendar-body",""];function b$(n,t){if(1&n&&(s.TgZ(0,"tr",2)(1,"td",3),s._uU(2),s.qZA()()),2&n){const e=s.oxw();s.xp6(1),s.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),s.uIk("colspan",e.numCols),s.xp6(1),s.hij(" ",e.label," ")}}function w$(n,t){if(1&n&&(s.TgZ(0,"td",3),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),s.uIk("colspan",e._firstRowOffset),s.xp6(1),s.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function C$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",7)(1,"button",8),s.NdJ("click",function(r){const c=s.CHM(e).$implicit,d=s.oxw(2);return s.KtG(d._cellClicked(c,r))})("focus",function(r){const c=s.CHM(e).$implicit,d=s.oxw(2);return s.KtG(d._emitActiveDateChange(c,r))}),s.TgZ(2,"div",9),s._uU(3),s.qZA(),s._UZ(4,"div",10),s.qZA()()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw().index,o=s.oxw();s.Udp("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),s.uIk("data-mat-row",r)("data-mat-col",i),s.xp6(1),s.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",o._isActiveCell(r,i))("mat-calendar-body-range-start",o._isRangeStart(e.compareValue))("mat-calendar-body-range-end",o._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",o._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",o._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",o._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",o._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",o._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",o._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",o._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",o._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",o._isInPreview(e.compareValue)),s.Q6J("ngClass",e.cssClasses)("tabindex",o._isActiveCell(r,i)?0:-1),s.uIk("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",o._isSelected(e.compareValue))("aria-current",o.todayValue===e.compareValue?"date":null),s.xp6(1),s.ekj("mat-calendar-body-selected",o._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",o._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",o.todayValue===e.compareValue),s.xp6(1),s.hij(" ",e.displayValue," ")}}function E$(n,t){if(1&n&&(s.TgZ(0,"tr",4),s.YNc(1,w$,2,6,"td",5),s.YNc(2,C$,5,47,"td",6),s.qZA()),2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.xp6(1),s.Q6J("ngIf",0===i&&r._firstRowOffset),s.xp6(1),s.Q6J("ngForOf",e)}}function D$(n,t){if(1&n&&(s.TgZ(0,"th",5)(1,"span",6),s._uU(2),s.qZA(),s.TgZ(3,"span",7),s._uU(4),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.long),s.xp6(2),s.Oqu(e.narrow)}}const I$=["*"];function S$(n,t){}function T$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-month-view",5),s.NdJ("activeDateChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.activeDate=r)})("_userSelection",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._dateSelected(r))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)}}function x$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-year-view",6),s.NdJ("activeDateChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.activeDate=r)})("monthSelected",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._monthSelectedInYearView(r))})("selectedChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._goToDateInView(r,"month"))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function M$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-multi-year-view",7),s.NdJ("activeDateChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.activeDate=r)})("yearSelected",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._yearSelectedInMultiYearView(r))})("selectedChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._goToDateInView(r,"year"))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function k$(n,t){}const O$=["button"];function R$(n,t){1&n&&(s.O4$(),s.TgZ(0,"svg",3),s._UZ(1,"path",4),s.qZA())}const P$=[[["","matDatepickerToggleIcon",""]]],N$=["[matDatepickerToggleIcon]"],F$=[[["input","matStartDate",""]],[["input","matEndDate",""]]],L$=["input[matStartDate]","input[matEndDate]"];let mC=(()=>{class n{constructor(){this.changes=new jt.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class bP{constructor(t,e,i,r,o={},c=t,d){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=o,this.compareValue=c,this.rawValue=d}}let Ov=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new s.vpe,this.previewChange=new s.vpe,this.activeDateChange=new s.vpe,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const o=this._getCellFromElement(r.target);o&&this._ngZone.run(()=>this.previewChange.emit({value:o.enabled?o:null,event:r}))}},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&r.target&&this._getCellFromElement(r.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r}))},i.runOutsideAngular(()=>{const r=e.nativeElement;r.addEventListener("mouseenter",this._enterHandler,!0),r.addEventListener("focus",this._enterHandler,!0),r.addEventListener("mouseleave",this._leaveHandler,!0),r.addEventListener("blur",this._leaveHandler,!0)})}ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}_cellClicked(e,i){e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:r,numCols:o}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?o-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/o+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/o+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(nn(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return wP(e,this.startValue,this.endValue)}_isRangeEnd(e){return CP(e,this.startValue,this.endValue)}_isInRange(e){return EP(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return wP(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let o=this.rows[i][r-1];if(!o){const c=this.rows[i-1];o=c&&c[c.length-1]}return o&&!this._isRangeEnd(o.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let o=this.rows[i][r+1];if(!o){const c=this.rows[i+1];o=c&&c[0]}return o&&!this._isRangeStart(o.compareValue)}_isComparisonEnd(e){return CP(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return EP(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return wP(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return CP(e,this.previewStart,this.previewEnd)}_isInPreview(e){return EP(e,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(e){let i;if(lH(e)?i=e:lH(e.parentNode)&&(i=e.parentNode),i){const r=i.getAttribute("data-mat-row"),o=i.getAttribute("data-mat-col");if(r&&o)return this.rows[parseInt(r)][parseInt(o)]}return null}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange"},exportAs:["matCalendarBody"],features:[s.TTD],attrs:A$,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,i){1&e&&(s.YNc(0,b$,3,6,"tr",0),s.YNc(1,E$,3,2,"tr",1)),2&e&&(s.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),s.xp6(1),s.Q6J("ngForOf",i.rows))},dependencies:[hn,Nn,bn],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),n})();function lH(n){return"TD"===n.nodeName}function wP(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function CP(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function EP(n,t,e,i){return i&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}class io{constructor(t,e){this.start=t,this.end=e}}let Zf=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new jt.x,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),B$=(()=>{class n extends Zf{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(kr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),V$=(()=>{class n extends Zf{constructor(e){super(new io(null,null),e)}add(e){let{start:i,end:r}=this.selection;null==i?i=e:null==r?r=e:(i=e,r=null),super.updateSelection(new io(i,r),this)}isValid(){const{start:e,end:i}=this.selection;return null==e&&null==i||(null!=e&&null!=i?this._isValidDateInstance(e)&&this._isValidDateInstance(i)&&this._adapter.compareDate(e,i)<=0:(null==e||this._isValidDateInstance(e))&&(null==i||this._isValidDateInstance(i)))}isComplete(){return null!=this.selection.start&&null!=this.selection.end}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(kr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const H$={provide:Zf,deps:[[new s.FiY,new s.tp0,Zf],kr],useFactory:function U$(n,t){return n||new B$(t)}},j$={provide:Zf,deps:[[new s.FiY,new s.tp0,Zf],kr],useFactory:function z$(n,t){return n||new V$(t)}},UT=new s.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let G$=(()=>{class n{constructor(e){this._dateAdapter=e}selectionFinished(e,i){let{start:r,end:o}=i;return null==r?r=e:null==o&&e&&this._dateAdapter.compareDate(e,r)>=0?o=e:(r=e,o=null),new io(r,o)}createPreview(e,i){let r=null,o=null;return i.start&&!i.end&&e&&(r=i.start,o=e),new io(r,o)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(kr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Z$={provide:UT,deps:[[new s.FiY,new s.tp0,UT],kr],useFactory:function q$(n,t){return n||new G$(t)}};let cH=(()=>{class n{constructor(e,i,r,o,c){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=o,this._rangeStrategy=c,this._rerenderSubscription=di.w0.EMPTY,this.selectedChange=new s.vpe,this._userSelection=new s.vpe,this.activeDateChange=new s.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof io?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Cr(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,r=this._getDateFromDayOfMonth(i);let o,c;this._selected instanceof io?(o=this._getDateInCurrentMonth(this._selected.start),c=this._getDateInCurrentMonth(this._selected.end)):o=c=this._getDateInCurrentMonth(this._selected),(o!==i||c!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!J0(e)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const o=this._rangeStrategy.createPreview(i?i.rawValue:null,this.selected,e);this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end),this._changeDetectorRef.detectChanges()}}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let o=this._dateAdapter.getDayOfWeekNames("long").map((c,d)=>({long:c,narrow:i[d]}));this._weekdays=o.slice(e).concat(o.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,o=this._firstWeekOffset;r<e;r++,o++){7==o&&(this._weeks.push([]),o=0);const c=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),d=this._shouldEnableDate(c),p=this._dateAdapter.format(c,this._dateFormats.display.dateA11yLabel),_=this.dateClass?this.dateClass(c,"month"):void 0;this._weeks[this._weeks.length-1].push(new bP(r+1,i[r],p,d,_,this._getCellCompareValue(c),c))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),o=this._dateAdapter.getDate(e);return new Date(i,r,o).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof io?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36($u,8),s.Y36(kr,8),s.Y36(Yu,8),s.Y36(UT,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(e,i){if(1&e&&s.Gf(Ov,5),2&e){let r;s.iGM(r=s.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[s.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","activeDateChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(e,i){1&e&&(s.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),s.YNc(3,D$,5,2,"th",2),s.qZA(),s.TgZ(4,"tr"),s._UZ(5,"th",3),s.qZA()(),s.TgZ(6,"tbody",4),s.NdJ("selectedValueChange",function(o){return i._dateSelected(o)})("activeDateChange",function(o){return i._updateActiveDate(o)})("previewChange",function(o){return i._previewChanged(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("ngForOf",i._weekdays),s.xp6(3),s.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1))},dependencies:[Nn,Ov],encapsulation:2,changeDetection:0}),n})(),uH=(()=>{class n{constructor(e,i,r){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=di.w0.EMPTY,this.selectedChange=new s.vpe,this.yearSelected=new s.vpe,this.activeDateChange=new s.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),dH(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof io?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Cr(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-_C(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,o=[];r<24;r++)o.push(i+r),4==o.length&&(this._years.push(o.map(c=>this._createCellForYear(c))),o=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value,r=this._dateAdapter.createDate(i,0,1),o=this._getDateFromYear(i);this.yearSelected.emit(r),this.selectedChange.emit(o)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-_C(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-_C(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return _C(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),o=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new bP(e,r,r,this._shouldEnableYear(e),o)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof io){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(kr,8),s.Y36(Yu,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(e,i){if(1&e&&s.Gf(Ov,5),2&e){let r;s.iGM(r=s.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(s.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),s._UZ(3,"th",2),s.qZA()(),s.TgZ(4,"tbody",3),s.NdJ("selectedValueChange",function(o){return i._yearSelected(o)})("activeDateChange",function(o){return i._updateActiveDate(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),s.qZA()()),2&e&&(s.xp6(4),s.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[Ov],encapsulation:2,changeDetection:0}),n})();function dH(n,t,e,i,r){const o=n.getYear(t),c=n.getYear(e),d=hH(n,i,r);return Math.floor((o-d)/24)===Math.floor((c-d)/24)}function _C(n,t,e,i){return function W$(n,t){return(n%t+t)%t}(n.getYear(t)-hH(n,e,i),24)}function hH(n,t,e){let i=0;return e?i=n.getYear(e)-24+1:t&&(i=n.getYear(t)),i}let fH=(()=>{class n{constructor(e,i,r,o){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=o,this._rerenderSubscription=di.w0.EMPTY,this.selectedChange=new s.vpe,this.monthSelected=new s.vpe,this.activeDateChange=new s.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof io?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Cr(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const o=this._getDateFromMonth(i);this.selectedChange.emit(o)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),o=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),c=this.dateClass?this.dateClass(r,"year"):void 0;return new bP(e,i.toLocaleUpperCase(),o,this._shouldEnableMonth(e),c)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let o=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(o)==e;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),o=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>o}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),o=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<o}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof io?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36($u,8),s.Y36(kr,8),s.Y36(Yu,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(e,i){if(1&e&&s.Gf(Ov,5),2&e){let r;s.iGM(r=s.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(s.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),s._UZ(3,"th",2),s.qZA()(),s.TgZ(4,"tbody",3),s.NdJ("selectedValueChange",function(o){return i._monthSelected(o)})("activeDateChange",function(o){return i._updateActiveDate(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),s.qZA()()),2&e&&(s.xp6(4),s.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[Ov],encapsulation:2,changeDetection:0}),n})(),Y$=0,$$=(()=>{class n{constructor(e,i,r,o,c){this._intl=e,this.calendar=i,this._dateAdapter=r,this._dateFormats=o,this._buttonDescriptionId="mat-calendar-button-"+Y$++,this.calendar.stateChanges.subscribe(()=>c.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const i=this._dateAdapter.getYear(this.calendar.activeDate)-_C(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+24-1,o=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),c=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return this._intl.formatYearRange(o,c)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):dH(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(mC),s.Y36((0,s.Gpc)(()=>SP)),s.Y36(kr,8),s.Y36($u,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:I$,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0)(1,"div",1)(2,"button",2),s.NdJ("click",function(){return i.currentPeriodClicked()}),s.TgZ(3,"span"),s._uU(4),s.qZA(),s.O4$(),s.TgZ(5,"svg",3),s._UZ(6,"polygon",4),s.qZA()(),s.kcU(),s._UZ(7,"div",5),s.Hsn(8),s.TgZ(9,"button",6),s.NdJ("click",function(){return i.previousClicked()}),s.qZA(),s.TgZ(10,"button",7),s.NdJ("click",function(){return i.nextClicked()}),s.qZA()()()),2&e&&(s.xp6(2),s.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._buttonDescriptionId),s.xp6(1),s.uIk("id",i._buttonDescriptionId),s.xp6(1),s.Oqu(i.periodButtonText),s.xp6(1),s.ekj("mat-calendar-invert","month"!==i.calendar.currentView),s.xp6(4),s.Q6J("disabled",!i.previousEnabled()),s.uIk("aria-label",i.prevButtonLabel),s.xp6(1),s.Q6J("disabled",!i.nextEnabled()),s.uIk("aria-label",i.nextButtonLabel))},dependencies:[Ev],encapsulation:2,changeDetection:0}),n})(),SP=(()=>{class n{constructor(e,i,r,o){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=o,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new s.vpe,this.yearSelected=new s.vpe,this.monthSelected=new s.vpe,this.viewChanged=new s.vpe(!0),this._userSelection=new s.vpe,this.stateChanges=new jt.x,this._intlChanges=e.changes.subscribe(()=>{o.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof io?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}ngAfterContentInit(){this._calendarHeaderPortal=new sC(this.headerComponent||$$),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,o=i||r||e.dateFilter;if(o&&!o.firstChange){const c=this._getCurrentViewComponent();c&&(this._changeDetectorRef.detectChanges(),c._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof io||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(mC),s.Y36(kr,8),s.Y36($u,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(e,i){if(1&e&&(s.Gf(cH,5),s.Gf(fH,5),s.Gf(uH,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.monthView=r.first),s.iGM(r=s.CRH())&&(i.yearView=r.first),s.iGM(r=s.CRH())&&(i.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[s._Bn([H$]),s.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,i){1&e&&(s.YNc(0,S$,0,0,"ng-template",0),s.TgZ(1,"div",1),s.YNc(2,T$,1,8,"mat-month-view",2),s.YNc(3,x$,1,6,"mat-year-view",3),s.YNc(4,M$,1,6,"mat-multi-year-view",4),s.qZA()),2&e&&(s.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),s.xp6(1),s.Q6J("ngSwitch",i.currentView),s.xp6(1),s.Q6J("ngSwitchCase","month"),s.xp6(1),s.Q6J("ngSwitchCase","year"),s.xp6(1),s.Q6J("ngSwitchCase","multi-year"))},dependencies:[ss,Nr,h3,oC,cH,fH,uH],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})();const pH={transformPanel:kT("transformPanel",[Im("void => enter-dropdown",Dm("120ms cubic-bezier(0, 0, 0.2, 1)",G3([Fo({opacity:0,transform:"scale(1, 0.8)"}),Fo({opacity:1,transform:"scale(1, 1)"})]))),Im("void => enter-dialog",Dm("150ms cubic-bezier(0, 0, 0.2, 1)",G3([Fo({opacity:0,transform:"scale(0.7)"}),Fo({transform:"none",opacity:1})]))),Im("* => void",Dm("100ms linear",Fo({opacity:0})))]),fadeInCalendar:kT("fadeInCalendar",[cC("void",Fo({opacity:0})),cC("enter",Fo({opacity:1})),Im("void => *",Dm("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let K$=0;const gH=new s.OlP("mat-datepicker-scroll-strategy"),J$={provide:gH,deps:[Uf],useFactory:function Q$(n){return()=>n.scrollStrategies.reposition()}},X$=Cv(class{constructor(n){this._elementRef=n}});let eK=(()=>{class n extends X${constructor(e,i,r,o,c,d){super(e),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=o,this._rangeSelectionStrategy=c,this._subscriptions=new di.w0,this._animationDone=new jt.x,this._actionsPortal=null,this._closeButtonText=d.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,r=e.value,o=i instanceof io;if(o&&this._rangeSelectionStrategy){const c=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(c,this)}else r&&(o||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,i){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,i&&this._changeDetectorRef.detectChanges()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Zf),s.Y36(kr),s.Y36(UT,8),s.Y36(mC))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(e,i){if(1&e&&s.Gf(SP,5),2&e){let r;s.iGM(r=s.CRH())&&(i._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,i){1&e&&s.WFA("@transformPanel.done",function(){return i._animationDone.next()}),2&e&&(s.d8E("@transformPanel",i._animationState),s.ekj("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[s.qOj],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,i){if(1&e&&(s.TgZ(0,"div",0)(1,"mat-calendar",1),s.NdJ("yearSelected",function(o){return i.datepicker._selectYear(o)})("monthSelected",function(o){return i.datepicker._selectMonth(o)})("viewChanged",function(o){return i.datepicker._viewChanged(o)})("_userSelection",function(o){return i._handleUserSelection(o)}),s.qZA(),s.YNc(2,k$,0,0,"ng-template",2),s.TgZ(3,"button",3),s.NdJ("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),s._uU(4),s.qZA()()),2&e){let r;s.ekj("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),s.uIk("aria-modal",!0)("aria-labelledby",null!==(r=i._dialogLabelId)&&void 0!==r?r:void 0),s.xp6(1),s.Q6J("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter"),s.xp6(1),s.Q6J("cdkPortalOutlet",i._actionsPortal),s.xp6(1),s.ekj("cdk-visually-hidden",!i._closeButtonFocused),s.Q6J("color",i.color||"primary"),s.xp6(1),s.Oqu(i._closeButtonText)}},dependencies:[hn,Ev,wq,oC,SP],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[pH.transformPanel,pH.fadeInCalendar]},changeDetection:0}),n})(),mH=(()=>{class n{constructor(e,i,r,o,c,d,p){this._overlay=e,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=c,this._dir=d,this._model=p,this._inputStateChanges=di.w0.EMPTY,this._document=(0,s.f3M)(ae),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new s.vpe,this.monthSelected=new s.vpe,this.viewChanged=new s.vpe(!0),this.openedStream=new s.vpe,this.closedStream=new s.vpe,this._opened=!1,this.id="mat-datepicker-"+K$++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new jt.x,this._scrollStrategy=o}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=ns(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=ns(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=ns(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function nq(n,t=/\s+/){const e=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(t);for(const r of i){const o=`${r}`.trim();o&&e.push(o)}}return e}(e)}get opened(){return this._opened}set opened(e){ns(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof P3&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=$0(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;const e=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,i=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:r,location:o}=this._componentRef;r._startExitAnimation(),r._animationDone.pipe(nn(1)).subscribe(()=>{const c=this._document.activeElement;e&&(!c||c===this._document.activeElement||o.nativeElement.contains(c))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}e?setTimeout(i):i()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=new sC(eK,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new nP({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(r).subscribe(o=>{o&&o.preventDefault(),this.close()}),r.keydownEvents().subscribe(o=>{const c=o.keyCode;(38===c||40===c||37===c||39===c||33===c||34===c)&&o.preventDefault()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(nn(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",r="start"===i?"end":"start",o="above"===this.yPosition?"bottom":"top",c="top"===o?"bottom":"top";return e.withPositions([{originX:i,originY:c,overlayX:i,overlayY:o},{originX:i,originY:o,overlayX:i,overlayY:c},{originX:r,originY:c,overlayX:r,overlayY:o},{originX:r,originY:o,overlayX:r,overlayY:c}])}_getCloseStream(e){return(0,Ja.T)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(x(i=>27===i.keyCode&&!J0(i)||this.datepickerInput&&J0(i,"altKey")&&38===i.keyCode)))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Uf),s.Y36(s.R0b),s.Y36(s.s_b),s.Y36(gH),s.Y36(kr,8),s.Y36(Yu,8),s.Y36(Zf))},n.\u0275dir=s.lG2({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[s.TTD]}),n})();class HT{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let _H=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new s.vpe,this.dateInput=new s.vpe,this.stateChanges=new jt.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=di.w0.EMPTY,this._localeSubscription=di.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=o=>{const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value));return!c||this._matchesFilter(c)?null:{matDatepickerFilter:!0}},this._minValidator=o=>{const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),d=this._getMinDate();return!d||!c||this._dateAdapter.compareDate(d,c)<=0?null:{matDatepickerMin:{min:d,actual:c}}},this._maxValidator=o=>{const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),d=this._getMaxDate();return!d||!c||this._dateAdapter.compareDate(d,c)>=0?null:{matDatepickerMax:{max:d,actual:c}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=ns(e),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new HT(this,this._elementRef.nativeElement)),this.dateChange.emit(new HT(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){yH(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const o=!this._dateAdapter.sameDate(r,this.value);!r||o?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),o&&(this._assignValue(r),this.dateInput.emit(new HT(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new HT(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(kr,8),s.Y36($u,8))},n.\u0275dir=s.lG2({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[s.TTD]}),n})();function yH(n,t){const e=Object.keys(n);for(let i of e){const{previousValue:r,currentValue:o}=n[i];if(!t.isDateInstance(r)||!t.isDateInstance(o))return!0;if(!t.sameDate(r,o))return!0}return!1}let iK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n})(),rK=(()=>{class n{constructor(e,i,r){this._intl=e,this._changeDetectorRef=i,this._stateChanges=di.w0.EMPTY;const o=Number(r);this.tabIndex=o||0===o?o:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=ns(e)}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:dt(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:dt(),r=this.datepicker?(0,Ja.T)(this.datepicker.openedStream,this.datepicker.closedStream):dt();this._stateChanges.unsubscribe(),this._stateChanges=(0,Ja.T)(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(mC),s.Y36(s.sBO),s.$8M("tabindex"))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,iK,5),2&e){let o;s.iGM(o=s.CRH())&&(i._customIcon=o.first)}},viewQuery:function(e,i){if(1&e&&s.Gf(O$,5),2&e){let r;s.iGM(r=s.CRH())&&(i._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._open(o)}),2&e&&(s.uIk("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),s.ekj("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[s.TTD],ngContentSelectors:N$,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,i){1&e&&(s.F$t(P$),s.TgZ(0,"button",0,1),s.YNc(2,R$,2,0,"svg",2),s.Hsn(3),s.qZA()),2&e&&(s.Q6J("disabled",i.disabled)("disableRipple",i.disableRipple),s.uIk("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),s.xp6(2),s.Q6J("ngIf",!i._customIcon))},dependencies:[bn,Ev],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0}),n})();const zT=new s.OlP("MAT_DATE_RANGE_INPUT_PARENT"),AH=Fq((()=>{class n extends _H{constructor(e,i,r,o,c,d,p,_){super(i,p,_),this._rangeInput=e,this._elementRef=i,this._defaultErrorStateMatcher=r,this._injector=o,this._parentForm=c,this._parentFormGroup=d,this._dir=(0,s.f3M)(Yu,s.XFs.Optional)}ngOnInit(){const e=this._injector.get(Yl,null,s.XFs.Self|s.XFs.Optional);e&&(this.ngControl=e)}ngDoCheck(){this.ngControl&&this.updateErrorState()}isEmpty(){return 0===this._elementRef.nativeElement.value.length}_getPlaceholder(){return this._elementRef.nativeElement.placeholder}focus(){this._elementRef.nativeElement.focus()}_onInput(e){super._onInput(e),this._rangeInput._handleChildValueChange()}_openPopup(){this._rangeInput._openDatepicker()}_getMinDate(){return this._rangeInput.min}_getMaxDate(){return this._rangeInput.max}_getDateFilter(){return this._rangeInput.dateFilter}_parentDisabled(){return this._rangeInput._groupDisabled}_shouldHandleChangeEvent({source:e}){return e!==this._rangeInput._startInput&&e!==this._rangeInput._endInput}_assignValueProgrammatically(e){super._assignValueProgrammatically(e),(this===this._rangeInput._startInput?this._rangeInput._endInput:this._rangeInput._startInput)?._validatorOnChange()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(zT),s.Y36(s.SBq),s.Y36(DT),s.Y36(s.zs3),s.Y36(tf,8),s.Y36(To,8),s.Y36(kr,8),s.Y36($u,8))},n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})());let bH=(()=>{class n extends AH{constructor(e,i,r,o,c,d,p,_){super(e,i,r,o,c,d,p,_),this._startValidator=b=>{const I=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(b.value)),O=this._model?this._model.selection.end:null;return!I||!O||this._dateAdapter.compareDate(I,O)<=0?null:{matStartDateInvalid:{end:O,actual:I}}},this._validator=eg.compose([...super._getValidators(),this._startValidator])}_getValueFromModel(e){return e.start}_shouldHandleChangeEvent(e){return!(!super._shouldHandleChangeEvent(e)||(e.oldValue?.start?e.selection.start&&!this._dateAdapter.compareDate(e.oldValue.start,e.selection.start):!e.selection.start))}_assignValueToModel(e){if(this._model){const i=new io(e,this._model.selection.end);this._model.updateSelection(i,this)}}_formatValue(e){super._formatValue(e),this._rangeInput._handleChildValueChange()}getMirrorValue(){const e=this._elementRef.nativeElement,i=e.value;return i.length>0?i:e.placeholder}_onKeydown(e){const i=this._rangeInput._endInput,r=this._elementRef.nativeElement,o="rtl"!==this._dir?.value;(39===e.keyCode&&o||37===e.keyCode&&!o)&&r.selectionStart===r.value.length&&r.selectionEnd===r.value.length?(e.preventDefault(),i._elementRef.nativeElement.setSelectionRange(0,0),i.focus()):super._onKeydown(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(zT),s.Y36(s.SBq),s.Y36(DT),s.Y36(s.zs3),s.Y36(tf,8),s.Y36(To,8),s.Y36(kr,8),s.Y36($u,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matStartDate",""]],hostAttrs:["type","text",1,"mat-start-date","mat-date-range-input-inner"],hostVars:6,hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._onInput(o.target.value)})("change",function(){return i._onChange()})("keydown",function(o){return i._onKeydown(o)})("blur",function(){return i._onBlur()}),2&e&&(s.Ikx("disabled",i.disabled),s.uIk("id",i._rangeInput.id)("aria-haspopup",i._rangeInput.rangePicker?"dialog":null)("aria-owns",(null==i._rangeInput.rangePicker?null:i._rangeInput.rangePicker.opened)&&i._rangeInput.rangePicker.id||null)("min",i._getMinDate()?i._dateAdapter.toIso8601(i._getMinDate()):null)("max",i._getMaxDate()?i._dateAdapter.toIso8601(i._getMaxDate()):null))},inputs:{errorStateMatcher:"errorStateMatcher"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[s._Bn([{provide:Os,useExisting:n,multi:!0},{provide:Dr,useExisting:n,multi:!0}]),s.qOj]}),n})(),wH=(()=>{class n extends AH{constructor(e,i,r,o,c,d,p,_){super(e,i,r,o,c,d,p,_),this._endValidator=b=>{const I=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(b.value)),O=this._model?this._model.selection.start:null;return!I||!O||this._dateAdapter.compareDate(I,O)>=0?null:{matEndDateInvalid:{start:O,actual:I}}},this._validator=eg.compose([...super._getValidators(),this._endValidator])}_getValueFromModel(e){return e.end}_shouldHandleChangeEvent(e){return!(!super._shouldHandleChangeEvent(e)||(e.oldValue?.end?e.selection.end&&!this._dateAdapter.compareDate(e.oldValue.end,e.selection.end):!e.selection.end))}_assignValueToModel(e){if(this._model){const i=new io(this._model.selection.start,e);this._model.updateSelection(i,this)}}_onKeydown(e){const i=this._rangeInput._startInput,r=this._elementRef.nativeElement,o="rtl"!==this._dir?.value;if(8!==e.keyCode||r.value)if((37===e.keyCode&&o||39===e.keyCode&&!o)&&0===r.selectionStart&&0===r.selectionEnd){e.preventDefault();const c=i._elementRef.nativeElement.value.length;i._elementRef.nativeElement.setSelectionRange(c,c),i.focus()}else super._onKeydown(e);else i.focus()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(zT),s.Y36(s.SBq),s.Y36(DT),s.Y36(s.zs3),s.Y36(tf,8),s.Y36(To,8),s.Y36(kr,8),s.Y36($u,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matEndDate",""]],hostAttrs:["type","text",1,"mat-end-date","mat-date-range-input-inner"],hostVars:5,hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._onInput(o.target.value)})("change",function(){return i._onChange()})("keydown",function(o){return i._onKeydown(o)})("blur",function(){return i._onBlur()}),2&e&&(s.Ikx("disabled",i.disabled),s.uIk("aria-haspopup",i._rangeInput.rangePicker?"dialog":null)("aria-owns",(null==i._rangeInput.rangePicker?null:i._rangeInput.rangePicker.opened)&&i._rangeInput.rangePicker.id||null)("min",i._getMinDate()?i._dateAdapter.toIso8601(i._getMinDate()):null)("max",i._getMaxDate()?i._dateAdapter.toIso8601(i._getMaxDate()):null))},inputs:{errorStateMatcher:"errorStateMatcher"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[s._Bn([{provide:Os,useExisting:n,multi:!0},{provide:Dr,useExisting:n,multi:!0}]),s.qOj]}),n})(),sK=0,oK=(()=>{class n{constructor(e,i,r,o,c){if(this._changeDetectorRef=e,this._elementRef=i,this._dateAdapter=o,this._formField=c,this._closedSubscription=di.w0.EMPTY,this.id="mat-date-range-input-"+sK++,this.focused=!1,this.controlType="mat-date-range-input",this._groupDisabled=!1,this._ariaDescribedBy=null,this.separator="\u2013",this.comparisonStart=null,this.comparisonEnd=null,this.stateChanges=new jt.x,c?._elementRef.nativeElement.classList.contains("mat-mdc-form-field")){const d=i.nativeElement.classList;d.add("mat-mdc-input-element"),d.add("mat-mdc-form-field-input-control")}this.ngControl=r}get value(){return this._model?this._model.selection:null}get shouldLabelFloat(){return this.focused||!this.empty}get placeholder(){const e=this._startInput?._getPlaceholder()||"",i=this._endInput?._getPlaceholder()||"";return e||i?`${e} ${this.separator} ${i}`:""}get rangePicker(){return this._rangePicker}set rangePicker(e){e&&(this._model=e.registerInput(this),this._rangePicker=e,this._closedSubscription.unsubscribe(),this._closedSubscription=e.closedStream.subscribe(()=>{this._startInput?._onTouched(),this._endInput?._onTouched()}),this._registerModel(this._model))}get required(){return!!this._required}set required(e){this._required=ns(e)}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._startInput,r=this._endInput,o=i&&i._matchesFilter(i.value),c=r&&r._matchesFilter(i.value);this._dateFilter=e,i&&i._matchesFilter(i.value)!==o&&i._validatorOnChange(),r&&r._matchesFilter(r.value)!==c&&r._validatorOnChange()}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._revalidate())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._revalidate())}get disabled(){return this._startInput&&this._endInput?this._startInput.disabled&&this._endInput.disabled:this._groupDisabled}set disabled(e){const i=ns(e);i!==this._groupDisabled&&(this._groupDisabled=i,this.stateChanges.next(void 0))}get errorState(){return!(!this._startInput||!this._endInput)&&(this._startInput.errorState||this._endInput.errorState)}get empty(){const e=!!this._startInput&&this._startInput.isEmpty(),i=!!this._endInput&&this._endInput.isEmpty();return e&&i}setDescribedByIds(e){this._ariaDescribedBy=e.length?e.join(" "):null}onContainerClick(){!this.focused&&!this.disabled&&(this._model&&this._model.selection.start?this._endInput.focus():this._startInput.focus())}ngAfterContentInit(){this._model&&this._registerModel(this._model),(0,Ja.T)(this._startInput.stateChanges,this._endInput.stateChanges).subscribe(()=>{this.stateChanges.next(void 0)})}ngOnChanges(e){yH(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._closedSubscription.unsubscribe(),this.stateChanges.complete()}getStartValue(){return this.value?this.value.start:null}getThemePalette(){return this._formField?this._formField.color:void 0}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():null}_getInputMirrorValue(){return this._startInput?this._startInput.getMirrorValue():""}_shouldHidePlaceholders(){return!!this._startInput&&!this._startInput.isEmpty()}_handleChildValueChange(){this.stateChanges.next(void 0),this._changeDetectorRef.markForCheck()}_openDatepicker(){this._rangePicker&&this._rangePicker.open()}_shouldHideSeparator(){return(!this._formField||this._formField.getLabelId()&&!this._formField._shouldLabelFloat())&&this.empty}_getAriaLabelledby(){const e=this._formField;return e&&e._hasFloatingLabel()?e._labelId:null}_updateFocus(e){this.focused=null!==e,this.stateChanges.next()}_revalidate(){this._startInput&&this._startInput._validatorOnChange(),this._endInput&&this._endInput._validatorOnChange()}_registerModel(e){this._startInput&&this._startInput._registerModel(e),this._endInput&&this._endInput._registerModel(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(Xr,10),s.Y36(kr,8),s.Y36(AP,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-date-range-input"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,bH,5),s.Suo(r,wH,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._startInput=o.first),s.iGM(o=s.CRH())&&(i._endInput=o.first)}},hostAttrs:["role","group",1,"mat-date-range-input"],hostVars:8,hostBindings:function(e,i){2&e&&(s.uIk("id",null)("aria-labelledby",i._getAriaLabelledby())("aria-describedby",i._ariaDescribedBy)("data-mat-calendar",i.rangePicker?i.rangePicker.id:null),s.ekj("mat-date-range-input-hide-placeholders",i._shouldHidePlaceholders())("mat-date-range-input-required",i.required))},inputs:{rangePicker:"rangePicker",required:"required",dateFilter:"dateFilter",min:"min",max:"max",disabled:"disabled",separator:"separator",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},exportAs:["matDateRangeInput"],features:[s._Bn([{provide:yP,useExisting:n},{provide:zT,useExisting:n}]),s.TTD],ngContentSelectors:L$,decls:9,vars:4,consts:[["cdkMonitorSubtreeFocus","",1,"mat-date-range-input-container",3,"cdkFocusChange"],[1,"mat-date-range-input-start-wrapper"],["aria-hidden","true",1,"mat-date-range-input-mirror"],[1,"mat-date-range-input-separator"],[1,"mat-date-range-input-end-wrapper"]],template:function(e,i){1&e&&(s.F$t(F$),s.TgZ(0,"div",0),s.NdJ("cdkFocusChange",function(o){return i._updateFocus(o)}),s.TgZ(1,"div",1),s.Hsn(2),s.TgZ(3,"span",2),s._uU(4),s.qZA()(),s.TgZ(5,"span",3),s._uU(6),s.qZA(),s.TgZ(7,"div",4),s.Hsn(8,1),s.qZA()()),2&e&&(s.xp6(4),s.Oqu(i._getInputMirrorValue()),s.xp6(1),s.ekj("mat-date-range-input-separator-hidden",i._shouldHideSeparator()),s.xp6(1),s.Oqu(i.separator))},dependencies:[h3],styles:[".mat-date-range-input{display:block;width:100%}.mat-date-range-input-container{display:flex;align-items:center}.mat-date-range-input-separator{transition:opacity 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);margin:0 4px}._mat-animation-noopable .mat-date-range-input-separator{transition:none}.mat-date-range-input-separator-hidden{-webkit-user-select:none;user-select:none;opacity:0;transition:none}.mat-date-range-input-inner{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;vertical-align:bottom;text-align:inherit;-webkit-appearance:none;width:100%}.mat-date-range-input-inner:-moz-ui-invalid{box-shadow:none}.mat-date-range-input-inner::placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner::-moz-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner::-webkit-input-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner:-ms-input-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-date-range-input-inner::placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner::-moz-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-moz-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::-moz-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner::-webkit-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::-webkit-input-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner:-ms-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner:-ms-input-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner:-ms-input-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-date-range-input-inner::placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner::-moz-placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner:-ms-input-placeholder{transition:none}.mat-date-range-input-mirror{-webkit-user-select:none;user-select:none;visibility:hidden;white-space:nowrap;display:inline-block;min-width:2px}.mat-date-range-input-start-wrapper{position:relative;overflow:hidden;max-width:calc(50% - 4px)}.mat-date-range-input-start-wrapper .mat-date-range-input-inner{position:absolute;top:0;left:0}.mat-date-range-input-end-wrapper{flex-grow:1;max-width:calc(50% - 4px)}.mat-form-field-type-mat-date-range-input .mat-form-field-infix{width:200px}"],encapsulation:2,changeDetection:0}),n})(),aK=(()=>{class n extends mH{_forwardContentValues(e){super._forwardContentValues(e);const i=this.datepickerInput;i&&(e.comparisonStart=i.comparisonStart,e.comparisonEnd=i.comparisonEnd)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-date-range-picker"]],exportAs:["matDateRangePicker"],features:[s._Bn([j$,Z$,{provide:mH,useExisting:n}]),s.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),n})(),TP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[mC,J$],imports:[Mi,Dv,iP,m3,aC,_s,QR]}),n})();function lK(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Invalid start date"),s.qZA())}function cK(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Invalid end date"),s.qZA())}let CH=(()=>{class n{constructor(){this.numberOfDaysEmitter=new s.vpe,this.StartDateEndDate=new s.vpe,this.range=new So({start:new mn(null),end:new mn(null)}),this.cost=0,this.numberOfDays=0}ngOnInit(){}dayDifference(e,i){return Math.round(Math.abs((e-i)/864e5))}ngAfterViewChecked(){null!=this.range.controls.start.value&&null!=this.range.controls.end.value&&(this.startDate=this.range.value.start,this.endDate=this.range.value.end,this.numberOfDays=this.dayDifference(this.startDate,this.endDate),this.cost=this.numberOfDays*this.currentHotel.rooms[0].price,this.numberOfDaysEmitter.emit(this.numberOfDays),this.StartDateEndDate.emit({startDate:this.startDate,endDate:this.endDate}),this.endDate=null,this.startDate=null)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-date-picker"]],inputs:{currentHotel:"currentHotel"},outputs:{numberOfDaysEmitter:"numberOfDaysEmitter",StartDateEndDate:"StartDateEndDate"},decls:11,vars:5,consts:[["appearance","fill"],[3,"formGroup","rangePicker"],["matStartDate","","formControlName","start","placeholder","Start date"],["matEndDate","","formControlName","end","placeholder","End date"],["matIconSuffix","",3,"for"],["picker",""],[4,"ngIf"]],template:function(e,i){if(1&e&&(s.TgZ(0,"mat-form-field",0)(1,"mat-label"),s._uU(2,"Enter a date range"),s.qZA(),s.TgZ(3,"mat-date-range-input",1),s._UZ(4,"input",2)(5,"input",3),s.qZA(),s._UZ(6,"mat-datepicker-toggle",4)(7,"mat-date-range-picker",null,5),s.YNc(9,lK,2,0,"mat-error",6),s.YNc(10,cK,2,0,"mat-error",6),s.qZA()),2&e){const r=s.MAs(8);s.xp6(3),s.Q6J("formGroup",i.range)("rangePicker",r),s.xp6(3),s.Q6J("for",r),s.xp6(3),s.Q6J("ngIf",i.range.controls.start.hasError("matStartDateInvalid")),s.xp6(1),s.Q6J("ngIf",i.range.controls.end.hasError("matEndDateInvalid"))}},dependencies:[bn,c$,y$,vP,il,Od,Rd,To,Ru,rK,oK,bH,wH,aK],styles:[".date-picker[_ngcontent-%COMP%]{align-items:center;margin-left:auto;margin-right:20%}mat-form-field[_ngcontent-%COMP%]{margin-top:10px;margin-left:5%;height:95px;width:90%}mat-datepicker-toggle[_ngcontent-%COMP%]{margin-left:80%}mat-label[_ngcontent-%COMP%]{margin-left:20%}"]}),n})(),uK=(()=>{class n{constructor(e,i){this.router=e,this.dialog=i,this.cost=0,this.numberOfDays=0,this.startDateEndDate=0}ngOnInit(){}numberOfDaysChanged(e){this.numberOfDays=e,this.cost=this.numberOfDays*this.currentHotel.rooms[0].price}reservationBtn(){localStorage.user&&JSON.parse(localStorage.user).uid?this.router.navigate(["/reservation"],{queryParams:{numberOfDays:this.numberOfDays,cost:this.cost,currentHotelId:this.currentHotel.id,startDateEndDate:JSON.stringify(this.startDateEndDate)}}):this.dialog.open(lP)}StartDateEndDate(e){this.startDateEndDate=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(hi),s.Y36(Sv))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-hotel-reserve"]],inputs:{currentHotel:"currentHotel"},decls:23,vars:4,consts:[[1,"calendar"],[1,"col","col-md-12","calculator"],[1,"price"],[3,"currentHotel","numberOfDaysEmitter","StartDateEndDate"],["mat-raised-button","","color","warn",1,"reserve-btn",3,"click"],[1,"chooseDays","d-flex"],[1,"daysAndPrice"],[1,"daysAndPrice","number-of-days"],[1,"cost","d-flex"],[1,"daysAndPrice","total-cost"]],template:function(e,i){1&e&&(s.TgZ(0,"aside",0)(1,"div",1)(2,"p",2)(3,"b"),s._uU(4),s.qZA(),s._uU(5," night "),s.qZA(),s.TgZ(6,"app-date-picker",3),s.NdJ("numberOfDaysEmitter",function(o){return i.numberOfDaysChanged(o)})("StartDateEndDate",function(o){return i.StartDateEndDate(o)}),s.qZA(),s.TgZ(7,"button",4),s.NdJ("click",function(){return i.reservationBtn()}),s._uU(8," Reserve "),s.qZA(),s.TgZ(9,"div",5)(10,"p",6),s._uU(11,"Number of days:"),s.qZA(),s.TgZ(12,"p",7)(13,"b"),s._uU(14),s.qZA()()(),s._UZ(15,"hr"),s.TgZ(16,"div",8)(17,"p",6)(18,"b"),s._uU(19,"Total "),s.qZA()(),s.TgZ(20,"p",9)(21,"b"),s._uU(22),s.qZA()()()()()),2&e&&(s.xp6(4),s.hij("$ ",i.currentHotel.rooms[0].price,""),s.xp6(2),s.Q6J("currentHotel",i.currentHotel),s.xp6(8),s.Oqu(i.numberOfDays),s.xp6(8),s.hij("",i.cost," $"))},dependencies:[CH,Ev],styles:[".reserve-btn[_ngcontent-%COMP%]{left:5%;top:20px;width:90%;height:50px}.chooseDays[_ngcontent-%COMP%]{margin-top:70px;margin-left:15px}.cost[_ngcontent-%COMP%]{margin-top:15px;margin-left:15px}.daysAndPrice[_ngcontent-%COMP%]{font-size:18px}.number-of-days[_ngcontent-%COMP%]{margin-left:40%}.total-cost[_ngcontent-%COMP%]{margin-left:65%}.price[_ngcontent-%COMP%]{margin:20px 0 10px 20px;font-size:20px}.calendar[_ngcontent-%COMP%]{margin-left:8%;border:1px solid rgb(167,159,159);border-radius:15px;height:380px;width:max-content}app-date-picker[_ngcontent-%COMP%]{align-items:center;margin-left:auto;margin-right:20%}@media screen and (max-width: 792px){aside[_ngcontent-%COMP%]{width:100%!important;margin-left:0!important}}"]}),n})(),EH=(()=>{class n{constructor(e,i){this.activatedRoute=e,this.baseHttpService=i,this.activatedRoute.params.subscribe(r=>{this.hotelId=r.id,this.baseHttpService.getById(`${ql_baseApiUrl}/Hotel/${this.hotelId}`).subscribe(c=>{this.currentHotel=c})})}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ua),s.Y36(xv))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-inner-hotel-pg"]],decls:8,vars:3,consts:[[1,"col-md-12","cont-max-width","cont-max-width","m-auto"],[1,"col","col-md-12"],["alt","...",1,"card-img-top","bannerImg",2,"object-fit","cover",3,"src"],[1,"row","description"],[1,"col-md-9"],[3,"currentHotel"],[1,"col-md-3"]],template:function(e,i){1&e&&(s.TgZ(0,"section",0)(1,"div",1),s._UZ(2,"img",2),s.qZA(),s.TgZ(3,"div",3)(4,"div",4),s._UZ(5,"app-hotel-information",5),s.qZA(),s.TgZ(6,"div",6),s._UZ(7,"app-hotel-reserve",5),s.qZA()()()),2&e&&(s.xp6(2),s.Q6J("src",i.currentHotel.mainImages[0],s.LSH),s.xp6(3),s.Q6J("currentHotel",i.currentHotel),s.xp6(2),s.Q6J("currentHotel",i.currentHotel))},dependencies:[qY,uK],styles:[".bannerImg[_ngcontent-%COMP%]{margin:20px 0;border-radius:15px;height:500px}.description[_ngcontent-%COMP%]{margin-bottom:20px}h2[_ngcontent-%COMP%]{margin-right:30%}@media screen and (max-width: 792px){.description[_ngcontent-%COMP%]{flex-wrap:wrap}.cont-max-width[_ngcontent-%COMP%]{max-width:100%!important}.bannerImg[_ngcontent-%COMP%]{margin:3px 0;height:50%}app-hotel-information[_ngcontent-%COMP%]{width:100%!important}}app-hotel-reserve[_ngcontent-%COMP%]{width:100%}"]}),n})();let Sm=(()=>{class n{constructor(e,i){this.firestore=e,this.router=i}getReservedHotel(e){return this.firestore.collection("users").doc(e).valueChanges()}deleteReservedHotel(e,i){const r=this.firestore.collection("users").doc(e);r.get().subscribe(o=>{let c=o.data();c.reservedHotels.splice(i,1),r.update({reservedHotels:c.reservedHotels})})}reserveHotel(e,i){if(!e)return!1;const r=this.firestore.collection("users").doc(e);let o=[i];return r.get().subscribe(c=>{let d=c.data();d.reservedHotels&&(0!=d.reservedHotels.length&&(o=o.concat(d.reservedHotels)),r.update({reservedHotels:o}))}),this.router.navigate(["/trip"]),!0}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gv),s.LFG(hi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hK=function(n){return{"image-active":n}};function fK(n,t){if(1&n&&s._UZ(0,"img",21),2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.MGl("routerLink","/hotel/",r.card.id,""),s.Q6J("src",e,s.LSH)("ngClass",s.VKq(3,hK,r.selectedIndex===i))}}const pK=function(n){return{active:n}};function gK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",22),s.NdJ("click",function(){const o=s.CHM(e).index,c=s.oxw();return s.KtG(c.selectImage(o))}),s.qZA()}if(2&n){const e=t.index,i=s.oxw();s.Q6J("ngClass",s.VKq(1,pK,i.selectedIndex===e))}}function mK(n,t){if(1&n&&(s.TgZ(0,"b"),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.hij("$ ",e.card.rooms[0].price,"")}}let DH=(()=>{class n{constructor(e){this.reservedService=e,this.selectedIndex=0}ngOnInit(){}selectImage(e){this.selectedIndex=e}onPrevClick(){0==this.selectedIndex?this.selectedIndex=this.card.mainImages.length-1:this.selectedIndex--}onNextClick(){this.selectedIndex===this.card.mainImages.length-1?this.selectedIndex=0:this.selectedIndex++}deleteHotel(){let e=JSON.parse(localStorage.user).uid?JSON.parse(localStorage.user).uid:null;this.reservedService.deleteReservedHotel(e,this.index)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Sm))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-profile-reserved-card"]],inputs:{card:"card",startDate:"startDate",endDate:"endDate",reservedDate:"reservedDate",price:"price",index:"index"},decls:41,vars:16,consts:[[1,"card-group"],[1,"card"],[1,"carousel-container","d-flex"],["alt","","class","animation-slider",3,"routerLink","src","ngClass",4,"ngFor","ngForOf"],[1,"carousel-dot-container"],["class","dot",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"btn-carousel","btn-prev"],[1,"fa","fa-arrow-circle-left","icon-carousel","icon-prev",3,"click"],[1,"btn-carousel","btn-next"],[1,"fa","fa-arrow-circle-right","icon-carousel","icon-next",3,"click"],[1,"card-body"],[1,"inner-body",3,"routerLink"],[1,"name-price"],[1,"card-title"],[1,"card-text"],[4,"ngIf"],[1,"card-text","hotel-reiting"],["viewBox","0 0 32 32","xmlns","http://www.w3.org/2000/svg","aria-hidden","true","role","presentation","focusable","false",2,"display","block","height","12px","width","12px","fill","currentcolor"],["d","M15.094 1.579l-4.124 8.885-9.86 1.27a1 1 0 0 0-.542 1.736l7.293 6.565-1.965 9.852a1 1 0 0 0 1.483 1.061L16 25.951l8.625 4.997a1 1 0 0 0 1.482-1.06l-1.965-9.853 7.293-6.565a1 1 0 0 0-.541-1.735l-9.86-1.271-4.127-8.885a1 1 0 0 0-1.814 0z","fill-rule","evenodd"],[1,"pay-info"],["type","button",1,"col-md-12","btn","btn-danger",3,"click"],["alt","",1,"animation-slider",3,"routerLink","src","ngClass"],[1,"dot",3,"ngClass","click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2),s.YNc(3,fK,1,5,"img",3),s.TgZ(4,"div",4),s.YNc(5,gK,1,3,"span",5),s.qZA(),s.TgZ(6,"button",6)(7,"i",7),s.NdJ("click",function(){return i.onPrevClick()}),s.qZA()(),s.TgZ(8,"button",8)(9,"i",9),s.NdJ("click",function(){return i.onNextClick()}),s.qZA()()(),s.TgZ(10,"div",10)(11,"div",11)(12,"div",12)(13,"p",13),s._uU(14),s.qZA(),s.TgZ(15,"p",14),s.YNc(16,mK,2,1,"b",15),s._uU(17," night "),s.qZA()(),s.TgZ(18,"p",16)(19,"span"),s.O4$(),s.TgZ(20,"svg",17),s._UZ(21,"path",18),s.qZA()(),s.kcU(),s.TgZ(22,"span"),s._uU(23),s.qZA()(),s._UZ(24,"hr"),s.TgZ(25,"div",19)(26,"p"),s._uU(27),s.ALo(28,"date"),s.qZA(),s.TgZ(29,"p")(30,"b"),s._uU(31,"Days:"),s.qZA(),s._uU(32),s.ALo(33,"date"),s.ALo(34,"date"),s.qZA(),s.TgZ(35,"h3")(36,"b"),s._uU(37,"Total price:"),s.qZA(),s._uU(38),s.qZA()()(),s.TgZ(39,"button",20),s.NdJ("click",function(){return i.deleteHotel()}),s._uU(40,"Delete"),s.qZA()()()()),2&e&&(s.xp6(3),s.Q6J("ngForOf",i.card.mainImages),s.xp6(2),s.Q6J("ngForOf",i.card.mainImages),s.xp6(6),s.MGl("routerLink","/hotel/",i.card.id,""),s.xp6(3),s.Oqu(i.card.name),s.xp6(2),s.Q6J("ngIf",null!=i.card.rooms[0]),s.xp6(7),s.hij(" ",i.card.starCount,""),s.xp6(4),s.hij("Reservation time: ",s.lcZ(28,10,i.reservedDate.toDate()),""),s.xp6(5),s.AsE(" ",s.lcZ(33,12,i.startDate)," - ",s.lcZ(34,14,i.endDate),""),s.xp6(6),s.hij(" ",i.price,""))},dependencies:[hn,Nn,bn,xu,lc],styles:[".card-group[_ngcontent-%COMP%]{max-width:100%}.card[_ngcontent-%COMP%]{margin-bottom:15px;border-radius:10px;cursor:pointer}.card-title[_ngcontent-%COMP%]{font-size:15px;font-weight:600;margin-top:none!important;max-height:23px;overflow:hidden}.hotel-reiting[_ngcontent-%COMP%]{display:flex;align-items:center}.hotel-reiting[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child   svg[_ngcontent-%COMP%]{margin-left:0!important}.hotel-reiting[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child{font-size:15px;margin-left:5px}.card-body[_ngcontent-%COMP%]{cursor:pointer}.carousel-container[_ngcontent-%COMP%]{position:relative;box-shadow:0 6px 12px #dce1e1;width:100%}.carousel-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:250px;display:none;border-radius:10px 10px 0 0;object-fit:cover}.carousel-container[_ngcontent-%COMP%]   img.image-active[_ngcontent-%COMP%]{display:block}.carousel-dot-container[_ngcontent-%COMP%]{position:absolute;right:0;left:0;bottom:0;display:flex;justify-content:center;padding:0;margin-bottom:1rem}.carousel-dot-container[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{cursor:pointer;height:7px;width:7px;margin:0 3px;background-color:#fff;border-radius:50%;display:inline-block;transition:opacity .6s ease;opacity:.5}.active[_ngcontent-%COMP%], .dot[_ngcontent-%COMP%]:hover{opacity:1!important}.animation-slider[_ngcontent-%COMP%]{animation-name:fade;animation-duration:1.5s}@keyframes fade{0%{opacity:.4}to{opacity:1}}.btn-carousel[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;display:flex;align-items:center;justify-content:center;width:15%;padding:0;color:#fff;text-align:center;background:0 0;border:0;cursor:pointer}.btn-prev[_ngcontent-%COMP%]{left:0}.icon-carousel[_ngcontent-%COMP%]{color:#fff;opacity:.5;transition:all .15s ease}.icon-carousel[_ngcontent-%COMP%]:hover{opacity:.9}.icon-carousel[_ngcontent-%COMP%]:active{opacity:.5}.icon-next[_ngcontent-%COMP%], .icon-prev[_ngcontent-%COMP%]{font-size:25px}.btn-next[_ngcontent-%COMP%]{right:0}"]}),n})();function _K(n,t){if(1&n&&s._UZ(0,"app-profile-reserved-card",7),2&n){const e=t.$implicit,i=t.index;s.Q6J("card",e.hotel)("startDate",e.startDate)("endDate",e.endDate)("reservedDate",e.reserveDate)("price",e.pricePaid)("index",i)}}function yK(n,t){1&n&&s._UZ(0,"app-card",8),2&n&&s.Q6J("card",t.$implicit)}let IH=(()=>{class n{constructor(e,i,r){this.wshlistService=e,this.reservedService=i,this.baseHttpService=r,this.reservedHotelArray=[],this.wishlistArray=[]}ngOnInit(){var e=this;let i=JSON.parse(localStorage.user).uid?JSON.parse(localStorage.user).uid:null;null!=i&&this.reservedService.getReservedHotel(i).subscribe(function(){var r=(0,xe.Z)(function*(o){e.reservedHotelArray=o.reservedHotels,0!=e.wishlistArray.length&&(e.wishlistArray=[],console.log(e.wishlistArray,"Ssss")),yield o.wishlist.forEach(function(){var c=(0,xe.Z)(function*(d){let p=!0;e.baseHttpService.getById(`http://airbnb-dev.us-east-1.elasticbeanstalk.com/api/Hotel/${d}`).subscribe(_=>{e.wishlistArray.push(_),p=!1})});return function(d){return c.apply(this,arguments)}}()),e.wshlistService.loadWishlist(i)});return function(o){return r.apply(this,arguments)}}())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(iU),s.Y36(Sm),s.Y36(xv))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-trip"]],decls:13,vars:2,consts:[[1,"profile-page"],[1,"reserved"],[1,"col-md-12"],[1,"reserved-hotel-card"],[3,"card","startDate","endDate","reservedDate","price","index",4,"ngFor","ngForOf"],[1,"wishlist"],[3,"card",4,"ngFor","ngForOf"],[3,"card","startDate","endDate","reservedDate","price","index"],[3,"card"]],template:function(e,i){1&e&&(s.TgZ(0,"article",0)(1,"div",1)(2,"div",2)(3,"h2"),s._uU(4,"Reserved Hotels"),s.qZA()(),s.TgZ(5,"div",3),s.YNc(6,_K,1,6,"app-profile-reserved-card",4),s.qZA()(),s.TgZ(7,"div",5)(8,"div",2)(9,"h2"),s._uU(10,"Favourite Hotels"),s.qZA()(),s.TgZ(11,"div",3),s.YNc(12,yK,1,1,"app-card",6),s.qZA()()()),2&e&&(s.xp6(6),s.Q6J("ngForOf",i.reservedHotelArray),s.xp6(6),s.Q6J("ngForOf",i.wishlistArray))},dependencies:[Nn,Tv,DH],styles:[".profile-page[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:flex;justify-content:center!important;font-size:30px!important;margin:30px 0 50px!important}.reserved-hotel-card[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(278px,1fr));grid-gap:15px}"]}),n})(),jT=(()=>{class n{constructor(e){this.firestore=e}getSavedCreditCards(){let e=JSON.parse(localStorage.user).uid?JSON.parse(localStorage.user).uid:null;return this.firestore.collection("users").doc(e).valueChanges()}addCreditCard(e,i){if(console.log(e),!e)return!1;const r=this.firestore.collection("users").doc(e);let o=[i];return r.get().subscribe(c=>{let d=c.data();console.log(c.data()),d.creditCards&&(0!=d.creditCards.length&&(o=o.concat(d.creditCards)),console.log(o),r.update({creditCards:o}))}),!0}removeCreditCard(e,i){var r=this;return(0,xe.Z)(function*(){if(console.log(e),!e)return!1;const o=yield r.firestore.collection("users").doc(e);return o.get().subscribe(function(){var c=(0,xe.Z)(function*(d){let p=yield d.data();console.log(p.creditCards),p.creditCards.splice(i,1),o.update({creditCards:p.creditCards})});return function(d){return c.apply(this,arguments)}}()),!0})()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gv))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vK(n,t){1&n&&(s.TgZ(0,"h5"),s._uU(1,"Your Cards:"),s.qZA())}function AK(n,t){if(1&n&&(s.TgZ(0,"option",22),s.ALo(1,"json"),s._uU(2),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",s.lcZ(1,2,e)),s.xp6(2),s.hij("***",e.cardNumber.toString().substring(e.cardNumber.toString().length-4),"")}}function bK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"select",19),s.NdJ("change",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onCardChange(r))}),s.TgZ(1,"option",20),s._uU(2,"New Card"),s.qZA(),s.YNc(3,AK,3,4,"option",21),s.qZA()}if(2&n){const e=s.oxw();s.xp6(3),s.Q6J("ngForOf",e.Cards)}}let SH=(()=>{class n{constructor(e,i,r){this.creditCardService=e,this.activeroute=i,this.reserve=r,this.onSubmitEmitter=new s.vpe,this.creditCard=new So({cardName:new mn(""),cardNumber:new mn(""),expirationDay:new mn(""),expirationMonth:new mn(""),cvv:new mn(""),saveCreditCard:new mn("")}),this.Cards=[],this.creditCardService.getSavedCreditCards().subscribe(o=>this.Cards=o.creditCards),console.log(this.Cards)}ngOnInit(){}onSubmit(){this.onSubmitEmitter.emit(this.creditCard)}onCardChange(e){e.target.value?(console.log(e.target.value),this.creditCard.patchValue(JSON.parse(e.target.value)),console.log(this.creditCard.value)):this.creditCard.reset()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(jT),s.Y36(ua),s.Y36(Sm))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-pay-form"]],outputs:{onSubmitEmitter:"onSubmitEmitter"},decls:34,vars:3,consts:[[1,"payment-info"],[1,"pay-title"],[3,"formGroup","ngSubmit"],[1,"tab-for"],[4,"ngIf"],["class","choose-card","name","","id","",3,"change",4,"ngIf"],["formControlName","cardName","type","text","value",""],["formControlName","cardNumber","type","text","value","0000-0000-0000-0000","required","",1,"pay-logo"],[1,"transaction"],[1,"tab-form-left","user-form"],["formControlName","expirationDay","type","number","type","text","value","6","min","1",1,"text_box"],["formControlName","expirationMonth","type","number","type","text","value","1988","min","1",1,"text_box"],[1,"tab-form-right","user-form-rt"],["formControlName","cvv","type","text","value","xxxx","required",""],[1,"clear"],["type","submit","value","SUBMIT"],[1,"single-bottom"],["formControlName","saveCreditCard","type","checkbox","id","brand","value",""],["for","brand"],["name","","id","",1,"choose-card",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"h3",1),s._uU(2,"Credit Card Info"),s.qZA(),s.TgZ(3,"form",2),s.NdJ("ngSubmit",function(){return i.onSubmit()}),s.TgZ(4,"div",3),s.YNc(5,vK,2,0,"h5",4),s.YNc(6,bK,4,1,"select",5),s.TgZ(7,"h5"),s._uU(8,"NAME ON CARD"),s.qZA(),s._UZ(9,"input",6),s.TgZ(10,"h5"),s._uU(11,"CARD NUMBER"),s.qZA(),s._UZ(12,"input",7),s.qZA(),s.TgZ(13,"div",8)(14,"div",9)(15,"h5"),s._uU(16,"EXPIRATION"),s.qZA(),s.TgZ(17,"ul")(18,"li"),s._UZ(19,"input",10),s.qZA(),s.TgZ(20,"li"),s._UZ(21,"input",11),s.qZA()()(),s.TgZ(22,"div",12)(23,"h5"),s._uU(24,"CVV NUMBER"),s.qZA(),s._UZ(25,"input",13),s.qZA(),s._UZ(26,"div",14),s.qZA(),s._UZ(27,"input",15),s.TgZ(28,"div",16)(29,"ul")(30,"li"),s._UZ(31,"input",17),s.TgZ(32,"label",18),s._uU(33," Save Credit Card."),s.qZA()()()()()()),2&e&&(s.xp6(3),s.Q6J("formGroup",i.creditCard),s.xp6(2),s.Q6J("ngIf",0!=i.Cards.length),s.xp6(1),s.Q6J("ngIf",0!=i.Cards.length))},dependencies:[Nn,bn,Nd,$b,Kb,il,ey,Od,Rd,sf,To,Ru,Hs],styles:["li[_ngcontent-%COMP%]{list-style:none}.payment-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:26px;text-align:center;margin-bottom:15px;color:#3ad5a0;font-weight:500}.tab-for[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .tab-form-left[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .tab-form-right[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#435964;font-size:13px;text-transform:uppercase;margin:0 0 8px;font-weight:600}.tab-for[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:96%;padding:8px;font-size:13px;font-weight:600;border:1px solid #e7ebee;outline:none;color:#ccc;border-radius:5px;margin-bottom:20px;transition:.5s all;-webkit-transition:.5s all;-moz-transition:.5s all;-o-transition:.5s all;-ms-transition:.5s all}input.pay-logo[_ngcontent-%COMP%]{width:89.5%!important;padding:8px 45px 8px 8px!important}.tab-form-left[_ngcontent-%COMP%]{float:left;width:48%}input.text_box[_ngcontent-%COMP%]{background:#fcfcfc;border:1px solid #ebeced}.text_box[_ngcontent-%COMP%]{display:inline;width:60px;margin-left:1%;font-size:20px;color:#444;width:100%;color:#606060;font-size:15px;padding:8px 0 8px 10px;border:none;outline:none;background:#fff;transition:.5s all;-webkit-transition:.5s all;-moz-transition:.5s all;-o-transition:.5s all;-ms-transition:.5s all}ul[_ngcontent-%COMP%]{margin:0;padding:0}.user-form[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none;display:inline-block;width:23%;margin-right:9%}.tab-form-right[_ngcontent-%COMP%]{float:right;width:48%}.tab-form-right[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:92%;padding:8px;font-size:13px;font-weight:600;border:1px solid #e7ebee;outline:none;color:#ccc;border-radius:5px;margin-bottom:30px;transition:.5s all;-webkit-transition:.5s all;-moz-transition:.5s all;-o-transition:.5s all;-ms-transition:.5s all}.clear[_ngcontent-%COMP%]{clear:both}.payment-info[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]{background:#b3e03f;color:#fff;text-align:center;padding:10px 0;border:none;font-size:16px;outline:none;width:22%;cursor:pointer;font-weight:600;margin-bottom:30px;transition:.5s all;-webkit-transition:.5s all;-moz-transition:.5s all;-o-transition:.5s all;-ms-transition:.5s all}ul[_ngcontent-rky-c146][_ngcontent-%COMP%]{margin:0;padding:0}.payment-info[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]:hover{background:#3ad5a0;transition:.5s all;-webkit-transition:.5s all;-moz-transition:.5s all;-o-transition:.5s all;-ms-transition:.5s all}#brand[_ngcontent-%COMP%]{filter:hue-rotate(240deg)}input[type=checkbox][_ngcontent-%COMP%]{transform:scale(1);cursor:pointer}.single-bottom[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{position:relative;padding-left:31px;border:none;outline:none;font-size:13px;color:#2d3e50;font-weight:600;line-height:1.8em}.choose-card[_ngcontent-%COMP%]{margin-bottom:15px}"]}),n})();const wK=function(n){return{"image-active":n}};function CK(n,t){if(1&n&&s._UZ(0,"img",20),2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.Q6J("src",e,s.LSH)("ngClass",s.VKq(2,wK,r.selectedIndex===i))}}const EK=function(n){return{active:n}};function DK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",21),s.NdJ("click",function(){const o=s.CHM(e).index,c=s.oxw();return s.KtG(c.selectImage(o))}),s.qZA()}if(2&n){const e=t.index,i=s.oxw();s.Q6J("ngClass",s.VKq(1,EK,i.selectedIndex===e))}}function IK(n,t){if(1&n&&(s.TgZ(0,"b"),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.hij("$ ",e.card.rooms[0].price,"")}}function SK(n,t){if(1&n&&(s.TgZ(0,"p"),s._uU(1),s.TgZ(2,"span"),s._uU(3),s.qZA()()),2&n){const e=s.oxw();s.xp6(1),s.AsE(" $",e.card.rooms[0].price," x ",e.numberOfDays," nights "),s.xp6(2),s.hij("$",e.cost,"")}}let TH=(()=>{class n{constructor(){this.selectedIndex=0,this.curentCardImages=[]}ngOnInit(){console.log(this.cost,"reserved-card"),console.log(this.numberOfDays,"reserved-card"),console.log(this.currentHotelId,"reserved-card"),console.log(this.card.mainImages)}selectImage(e){this.selectedIndex=e}onPrevClick(){0==this.selectedIndex?this.selectedIndex=this.card.mainImages.length-1:this.selectedIndex--}onNextClick(){this.selectedIndex===this.card.mainImages.length-1?this.selectedIndex=0:this.selectedIndex++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-reserved-card"]],inputs:{card:"card",cost:"cost",numberOfDays:"numberOfDays",currentHotelId:"currentHotelId"},decls:37,vars:7,consts:[[1,"card-group"],[1,"card"],[1,"carousel-container","d-flex"],["alt","","class","animation-slider",3,"src","ngClass",4,"ngFor","ngForOf"],[1,"carousel-dot-container"],["class","dot",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"btn-carousel","btn-prev"],[1,"fa","fa-arrow-circle-left","icon-carousel","icon-prev",3,"click"],[1,"btn-carousel","btn-next"],[1,"fa","fa-arrow-circle-right","icon-carousel","icon-next",3,"click"],[1,"card-body"],[1,"name-price"],[1,"card-title"],[1,"card-text"],[4,"ngIf"],[1,"card-text","hotel-reiting"],["viewBox","0 0 32 32","xmlns","http://www.w3.org/2000/svg","aria-hidden","true","role","presentation","focusable","false",2,"display","block","height","12px","width","12px","fill","currentcolor"],["d","M15.094 1.579l-4.124 8.885-9.86 1.27a1 1 0 0 0-.542 1.736l7.293 6.565-1.965 9.852a1 1 0 0 0 1.483 1.061L16 25.951l8.625 4.997a1 1 0 0 0 1.482-1.06l-1.965-9.853 7.293-6.565a1 1 0 0 0-.541-1.735l-9.86-1.271-4.127-8.885a1 1 0 0 0-1.814 0z","fill-rule","evenodd"],[1,"pay-info"],[1,"total-price"],["alt","",1,"animation-slider",3,"src","ngClass"],[1,"dot",3,"ngClass","click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2),s.YNc(3,CK,1,4,"img",3),s.TgZ(4,"div",4),s.YNc(5,DK,1,3,"span",5),s.qZA(),s.TgZ(6,"button",6)(7,"i",7),s.NdJ("click",function(){return i.onPrevClick()}),s.qZA()(),s.TgZ(8,"button",8)(9,"i",9),s.NdJ("click",function(){return i.onNextClick()}),s.qZA()()(),s.TgZ(10,"div",10)(11,"div",11)(12,"p",12),s._uU(13),s.qZA(),s.TgZ(14,"p",13),s.YNc(15,IK,2,1,"b",14),s._uU(16," night "),s.qZA()(),s.TgZ(17,"p",15)(18,"span"),s.O4$(),s.TgZ(19,"svg",16),s._UZ(20,"path",17),s.qZA()(),s.kcU(),s.TgZ(21,"span"),s._uU(22),s.qZA()(),s.TgZ(23,"div",18),s._UZ(24,"hr"),s.TgZ(25,"h2"),s._uU(26,"Price details"),s.qZA(),s.YNc(27,SK,4,3,"p",14),s.TgZ(28,"p"),s._uU(29,"Service fee "),s.TgZ(30,"span"),s._uU(31,"$0.00"),s.qZA()(),s._UZ(32,"hr"),s.TgZ(33,"p",19),s._uU(34," Total (USD) "),s.TgZ(35,"span"),s._uU(36),s.qZA()()()()()()),2&e&&(s.xp6(3),s.Q6J("ngForOf",i.card.mainImages),s.xp6(2),s.Q6J("ngForOf",i.card.mainImages),s.xp6(8),s.Oqu(i.card.name),s.xp6(2),s.Q6J("ngIf",null!=i.card.rooms[0]),s.xp6(7),s.hij(" ",i.card.starCount,""),s.xp6(5),s.Q6J("ngIf",null!=i.card.rooms[0]),s.xp6(9),s.hij("$",i.cost,""))},dependencies:[hn,Nn,bn],styles:[".card-group[_ngcontent-%COMP%]{width:450px}.card[_ngcontent-%COMP%]{margin-bottom:15px;border-radius:10px}.card-title[_ngcontent-%COMP%]{font-size:15px;font-weight:600;margin-top:none!important;max-height:23px;overflow:hidden}.hotel-reiting[_ngcontent-%COMP%]{display:flex;align-items:center}.hotel-reiting[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child   svg[_ngcontent-%COMP%]{margin-left:0!important}.hotel-reiting[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child{font-size:15px;margin-left:5px}.carousel-container[_ngcontent-%COMP%]{position:relative;box-shadow:0 6px 12px #dce1e1;width:100%}.carousel-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:250px;display:none;border-radius:10px 10px 0 0;object-fit:cover}.carousel-container[_ngcontent-%COMP%]   img.image-active[_ngcontent-%COMP%]{display:block}.name-price[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.carousel-dot-container[_ngcontent-%COMP%]{position:absolute;right:0;left:0;bottom:0;display:flex;justify-content:center;padding:0;margin-bottom:1rem}.carousel-dot-container[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{cursor:pointer;height:7px;width:7px;margin:0 3px;background-color:#fff;border-radius:50%;display:inline-block;transition:opacity .6s ease;opacity:.5}.active[_ngcontent-%COMP%], .dot[_ngcontent-%COMP%]:hover{opacity:1!important}.animation-slider[_ngcontent-%COMP%]{animation-name:fade;animation-duration:1.5s}@keyframes fade{0%{opacity:.4}to{opacity:1}}.btn-carousel[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;display:flex;align-items:center;justify-content:center;width:15%;padding:0;color:#fff;text-align:center;background:0 0;border:0;cursor:pointer}.btn-prev[_ngcontent-%COMP%]{left:0}.icon-carousel[_ngcontent-%COMP%]{color:#fff;opacity:.5;transition:all .15s ease}.icon-carousel[_ngcontent-%COMP%]:hover{opacity:.9}.icon-carousel[_ngcontent-%COMP%]:active{opacity:.5}.icon-next[_ngcontent-%COMP%], .icon-prev[_ngcontent-%COMP%]{font-size:25px}.btn-next[_ngcontent-%COMP%]{right:0}.wishlist[_ngcontent-%COMP%]{position:absolute;right:20px;top:20px;z-index:10}.wishlist-btn[_ngcontent-%COMP%]{width:35px;height:35px;display:flex;align-items:center;justify-content:center;background:inherit;border:none;border-radius:50%;transition:transform .25s ease}.wishlist-btn[_ngcontent-%COMP%]:hover{background:rgb(191,191,191);transition:.3s}.wishlist-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:block;fill:#fff!important;width:25px!important;height:25px!important;stroke:var(--f-mkcy-f);stroke-width:2;overflow:visible}.pay-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:right}.pay-info[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]{font-size:16px!important;line-height:20px!important;color:#222!important;font-weight:600!important}"]}),n})(),TK=(()=>{class n{constructor(e,i,r,o){this.activatedRoute=e,this.baseHttpService=i,this.reserve=r,this.CreditCardService=o,this.card=new JU,this.activatedRoute.queryParams.subscribe(c=>{this.cost=c.cost,this.numberOfDays=c.numberOfDays,this.currentHotelId=c.currentHotelId;let d=JSON.parse(c.startDateEndDate);this.startDate=d.startDate,this.endDate=d.endDate,this.baseHttpService.getById(`${ql_baseApiUrl}/Hotel/${this.currentHotelId}`).subscribe(_=>{this.card=_})})}ngOnInit(){}onSubmit(e){let i=new Date;console.log(e.value),e.value.saveCreditCard&&(delete e.value.saveCreditCard,this.CreditCardService.addCreditCard(JSON.parse(localStorage.user).uid?JSON.parse(localStorage.user).uid:null,e.value));let r={hotelId:this.currentHotelId,startDate:this.startDate,endDate:this.endDate,pricePaid:this.cost,reserveDate:i,hotel:this.card};console.log(this.reserve.reserveHotel(JSON.parse(localStorage.user).uid?JSON.parse(localStorage.user).uid:null,r))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ua),s.Y36(xv),s.Y36(Sm),s.Y36(jT))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-reservation"]],decls:5,vars:4,consts:[[3,"onSubmitEmitter"],[3,"card","cost","numberOfDays","currentHotelId"]],template:function(e,i){1&e&&(s.TgZ(0,"article")(1,"aside")(2,"app-pay-form",0),s.NdJ("onSubmitEmitter",function(o){return i.onSubmit(o)}),s.qZA()(),s.TgZ(3,"aside"),s._UZ(4,"app-reserved-card",1),s.qZA()()),2&e&&(s.xp6(4),s.Q6J("card",i.card)("cost",i.cost)("numberOfDays",i.numberOfDays)("currentHotelId",i.currentHotelId))},dependencies:[SH,TH],styles:["article[_ngcontent-%COMP%]{display:flex;justify-content:space-around;max-width:1200px;margin:auto;padding-top:100px;flex-wrap:wrap}"]}),n})(),xH=(()=>{class n{constructor(e){this.firestore=e}updateUser(e,i){return this.firestore.collection("users").doc(i).update({email:e.email,fullName:e.fullName,phoneNumber:e.phoneNumber,gender:e.gender})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gv))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MH=(()=>{class n{constructor(e,i){this.creditCardService=e,this.reserve=i,this.onSubmitEmitter=new s.vpe,this.creditCard=new So({cardName:new mn(""),cardNumber:new mn(""),expirationDay:new mn(""),expirationMonth:new mn(""),cvv:new mn("")}),this.Cards=[],this.creditCardService.getSavedCreditCards().subscribe(r=>this.Cards=r.creditCards),console.log(this.Cards)}ngOnInit(){}onSubmit(){this.onSubmitEmitter.emit(this.creditCard)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(jT),s.Y36(Sm))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-save-credit-card"]],outputs:{onSubmitEmitter:"onSubmitEmitter"},decls:26,vars:1,consts:[[1,"payment-info"],[1,"pay-title"],[3,"formGroup","ngSubmit"],[1,"tab-for"],["formControlName","cardName","type","text","value",""],["formControlName","cardNumber","type","text","value","0000-0000-0000-0000","required","",1,"pay-logo"],[1,"transaction"],[1,"tab-form-left","user-form"],["formControlName","expirationDay","type","number","type","text","value","6","min","1",1,"text_box"],["formControlName","expirationMonth","type","number","type","text","value","1988","min","1",1,"text_box"],[1,"tab-form-right","user-form-rt"],["formControlName","cvv","type","text","value","xxxx","required",""],[1,"clear"],["type","submit","value","Save"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"h3",1),s._uU(2,"Credit Card Info"),s.qZA(),s.TgZ(3,"form",2),s.NdJ("ngSubmit",function(){return i.onSubmit()}),s.TgZ(4,"div",3)(5,"h5"),s._uU(6,"NAME ON CARD"),s.qZA(),s._UZ(7,"input",4),s.TgZ(8,"h5"),s._uU(9,"CARD NUMBER"),s.qZA(),s._UZ(10,"input",5),s.qZA(),s.TgZ(11,"div",6)(12,"div",7)(13,"h5"),s._uU(14,"EXPIRATION"),s.qZA(),s.TgZ(15,"ul")(16,"li"),s._UZ(17,"input",8),s.qZA(),s.TgZ(18,"li"),s._UZ(19,"input",9),s.qZA()()(),s.TgZ(20,"div",10)(21,"h5"),s._uU(22,"CVV NUMBER"),s.qZA(),s._UZ(23,"input",11),s.qZA(),s._UZ(24,"div",12),s.qZA(),s._UZ(25,"input",13),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("formGroup",i.creditCard))},dependencies:[Nd,il,Od,Rd,sf,To,Ru],styles:["li[_ngcontent-%COMP%]{list-style:none}.payment-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:26px;text-align:center;margin-bottom:15px;color:#3ad5a0;font-weight:500}.tab-for[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .tab-form-left[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .tab-form-right[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#435964;font-size:13px;text-transform:uppercase;margin:0 0 8px;font-weight:600}.tab-for[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:96%;padding:8px;font-size:13px;font-weight:600;border:1px solid #e7ebee;outline:none;color:#ccc;border-radius:5px;margin-bottom:20px;transition:.5s all;-webkit-transition:.5s all;-moz-transition:.5s all;-o-transition:.5s all;-ms-transition:.5s all}input.pay-logo[_ngcontent-%COMP%]{width:89.5%!important;padding:8px 45px 8px 8px!important}.tab-form-left[_ngcontent-%COMP%]{float:left;width:48%}input.text_box[_ngcontent-%COMP%]{background:#fcfcfc;border:1px solid #ebeced}.text_box[_ngcontent-%COMP%]{display:inline;width:60px;margin-left:1%;font-size:20px;color:#444;width:100%;color:#606060;font-size:15px;padding:8px 0 8px 10px;border:none;outline:none;background:#fff;transition:.5s all;-webkit-transition:.5s all;-moz-transition:.5s all;-o-transition:.5s all;-ms-transition:.5s all}ul[_ngcontent-%COMP%]{margin:0;padding:0}.user-form[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none;display:inline-block;width:23%;margin-right:9%}.tab-form-right[_ngcontent-%COMP%]{float:right;width:48%}.tab-form-right[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:92%;padding:8px;font-size:13px;font-weight:600;border:1px solid #e7ebee;outline:none;color:#ccc;border-radius:5px;margin-bottom:30px;transition:.5s all;-webkit-transition:.5s all;-moz-transition:.5s all;-o-transition:.5s all;-ms-transition:.5s all}.clear[_ngcontent-%COMP%]{clear:both}.payment-info[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]{background:#b3e03f;color:#fff;text-align:center;padding:10px 0;border:none;font-size:16px;outline:none;width:22%;cursor:pointer;font-weight:600;margin-bottom:30px;transition:.5s all;-webkit-transition:.5s all;-moz-transition:.5s all;-o-transition:.5s all;-ms-transition:.5s all}ul[_ngcontent-rky-c146][_ngcontent-%COMP%]{margin:0;padding:0}.payment-info[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]:hover{background:#3ad5a0;transition:.5s all;-webkit-transition:.5s all;-moz-transition:.5s all;-o-transition:.5s all;-ms-transition:.5s all}#brand[_ngcontent-%COMP%]{filter:hue-rotate(240deg)}input[type=checkbox][_ngcontent-%COMP%]{transform:scale(1);cursor:pointer}.single-bottom[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{position:relative;padding-left:31px;border:none;outline:none;font-size:13px;color:#2d3e50;font-weight:600;line-height:1.8em}"]}),n})();function xK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",4),s._UZ(1,"span",5),s.TgZ(2,"span",6),s._uU(3),s.qZA(),s.TgZ(4,"span",7),s._uU(5),s.qZA(),s.TgZ(6,"span",8),s._uU(7),s.qZA(),s.TgZ(8,"button",9),s.NdJ("click",function(){const o=s.CHM(e).index,c=s.oxw();return s.KtG(c.delete(o))}),s._uU(9,"Delete"),s.qZA()()}if(2&n){const e=t.$implicit;s.xp6(3),s.Oqu(e.cardNumber),s.xp6(2),s.AsE("",e.expirationDay,"/",e.expirationMonth,""),s.xp6(2),s.Oqu(e.cardName)}}let MK=(()=>{class n{constructor(e){this.CreditCardService=e,this.creditCards=[]}ngOnInit(){this.CreditCardService.getSavedCreditCards().subscribe(e=>{console.log(e),this.creditCards=e.creditCards})}delete(e){console.log(e);let i=JSON.parse(localStorage.user).uid?JSON.parse(localStorage.user).uid:null;this.CreditCardService.removeCreditCard(i,e)}onSubmitCreditCard(e){delete e.value.saveCreditCard,this.CreditCardService.addCreditCard(JSON.parse(localStorage.user).uid?JSON.parse(localStorage.user).uid:null,e.value)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(jT))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-payment"]],decls:4,vars:1,consts:[[1,"credit-cards"],["class","cc",4,"ngFor","ngForOf"],[1,"add-credit-card","col-md-5","m-auto"],[3,"onSubmitEmitter"],[1,"cc"],[1,"chip"],[1,"cc-number"],[1,"cc-date","expedition"],[1,"cc-name"],[1,"btn","btn-danger",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.YNc(1,xK,10,4,"div",1),s.qZA(),s.TgZ(2,"div",2)(3,"app-save-credit-card",3),s.NdJ("onSubmitEmitter",function(o){return i.onSubmitCreditCard(o)}),s.qZA()()),2&e&&(s.xp6(1),s.Q6J("ngForOf",i.creditCards))},dependencies:[Nn,MH],styles:['.credit-cards[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding-left:10px}.cc[_ngcontent-%COMP%]{background-color:#6e2b77;border-radius:10px;display:block;height:195px;letter-spacing:.1rem;position:relative;text-align:left;text-transform:uppercase;width:325px;margin-bottom:50px;margin-right:10px}.cc[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:5px;margin-top:5px}.btn-danger[_ngcontent-%COMP%]{position:absolute;right:10px;bottom:10px}.chip[_ngcontent-%COMP%]{background:#efb77f;border-radius:5px;display:block;height:30px;left:30px;position:absolute;top:50px;width:40px}.cc-name[_ngcontent-%COMP%]{background:linear-gradient(#eee,#999);-webkit-background-clip:text;-webkit-text-fill-color:transparent;bottom:15px;left:30px;position:absolute}.cc-number[_ngcontent-%COMP%]{background:linear-gradient(#eee,#999);-webkit-background-clip:text;-webkit-text-fill-color:transparent;bottom:75px;font-size:20px;left:30px;position:absolute}.cc-date[_ngcontent-%COMP%]{background:linear-gradient(#eee,#999);-webkit-background-clip:text;-webkit-text-fill-color:transparent;bottom:40px;left:30px;position:absolute}.cc-date.expiry[_ngcontent-%COMP%]{left:125px}.cc-date.expiry[_ngcontent-%COMP%]:after{-webkit-text-fill-color:#52185b;content:"Valid thru";font-size:8px;left:-30px;position:absolute;text-transform:none;top:-10px}']}),n})(),kK=(()=>{class n{constructor(e,i,r){this.reservedService=e,this.profileService=i,this.router=r,this.userInfo=new So({email:new mn(""),fullName:new mn(""),phoneNumber:new mn(""),gender:new mn("")})}ngOnInit(){let e=JSON.parse(localStorage.user).uid?JSON.parse(localStorage.user).uid:null;this.reservedService.getReservedHotel(e).subscribe(i=>{this.userInfo=new So({email:new mn(i.email),fullName:new mn(i.fullName),phoneNumber:new mn(i.phoneNumber),gender:new mn(i.gender)})})}onSubmit(){let e=JSON.parse(localStorage.user).uid?JSON.parse(localStorage.user).uid:null;this.profileService.updateUser(this.userInfo.value,e),this.router.navigate(["/"])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Sm),s.Y36(xH),s.Y36(hi))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-user-info-update-form"]],decls:20,vars:1,consts:[[1,"personal-info"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","exampleInputEmail1"],["formControlName","email","type","email","id","exampleInputEmail1","aria-describedby","emailHelp","placeholder","email",1,"form-control"],["for","exampleInputFullName"],["formControlName","fullName","type","text","id","exampleInputFullName","placeholder","Full Name",1,"form-control"],["for","exampleInputPhoneNumber"],["formControlName","phoneNumber","type","number","id","exampleInputPhoneNumber","placeholder","Phone Number",1,"form-control"],["for","exampleInputGender"],["formControlName","gender","type","text","id","exampleInputGender","placeholder","Gender",1,"form-control"],["type","submit",1,"btn","btn-primary","col-md-12"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"form",1),s.NdJ("ngSubmit",function(){return i.onSubmit()}),s.TgZ(2,"div",2)(3,"label",3),s._uU(4,"Email address"),s.qZA(),s._UZ(5,"input",4),s.qZA(),s.TgZ(6,"div",2)(7,"label",5),s._uU(8,"Full Name"),s.qZA(),s._UZ(9,"input",6),s.qZA(),s.TgZ(10,"div",2)(11,"label",7),s._uU(12,"Phone Number"),s.qZA(),s._UZ(13,"input",8),s.qZA(),s.TgZ(14,"div",2)(15,"label",9),s._uU(16,"Gender"),s.qZA(),s._UZ(17,"input",10),s.qZA(),s.TgZ(18,"button",11),s._uU(19,"Save"),s.qZA()()()),2&e&&(s.xp6(1),s.Q6J("formGroup",i.userInfo))},dependencies:[Nd,il,nf,Od,Rd,To,Ru],styles:[".personal-info[_ngcontent-%COMP%]{border:1px solid rgb(221,221,221);border-radius:20px;padding:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:5px}.btn-primary[_ngcontent-%COMP%]{background:#b3e03f!important;border:none}.btn-primary[_ngcontent-%COMP%]:hover{background:#3ad5a0!important;transition:.5s all;-webkit-transition:.5s all;-moz-transition:.5s all;-o-transition:.5s all;-ms-transition:.5s all}"]}),n})(),OK=(()=>{class n{constructor(e,i,r){this.reservedService=e,this.profileService=i,this.router=r,this.userInfo=new So({email:new mn(""),fullName:new mn(""),phoneNumber:new mn(""),gender:new mn("")}),this.creditCards=[]}ngOnInit(){let e=JSON.parse(localStorage.user).uid?JSON.parse(localStorage.user).uid:null;this.reservedService.getReservedHotel(e).subscribe(i=>{console.log(i),this.userInfo=new So({email:new mn(i.email),fullName:new mn(i.fullName),phoneNumber:new mn(i.phoneNumber),gender:new mn(i.gender)})})}onSubmit(){let e=JSON.parse(localStorage.user).uid?JSON.parse(localStorage.user).uid:null;this.profileService.updateUser(this.userInfo.value,e),this.router.navigate(["/"])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Sm),s.Y36(xH),s.Y36(hi))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-profile"]],decls:9,vars:0,consts:[[1,""],[1,"col-md-5"]],template:function(e,i){1&e&&(s.TgZ(0,"article",0)(1,"aside",1)(2,"h2"),s._uU(3,"Personal Information"),s.qZA(),s._UZ(4,"app-user-info-update-form"),s.qZA(),s.TgZ(5,"aside",0)(6,"h2"),s._uU(7,"Payment Form"),s.qZA(),s._UZ(8,"app-payment"),s.qZA()())},dependencies:[MK,kK],styles:["aside[_ngcontent-%COMP%]{margin:50px auto;height:auto;padding-bottom:10px}"]}),n})(),kH=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-not-found-page"]],decls:11,vars:0,consts:[[1,"notfound-bg"],[1,"notfound"],[1,"notfound-404"],["routerLink",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),s._uU(4,"404"),s.qZA()(),s.TgZ(5,"h2"),s._uU(6,"Oops! Page Not Found"),s.qZA(),s.TgZ(7,"p"),s._uU(8,"The page you are looking for might have been removed had its name changed or is temporarily unavailable."),s.qZA(),s.TgZ(9,"a",3),s._uU(10,"Go To Homepage"),s.qZA()()())},dependencies:[Vh],styles:[".notfound[_ngcontent-%COMP%]{width:790px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.notfound[_ngcontent-%COMP%]   .notfound-404[_ngcontent-%COMP%]{position:relative;width:150px;height:150px;margin:0 auto 50px;animation:notfound-rotate 2s linear infinite;transform-style:preserve-3d}.notfound[_ngcontent-%COMP%]   .notfound-404[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:150px;font-weight:900;margin:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);color:#262626}.notfound[_ngcontent-%COMP%]   .notfound-404[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:22px;font-weight:700;margin:0;text-transform:uppercase;color:#151515}.notfound[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;text-decoration:none;font-weight:700;color:#e5e5e5;text-transform:uppercase;background:#ff5100;padding:15px 25px;border-radius:40px;display:inline-block;border:none;transition:.2s all;position:relative;margin-top:20px}.notfound[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.8}.notfound[_ngcontent-%COMP%]   .notfound-social[_ngcontent-%COMP%]{margin-top:25px}@keyframes notfound-rotate{0%{transform:rotateY(0)}25%{transform:rotateY(180deg)}50%{transform:rotateY(180deg)}75%{transform:rotateY(360deg)}to{transform:rotateY(360deg)}}"]}),n})();const RK=[{path:"",component:GU},{path:"filtered-hotels",component:HU,children:[{path:"category-filter",component:sU},{path:"advanced-filter",component:rU}]},{path:"hotel/:id",component:EH},{path:"trip",component:IH,canActivate:[SD]},{path:"profile",component:OK,canActivate:[SD]},{path:"reservation",component:TK,canActivate:[SD]},{path:"404",component:kH},{path:"**",component:kH}];let OH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Uh.forRoot(RK),Uh]}),n})();class PK{}let NK=(()=>{class n{constructor(e,i){this.fireWorker=e,this.router=i,this.RegistrationForm=new So({email:new mn(""),fullName:new mn(""),phoneNumber:new mn(""),gender:new mn(""),password:new mn("")})}ngOnInit(){}onSubmit(){let e=this.RegistrationForm.value,i=Object.assign(new PK,e);this.fireWorker.signUp(i,e.password).then(r=>{this.router.navigate(["/"])})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(VR),s.Y36(hi))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-registration"]],decls:31,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","fullName",1,"form-control"],["type","email","formControlName","email",1,"form-control"],["id","emailHelp",1,"form-text"],["type","number","formControlName","phoneNumber",1,"form-control"],["type","text","formControlName","gender",1,"form-control"],["type","password","formControlName","password",1,"form-control"],["type","submit","mat-dialog-close","",1,"btn","btn-primary"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(e,i){1&e&&(s.TgZ(0,"h1",0),s._uU(1,"Sign up"),s.qZA(),s.TgZ(2,"div",1)(3,"form",2),s.NdJ("ngSubmit",function(){return i.onSubmit()}),s.TgZ(4,"div",3)(5,"label",4),s._uU(6,"FullName"),s.qZA(),s._UZ(7,"input",5),s.qZA(),s.TgZ(8,"div",3)(9,"label",4),s._uU(10,"Email address"),s.qZA(),s._UZ(11,"input",6),s.TgZ(12,"div",7),s._uU(13," We'll never share your email with anyone else. "),s.qZA()(),s.TgZ(14,"div",3)(15,"label",4),s._uU(16,"Phone Number"),s.qZA(),s._UZ(17,"input",8),s.qZA(),s.TgZ(18,"div",3)(19,"label",4),s._uU(20,"Gender"),s.qZA(),s._UZ(21,"input",9),s.qZA(),s.TgZ(22,"div",3)(23,"label",4),s._uU(24,"Password"),s.qZA(),s._UZ(25,"input",10),s.qZA(),s.TgZ(26,"button",11),s._uU(27," Sign Up "),s.qZA()()(),s.TgZ(28,"div",12)(29,"button",13),s._uU(30,"Cancel"),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("formGroup",i.RegistrationForm))},dependencies:[Ev,Q3,J3,X3,eU,Nd,il,nf,Od,Rd,To,Ru],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]{width:400px}.btn-primary[_ngcontent-%COMP%]{background:#b3e03f!important;border:none}.btn-primary[_ngcontent-%COMP%]:hover{background:#3ad5a0!important;transition:.5s all;-webkit-transition:.5s all;-moz-transition:.5s all;-o-transition:.5s all;-ms-transition:.5s all}input[_ngcontent-%COMP%]:focus{outline:none!important;border-color:#b3e03f;box-shadow:0 0 5px #3ad5a0}"]}),n})();const FK=["*"];let GT;function yC(n){return function LK(){if(void 0===GT&&(GT=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(GT=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return GT}()?.createHTML(n)||n}function RH(n){return Error(`Unable to find icon with the name "${n}"`)}function PH(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function NH(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Tm{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let qT=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new Tm(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const c=this._sanitizer.sanitize(s.q3G.HTML,r);if(!c)throw NH(r);const d=yC(c);return this._addSvgIconConfig(e,i,new Tm("",d,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Tm(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(s.q3G.HTML,i);if(!o)throw NH(i);const c=yC(o);return this._addSvgIconSetConfig(e,new Tm("",c,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,e);if(!i)throw PH(e);const r=this._cachedIconsByUrl.get(i);return r?dt(ZT(r)):this._loadSvgIconFromConfig(new Tm(e,null)).pipe((0,$e.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,ot.U)(o=>ZT(o)))}getNamedSvgIcon(e,i=""){const r=FH(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(e,c):Hr(RH(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?dt(ZT(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,ot.U)(i=>ZT(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?dt(r):Md(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(wt(d=>{const _=`Loading icon set URL: ${this._sanitizer.sanitize(s.q3G.RESOURCE_URL,c.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(_)),dt(null)})))).pipe((0,ot.U)(()=>{const c=this._extractIconWithNameFromAnySet(e,i);if(!c)throw RH(e);return c}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const c=this._svgElementFromConfig(o),d=this._extractSvgIconFromSet(c,e,o.options);if(d)return d}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,$e.b)(i=>e.svgText=i),(0,ot.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?dt(null):this._fetchIcon(e).pipe((0,$e.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const c=o.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,r);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),r);const d=this._svgElementFromString(yC("<svg></svg>"));return d.appendChild(c),this._setSvgAttributes(d,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(yC("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:c,value:d}=r[o];"id"!==c&&i.setAttribute(c,d)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function BK(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const c=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,i);if(!c)throw PH(i);const d=this._inProgressUrlFetches.get(c);if(d)return d;const p=this._httpClient.get(c,{responseType:"text",withCredentials:o}).pipe((0,ot.U)(_=>yC(_)),Co(()=>this._inProgressUrlFetches.delete(c)),(0,zA.B)());return this._inProgressUrlFetches.set(c,p),p}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(FH(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return UK(o)?new Tm(o.url,null,o.options):new Tm(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG($h,8),s.LFG(vo),s.LFG(ae,8),s.LFG(s.qLn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ZT(n){return n.cloneNode(!0)}function FH(n,t){return n+":"+t}function UK(n){return!(!n.url||!n.options)}const HK=Cv(class{constructor(n){this._elementRef=n}}),zK=new s.OlP("MAT_ICON_DEFAULT_OPTIONS"),jK=new s.OlP("mat-icon-location",{providedIn:"root",factory:function GK(){const n=(0,s.f3M)(ae),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),LH=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],qK=LH.map(n=>`[${n}]`).join(", "),ZK=/^url\(['"]?#(.*?)['"]?\)$/;let WK=(()=>{class n extends HK{constructor(e,i,r,o,c,d){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=c,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=di.w0.EMPTY,d&&(d.color&&(this.color=this.defaultColor=d.color),d.fontSet&&(this.fontSet=d.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=ns(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(c=>{o.setAttribute(c.name,`url('${e}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(qK),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)LH.forEach(c=>{const d=i[o],p=d.getAttribute(c),_=p?p.match(ZK):null;if(_){let b=r.get(d);b||(b=[],r.set(d,b)),b.push({name:c,value:_[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(nn(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(qT),s.$8M("aria-hidden"),s.Y36(jK),s.Y36(s.qLn),s.Y36(zK,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(s.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),s.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[s.qOj],ngContentSelectors:FK,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),WT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[_s,_s]}),n})();function YK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"li")(1,"a",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.openDialogLogin())}),s._uU(2,"Log in"),s.qZA()()}}function $K(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"li")(1,"a",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.openDialogRegister())}),s._uU(2,"Sign up"),s.qZA()()}}function KK(n,t){if(1&n&&(s.TgZ(0,"li")(1,"a",7)(2,"b"),s._uU(3),s.qZA()()()),2&n){const e=s.oxw();s.xp6(3),s.Oqu(e.user.email)}}function QK(n,t){1&n&&(s.TgZ(0,"li",8)(1,"a",7),s._uU(2,"Trip"),s.qZA()())}function JK(n,t){1&n&&(s.TgZ(0,"li",9)(1,"a",7),s._uU(2,"Profile"),s.qZA()())}function XK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"li")(1,"a",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.singOut())}),s._uU(2,"Sign out"),s.qZA()()}}let BH=(()=>{class n{constructor(e,i,r){this.dialog=e,this.firebaseWorker=i,this.angularFireAuth=r,this.user=null;var o=this;this.angularFireAuth.onAuthStateChanged(function(c){c?o.showProfile(c):o.clearProfile()})}ngOnInit(){const e=localStorage.getItem("user");this.showProfile(e)}showProfile(e){e&&(this.user="object"!=typeof e?JSON.parse(e||""):e)}clearProfile(){this.user=null}openDialogRegister(){this.dialog.open(NK)}openDialogLogin(){this.dialog.open(lP)}singOut(){this.firebaseWorker.signOut()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Sv),s.Y36(VR),s.Y36(Uc))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-account"]],decls:13,vars:6,consts:[[1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","dropdown-toggle","account"],[1,"dropdown-menu"],[4,"ngIf"],["routerLink","/trip",4,"ngIf"],["routerLink","/profile",4,"ngIf"],[1,"dropdown-item",3,"click"],[1,"dropdown-item"],["routerLink","/trip"],["routerLink","/profile"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"button",1)(2,"mat-icon"),s._uU(3,"menu"),s.qZA(),s.TgZ(4,"mat-icon"),s._uU(5,"account_circle"),s.qZA()(),s.TgZ(6,"ul",2),s.YNc(7,YK,3,0,"li",3),s.YNc(8,$K,3,0,"li",3),s.YNc(9,KK,4,1,"li",3),s.YNc(10,QK,3,0,"li",4),s.YNc(11,JK,3,0,"li",5),s.YNc(12,XK,3,0,"li",3),s.qZA()()),2&e&&(s.xp6(7),s.Q6J("ngIf",null==i.user),s.xp6(1),s.Q6J("ngIf",null==i.user),s.xp6(1),s.Q6J("ngIf",null!=i.user),s.xp6(1),s.Q6J("ngIf",null!=i.user),s.xp6(1),s.Q6J("ngIf",null!=i.user),s.xp6(1),s.Q6J("ngIf",null!=i.user))},dependencies:[bn,WK,xu],styles:[".account[_ngcontent-%COMP%]{margin-top:10px;border-radius:50px;border:1px solid rgb(221,221,221);height:50px!important;display:flex;align-items:center}.dropdown-menu[_ngcontent-%COMP%]{inset:6px auto auto -75px!important}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;padding:2px}.ng-star-inserted[_ngcontent-%COMP%]{margin:0 0 15px!important}"]}),n})();const eQ=["primaryValueBar"],tQ=Cv(class{constructor(n){this._elementRef=n}},"primary"),nQ=new s.OlP("mat-progress-bar-location",{providedIn:"root",factory:function iQ(){const n=(0,s.f3M)(ae),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),rQ=new s.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let sQ=0,oQ=(()=>{class n extends tQ{constructor(e,i,r,o,c,d){super(e),this._ngZone=i,this._animationMode=r,this._changeDetectorRef=d,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new s.vpe,this._animationEndSubscription=di.w0.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+sQ++;const p=o?o.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${p}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===r,c&&(c.color&&(this.color=this.defaultColor=c.color),this.mode=c.mode||this.mode)}get value(){return this._value}set value(e){this._value=VH(X0(e)||0),this._changeDetectorRef?.markForCheck()}get bufferValue(){return this._bufferValue}set bufferValue(e){this._bufferValue=VH(e||0),this._changeDetectorRef?.markForCheck()}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=this._primaryValueBar.nativeElement;this._animationEndSubscription=iC(e,"transitionend").pipe(x(i=>i.target===e)).subscribe(()=>{0!==this.animationEnd.observers.length&&("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(s.QbO,8),s.Y36(nQ,8),s.Y36(rQ,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-progress-bar"]],viewQuery:function(e,i){if(1&e&&s.Gf(eQ,5),2&e){let r;s.iGM(r=s.CRH())&&(i._primaryValueBar=r.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(e,i){2&e&&(s.uIk("aria-valuenow","indeterminate"===i.mode||"query"===i.mode?null:i.value)("mode",i.mode),s.ekj("_mat-animation-noopable",i._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[s.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.O4$(),s.TgZ(1,"svg",1)(2,"defs")(3,"pattern",2),s._UZ(4,"circle",3),s.qZA()(),s._UZ(5,"rect",4),s.qZA(),s.kcU(),s._UZ(6,"div",5)(7,"div",6,7)(9,"div",8),s.qZA()),2&e&&(s.xp6(3),s.Q6J("id",i.progressbarId),s.xp6(2),s.uIk("fill",i._rectangleFillValue),s.xp6(1),s.Q6J("ngStyle",i._bufferTransform()),s.xp6(1),s.Q6J("ngStyle",i._primaryTransform()))},dependencies:[uo],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}.mat-progress-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}'],encapsulation:2,changeDetection:0}),n})();function VH(n,t=0,e=100){return Math.max(t,Math.min(e,n))}let YT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mi,_s,_s]}),n})(),UH=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-loader"]],decls:2,vars:0,consts:[["mode","indeterminate"]],template:function(e,i){1&e&&(s.TgZ(0,"article"),s._UZ(1,"mat-progress-bar",0),s.qZA())},dependencies:[oQ]}),n})();function aQ(n,t){1&n&&s._UZ(0,"app-loader")}let HH=(()=>{class n{constructor(e){this.loadingService=e,this.loadingStatus=!1}ngOnInit(){this.loadingService.loadingEmitter.subscribe(e=>{this.loadingStatus=e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(fP))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-header"]],decls:15,vars:1,consts:[[1,"header"],[1,"left"],["routerLink",""],["width","102","height","32",2,"display","block"],["d","M29.3864 22.7101C29.2429 22.3073 29.0752 21.9176 28.9157 21.5565C28.6701 21.0011 28.4129 20.4446 28.1641 19.9067L28.1444 19.864C25.9255 15.0589 23.5439 10.1881 21.0659 5.38701L20.9607 5.18316C20.7079 4.69289 20.4466 4.18596 20.1784 3.68786C19.8604 3.0575 19.4745 2.4636 19.0276 1.91668C18.5245 1.31651 17.8956 0.833822 17.1853 0.502654C16.475 0.171486 15.7005 -9.83959e-05 14.9165 4.23317e-08C14.1325 9.84805e-05 13.3581 0.171877 12.6478 0.503224C11.9376 0.834571 11.3088 1.31742 10.8059 1.91771C10.3595 2.46476 9.97383 3.05853 9.65572 3.68858C9.38521 4.19115 9.12145 4.70278 8.8664 5.19757L8.76872 5.38696C6.29061 10.1884 3.90903 15.0592 1.69015 19.8639L1.65782 19.9338C1.41334 20.463 1.16057 21.0102 0.919073 21.5563C0.75949 21.9171 0.592009 22.3065 0.448355 22.7103C0.0369063 23.8104 -0.094204 24.9953 0.0668098 26.1585C0.237562 27.334 0.713008 28.4447 1.44606 29.3804C2.17911 30.3161 3.14434 31.0444 4.24614 31.4932C5.07835 31.8299 5.96818 32.002 6.86616 32C7.14824 31.9999 7.43008 31.9835 7.71027 31.9509C8.846 31.8062 9.94136 31.4366 10.9321 30.8639C12.2317 30.1338 13.5152 29.0638 14.9173 27.5348C16.3194 29.0638 17.6029 30.1338 18.9025 30.8639C19.8932 31.4367 20.9886 31.8062 22.1243 31.9509C22.4045 31.9835 22.6864 31.9999 22.9685 32C23.8664 32.002 24.7561 31.8299 25.5883 31.4932C26.6901 31.0444 27.6554 30.3161 28.3885 29.3804C29.1216 28.4447 29.5971 27.3341 29.7679 26.1585C29.9287 24.9952 29.7976 23.8103 29.3864 22.7101ZM14.9173 24.377C13.1816 22.1769 12.0678 20.1338 11.677 18.421C11.5169 17.7792 11.4791 17.1131 11.5656 16.4573C11.6339 15.9766 11.8105 15.5176 12.0821 15.1148C12.4163 14.6814 12.8458 14.3304 13.3374 14.0889C13.829 13.8475 14.3696 13.7219 14.9175 13.7219C15.4655 13.722 16.006 13.8476 16.4976 14.0892C16.9892 14.3307 17.4186 14.6817 17.7528 15.1151C18.0244 15.5181 18.201 15.9771 18.2693 16.4579C18.3556 17.114 18.3177 17.7803 18.1573 18.4223C17.7661 20.1349 16.6526 22.1774 14.9173 24.377ZM27.7406 25.8689C27.6212 26.6908 27.2887 27.4674 26.7762 28.1216C26.2636 28.7759 25.5887 29.2852 24.8183 29.599C24.0393 29.9111 23.1939 30.0217 22.3607 29.9205C21.4946 29.8089 20.6599 29.5239 19.9069 29.0824C18.7501 28.4325 17.5791 27.4348 16.2614 25.9712C18.3591 23.3846 19.669 21.0005 20.154 18.877C20.3723 17.984 20.4196 17.0579 20.2935 16.1475C20.1791 15.3632 19.8879 14.615 19.4419 13.9593C18.9194 13.2519 18.2378 12.6768 17.452 12.2805C16.6661 11.8842 15.798 11.6777 14.9175 11.6777C14.0371 11.6777 13.1689 11.8841 12.383 12.2803C11.5971 12.6765 10.9155 13.2515 10.393 13.9589C9.94707 14.6144 9.65591 15.3624 9.5414 16.1465C9.41524 17.0566 9.4623 17.9822 9.68011 18.8749C10.1648 20.9993 11.4748 23.384 13.5732 25.9714C12.2555 27.4348 11.0845 28.4325 9.92769 29.0825C9.17468 29.5239 8.34007 29.809 7.47395 29.9205C6.64065 30.0217 5.79525 29.9111 5.0162 29.599C4.24581 29.2852 3.57092 28.7759 3.05838 28.1217C2.54585 27.4674 2.21345 26.6908 2.09411 25.8689C1.97932 25.0334 2.07701 24.1825 2.37818 23.3946C2.49266 23.0728 2.62663 22.757 2.7926 22.3818C3.0274 21.851 3.27657 21.3115 3.51759 20.7898L3.54996 20.7197C5.75643 15.9419 8.12481 11.0982 10.5894 6.32294L10.6875 6.13283C10.9384 5.64601 11.1979 5.14267 11.4597 4.6563C11.7101 4.15501 12.0132 3.68171 12.3639 3.2444C12.6746 2.86903 13.0646 2.56681 13.5059 2.35934C13.9473 2.15186 14.4291 2.04426 14.9169 2.04422C15.4047 2.04418 15.8866 2.15171 16.3279 2.35911C16.7693 2.56651 17.1593 2.86867 17.4701 3.24399C17.821 3.68097 18.1242 4.15411 18.3744 4.65538C18.6338 5.13742 18.891 5.63623 19.1398 6.11858L19.2452 6.32315C21.7097 11.0979 24.078 15.9415 26.2847 20.7201L26.3046 20.7631C26.5498 21.2936 26.8033 21.8419 27.042 22.382C27.2082 22.7577 27.3424 23.0738 27.4566 23.3944C27.7576 24.1824 27.8553 25.0333 27.7406 25.8689Z","fill","currentcolor"],["d","M41.6847 24.1196C40.8856 24.1196 40.1505 23.9594 39.4792 23.6391C38.808 23.3188 38.2327 22.8703 37.7212 22.2937C37.2098 21.7172 36.8263 21.0445 36.5386 20.3078C36.2509 19.539 36.123 18.7062 36.123 17.8093C36.123 16.9124 36.2829 16.0475 36.5705 15.2787C36.8582 14.51 37.2737 13.8373 37.7852 13.2287C38.2966 12.6521 38.9039 12.1716 39.6071 11.8513C40.3103 11.531 41.0455 11.3708 41.8765 11.3708C42.6756 11.3708 43.3788 11.531 44.0181 11.8833C44.6574 12.2037 45.1688 12.6841 45.5843 13.2927L45.6802 11.7232H48.6209V23.7992H45.6802L45.5843 22.0375C45.1688 22.6781 44.6254 23.1906 43.9222 23.575C43.2829 23.9274 42.5158 24.1196 41.6847 24.1196ZM42.4519 21.2367C43.0272 21.2367 43.5386 21.0765 44.0181 20.7882C44.4656 20.4679 44.8172 20.0515 45.1049 19.539C45.3606 19.0265 45.4884 18.4179 45.4884 17.7452C45.4884 17.0725 45.3606 16.4639 45.1049 15.9514C44.8492 15.4389 44.4656 15.0225 44.0181 14.7022C43.5706 14.3818 43.0272 14.2537 42.4519 14.2537C41.8765 14.2537 41.3651 14.4139 40.8856 14.7022C40.4382 15.0225 40.0866 15.4389 39.7989 15.9514C39.5432 16.4639 39.4153 17.0725 39.4153 17.7452C39.4153 18.4179 39.5432 19.0265 39.7989 19.539C40.0546 20.0515 40.4382 20.4679 40.8856 20.7882C41.3651 21.0765 41.8765 21.2367 42.4519 21.2367ZM53.6392 8.4559C53.6392 8.80825 53.5753 9.12858 53.4154 9.38483C53.2556 9.64109 53.0319 9.86531 52.7442 10.0255C52.4565 10.1856 52.1369 10.2497 51.8173 10.2497C51.4976 10.2497 51.178 10.1856 50.8903 10.0255C50.6026 9.86531 50.3789 9.64109 50.2191 9.38483C50.0592 9.09654 49.9953 8.80825 49.9953 8.4559C49.9953 8.10355 50.0592 7.78323 50.2191 7.52697C50.3789 7.23868 50.6026 7.04649 50.8903 6.88633C51.178 6.72617 51.4976 6.66211 51.8173 6.66211C52.1369 6.66211 52.4565 6.72617 52.7442 6.88633C53.0319 7.04649 53.2556 7.27072 53.4154 7.52697C53.5433 7.78323 53.6392 8.07152 53.6392 8.4559ZM50.2191 23.7672V11.6911H53.4154V23.7672H50.2191V23.7672ZM61.9498 14.8623V14.8943C61.79 14.8303 61.5982 14.7982 61.4383 14.7662C61.2466 14.7342 61.0867 14.7342 60.895 14.7342C60 14.7342 59.3287 14.9904 58.8812 15.535C58.4018 16.0795 58.178 16.8483 58.178 17.8413V23.7672H54.9817V11.6911H57.9223L58.0182 13.517C58.3379 12.8763 58.7214 12.3958 59.2648 12.0435C59.7762 11.6911 60.3835 11.531 61.0867 11.531C61.3105 11.531 61.5342 11.563 61.726 11.595C61.8219 11.6271 61.8858 11.6271 61.9498 11.6591V14.8623ZM63.2283 23.7672V6.72617H66.4247V13.2287C66.8722 12.6521 67.3836 12.2036 68.0229 11.8513C68.6622 11.531 69.3654 11.3388 70.1645 11.3388C70.9635 11.3388 71.6987 11.4989 72.3699 11.8193C73.0412 12.1396 73.6165 12.588 74.128 13.1646C74.6394 13.7412 75.0229 14.4139 75.3106 15.1506C75.5983 15.9194 75.7261 16.7522 75.7261 17.6491C75.7261 18.546 75.5663 19.4109 75.2787 20.1796C74.991 20.9484 74.5755 21.6211 74.064 22.2297C73.5526 22.8063 72.9453 23.2867 72.2421 23.6071C71.5389 23.9274 70.8037 24.0875 69.9727 24.0875C69.1736 24.0875 68.4704 23.9274 67.8311 23.575C67.1918 23.2547 66.6804 22.7742 66.2649 22.1656L66.169 23.7352L63.2283 23.7672ZM69.3973 21.2367C69.9727 21.2367 70.4841 21.0765 70.9635 20.7882C71.411 20.4679 71.7626 20.0515 72.0503 19.539C72.306 19.0265 72.4339 18.4179 72.4339 17.7452C72.4339 17.0725 72.306 16.4639 72.0503 15.9514C71.7626 15.4389 71.411 15.0225 70.9635 14.7022C70.5161 14.3818 69.9727 14.2537 69.3973 14.2537C68.822 14.2537 68.3106 14.4139 67.8311 14.7022C67.3836 15.0225 67.032 15.4389 66.7443 15.9514C66.4886 16.4639 66.3608 17.0725 66.3608 17.7452C66.3608 18.4179 66.4886 19.0265 66.7443 19.539C67 20.0515 67.3836 20.4679 67.8311 20.7882C68.3106 21.0765 68.822 21.2367 69.3973 21.2367ZM76.9408 23.7672V11.6911H79.8814L79.9773 13.2607C80.3289 12.6841 80.8084 12.2357 81.4157 11.8833C82.023 11.531 82.7262 11.3708 83.5253 11.3708C84.4203 11.3708 85.1874 11.595 85.8267 12.0115C86.4979 12.4279 87.0094 13.0365 87.361 13.8053C87.7126 14.574 87.9043 15.5029 87.9043 16.56V23.7992H84.708V16.9764C84.708 16.1436 84.5162 15.4709 84.1326 14.9904C83.7491 14.51 83.2376 14.2537 82.5664 14.2537C82.0869 14.2537 81.6714 14.3498 81.2878 14.574C80.9362 14.7982 80.6486 15.0865 80.4248 15.503C80.2011 15.8873 80.1052 16.3678 80.1052 16.8483V23.7672H76.9408V23.7672ZM89.5025 23.7672V6.72617H92.6989V13.2287C93.1464 12.6521 93.6578 12.2036 94.2971 11.8513C94.9364 11.531 95.6396 11.3388 96.4387 11.3388C97.2378 11.3388 97.9729 11.4989 98.6442 11.8193C99.3154 12.1396 99.8907 12.588 100.402 13.1646C100.914 13.7412 101.297 14.4139 101.585 15.1506C101.873 15.9194 102 16.7522 102 17.6491C102 18.546 101.841 19.4109 101.553 20.1796C101.265 20.9484 100.85 21.6211 100.338 22.2297C99.8268 22.8063 99.2195 23.2867 98.5163 23.6071C97.8131 23.9274 97.0779 24.0875 96.2469 24.0875C95.4478 24.0875 94.7446 23.9274 94.1053 23.575C93.466 23.2547 92.9546 22.7742 92.5391 22.1656L92.4432 23.7352L89.5025 23.7672ZM95.7035 21.2367C96.2788 21.2367 96.7903 21.0765 97.2697 20.7882C97.7172 20.4679 98.0688 20.0515 98.3565 19.539C98.6122 19.0265 98.7401 18.4179 98.7401 17.7452C98.7401 17.0725 98.6122 16.4639 98.3565 15.9514C98.1008 15.4389 97.7172 15.0225 97.2697 14.7022C96.8222 14.3818 96.2788 14.2537 95.7035 14.2537C95.1281 14.2537 94.6167 14.4139 94.1373 14.7022C93.6898 15.0225 93.3382 15.4389 93.0505 15.9514C92.7628 16.4639 92.6669 17.0725 92.6669 17.7452C92.6669 18.4179 92.7948 19.0265 93.0505 19.539C93.3062 20.0515 93.6898 20.4679 94.1373 20.7882C94.6167 21.0765 95.0962 21.2367 95.7035 21.2367Z","fill","currentcolor"],[1,"right"],[1,"btn","header_language"],[1,"lang_flag"],["src","assets/georgia.svg","alt",""],[1,"langs_drop"],["src","assets/united-states.svg","alt",""],[4,"ngIf"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"aside",1)(2,"a",2),s.O4$(),s.TgZ(3,"svg",3),s._UZ(4,"path",4)(5,"path",5),s.qZA()()(),s.kcU(),s.TgZ(6,"aside",6)(7,"button",7)(8,"div",8),s._UZ(9,"img",9),s.qZA(),s.TgZ(10,"div",10)(11,"div",8),s._UZ(12,"img",11),s.qZA()()(),s._UZ(13,"app-account"),s.qZA()(),s.YNc(14,aQ,1,0,"app-loader",12)),2&e&&(s.xp6(14),s.Q6J("ngIf",i.loadingStatus))},dependencies:[bn,Vh,BH,UH],styles:[".header[_ngcontent-%COMP%]{border-bottom:1px solid rgb(221,221,221);display:flex;flex-direction:row;width:100%;height:80px;background-color:#fff;z-index:99999}.header[_ngcontent-%COMP%]   aside[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto;padding-left:3%;padding-right:3%;width:100%}.header[_ngcontent-%COMP%]   aside[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#ff3c00}.header[_ngcontent-%COMP%]   aside[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto;border-radius:50px}.header[_ngcontent-%COMP%]   aside[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{padding-top:10px}.header[_ngcontent-%COMP%]   aside[_ngcontent-%COMP%]   app-account[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto}.header[_ngcontent-%COMP%]   aside[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:30px}.header[_ngcontent-%COMP%]   aside[_ngcontent-%COMP%]   .header_language[_ngcontent-%COMP%]{width:auto;position:relative}.header[_ngcontent-%COMP%]   aside[_ngcontent-%COMP%]   .header_language[_ngcontent-%COMP%]:hover   .langs_drop[_ngcontent-%COMP%]{opacity:1;visibility:visible;pointer-events:all;transform:translateY(0)}.header[_ngcontent-%COMP%]   aside[_ngcontent-%COMP%]   .header_language[_ngcontent-%COMP%]   .lang_flag[_ngcontent-%COMP%]{cursor:pointer;width:30px}.header[_ngcontent-%COMP%]   aside[_ngcontent-%COMP%]   .header_language[_ngcontent-%COMP%]   .langs_drop[_ngcontent-%COMP%]{position:absolute;opacity:0;visibility:hidden;pointer-events:none;transition:all .3s linear;transform:translateY(-20px)}.header[_ngcontent-%COMP%]   aside[_ngcontent-%COMP%]   .header_language[_ngcontent-%COMP%]   .langs_drop[_ngcontent-%COMP%]   .lang_flag[_ngcontent-%COMP%]{margin-top:10px}.header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-right:80px}.header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{padding-left:80px}.header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block}@media screen and (max-width: 792px){aside[_ngcontent-%COMP%]{padding-left:0!important;padding-right:0!important}}app-loader[_ngcontent-%COMP%]{width:100%;height:1px}"]}),n})(),zH=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-footer"]],decls:14,vars:0,consts:[[1,"footer"],[1,"left"],[1,"right"],["href",""],["viewBox","0 0 32 32","role","img","aria-hidden","false","aria-label","Navigate to Facebook","focusable","false",2,"height","18px","width","18px","display","block","fill","currentcolor"],["d","m8 14.41v-4.17c0-.42.35-.81.77-.81h2.52v-2.08c0-4.84 2.48-7.31 7.42-7.35 1.65 0 3.22.21 4.69.64.46.14.63.42.6.88l-.56 4.06c-.04.18-.14.35-.32.53-.21.11-.42.18-.63.14-.88-.25-1.78-.35-2.8-.35-1.4 0-1.61.28-1.61 1.73v1.8h4.52c.42 0 .81.42.81.88l-.35 4.17c0 .42-.35.71-.77.71h-4.21v16c0 .42-.35.81-.77.81h-5.21c-.42 0-.8-.39-.8-.81v-16h-2.52a.78.78 0 0 1 -.78-.78","fill-rule","evenodd"],["viewBox","0 0 24 24","role","img","aria-hidden","false","aria-label","Navigate to Instagram","focusable","false",2,"height","18px","width","18px","display","block","fill","currentcolor"],["d","m23.09.91c-.61-.61-1.33-.91-2.17-.91h-17.84c-.85 0-1.57.3-2.17.91s-.91 1.33-.91 2.17v17.84c0 .85.3 1.57.91 2.17s1.33.91 2.17.91h17.84c.85 0 1.57-.3 2.17-.91s.91-1.33.91-2.17v-17.84c0-.85-.3-1.57-.91-2.17zm-14.48 7.74c.94-.91 2.08-1.37 3.4-1.37 1.33 0 2.47.46 3.41 1.37s1.41 2.01 1.41 3.3-.47 2.39-1.41 3.3-2.08 1.37-3.41 1.37c-1.32 0-2.46-.46-3.4-1.37s-1.41-2.01-1.41-3.3.47-2.39 1.41-3.3zm12.66 11.63c0 .27-.09.5-.28.68a.92.92 0 0 1 -.67.28h-16.7a.93.93 0 0 1 -.68-.28.92.92 0 0 1 -.27-.68v-10.13h2.2a6.74 6.74 0 0 0 -.31 2.05c0 2 .73 3.71 2.19 5.12s3.21 2.12 5.27 2.12a7.5 7.5 0 0 0 3.75-.97 7.29 7.29 0 0 0 2.72-2.63 6.93 6.93 0 0 0 1-3.63c0-.71-.11-1.39-.31-2.05h2.11v10.12zm0-13.95c0 .3-.11.56-.31.77a1.05 1.05 0 0 1 -.77.31h-2.72c-.3 0-.56-.11-.77-.31a1.05 1.05 0 0 1 -.31-.77v-2.58c0-.29.11-.54.31-.76s.47-.32.77-.32h2.72c.3 0 .56.11.77.32s.31.47.31.76z","fill-rule","evenodd"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"aside",1)(2,"span"),s._uU(3,"\xa9 2022 Airbnb, Inc."),s.qZA()(),s.TgZ(4,"aside",2)(5,"ul")(6,"li")(7,"a",3),s.O4$(),s.TgZ(8,"svg",4),s._UZ(9,"path",5),s.qZA()()(),s.kcU(),s.TgZ(10,"li")(11,"a",3),s.O4$(),s.TgZ(12,"svg",6),s._UZ(13,"path",7),s.qZA()()()()()())},styles:[".footer[_ngcontent-%COMP%]{border-top:1px solid rgb(221,221,221);display:flex;flex-wrap:wrap;justify-content:space-around;width:100%;height:100%;background-color:#fff}.right[_ngcontent-%COMP%]{right:0%;display:flex;align-items:center;justify-content:center}.right[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;display:flex}.right[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-left:5px}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}.left[_ngcontent-%COMP%]{left:0%}aside[_ngcontent-%COMP%]{margin-top:auto!important;margin-bottom:auto!important}ul[_ngcontent-%COMP%]{margin:auto}"]}),n})(),lQ=(()=>{class n{constructor(e,i,r){this.router=e,this.titleService=i,this.document=r,this.handleRouteEvents()}handleRouteEvents(){this.router.events.subscribe(e=>{if(e instanceof Iu){const i=this.getTitle(this.router.routerState,this.router.routerState.root).join("-");this.titleService.setTitle(i),gtag("event","page_view",{page_title:i,page_path:e.urlAfterRedirects,page_location:this.document.location.href})}})}getTitle(e,i){const r=[];return i&&i.snapshot.data&&i.snapshot.data.title&&r.push(i.snapshot.data.title),e&&i&&i.firstChild&&r.push(...this.getTitle(e,i.firstChild)),r}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(hi),s.Y36(Ts),s.Y36(ae))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:6,vars:0,template:function(e,i){1&e&&(s.TgZ(0,"header"),s._UZ(1,"app-header"),s.qZA(),s.TgZ(2,"main"),s._UZ(3,"router-outlet"),s.qZA(),s.TgZ(4,"footer"),s._UZ(5,"app-footer"),s.qZA())},dependencies:[Su,HH,zH],styles:["main[_ngcontent-%COMP%]{padding-left:3%;padding-right:3%;min-height:calc(100vh - 130px)}@media screen and (max-width: 792px){main[_ngcontent-%COMP%]{padding-left:0!important;padding-right:0!important}}footer[_ngcontent-%COMP%]{bottom:0;width:100%;height:50px}"]}),n})();function cQ(n,t){if(1&n&&(s.O4$(),s._UZ(0,"circle",4)),2&n){const e=s.oxw(),i=s.MAs(1);s.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),s.uIk("r",e._getCircleRadius())}}function uQ(n,t){if(1&n&&(s.O4$(),s._UZ(0,"circle",4)),2&n){const e=s.oxw(),i=s.MAs(1);s.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),s.uIk("r",e._getCircleRadius())}}const hQ=Cv(class{constructor(n){this._elementRef=n}},"primary"),fQ=new s.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function pQ(){return{diameter:100}}});class Wf extends hQ{constructor(t,e,i,r,o,c,d,p){super(t),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=di.w0.EMPTY,this.mode="determinate";const _=Wf._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),_.has(i.head)||_.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!o&&!o._forceAnimations,"mat-spinner"===t.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),o&&(o.color&&(this.color=this.defaultColor=o.color),o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth)),e.isBrowser&&e.SAFARI&&d&&c&&p&&(this._resizeSubscription=d.change(150).subscribe(()=>{"indeterminate"===this.mode&&p.run(()=>c.markForCheck())}))}get diameter(){return this._diameter}set diameter(t){this._diameter=X0(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=X0(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,X0(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=QV(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(t){const e=50*(t.currentScale??1);return`${e}% ${e}%`}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,i=Wf._diameters;let r=i.get(t);if(!r||!r.has(e)){const o=this._document.createElement("style");o.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),o.textContent=this._getAnimationText(),t.appendChild(o),r||(r=new Set,i.set(t,r)),r.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Wf._diameters=new WeakMap,Wf.\u0275fac=function(t){return new(t||Wf)(s.Y36(s.SBq),s.Y36(No),s.Y36(ae,8),s.Y36(s.QbO,8),s.Y36(fQ),s.Y36(s.sBO),s.Y36(TT),s.Y36(s.R0b))},Wf.\u0275cmp=s.Xpm({type:Wf,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(s.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),s.Udp("width",e.diameter,"px")("height",e.diameter,"px"),s.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[s.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(s.O4$(),s.TgZ(0,"svg",0,1),s.YNc(2,cQ,1,11,"circle",2),s.YNc(3,uQ,1,9,"circle",3),s.qZA()),2&t&&(s.Udp("width",e.diameter,"px")("height",e.diameter,"px"),s.Q6J("ngSwitch","indeterminate"===e.mode),s.uIk("viewBox",e._getViewBox()),s.xp6(2),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngSwitchCase",!1))},dependencies:[ss,Nr],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let jH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[_s,Mi,_s]}),n})();const mQ=[Mi,WT,Dv,YT,TP,gP,gC,YR,py,jH];let $T=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mi,WT,Dv,YT,nU,aH,py,[...mQ],Mi,WT,Dv,YT,nU,aH,py,Mi,WT,Dv,YT,TP,gP,gC,YR,py,jH]}),n})();const _Q=[Mi,$T];let yQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Uc],imports:[[..._Q],Mi,$T]}),n})(),GH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[$T,II,NU,OH,Mi]}),n})();const vQ=[Mi,GH];let qH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[...vQ],Mi,GH]}),n})();function ZH(n){return new s.vHH(3e3,!1)}function eJ(){return typeof window<"u"&&typeof window.document<"u"}function MP(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Yf(n){switch(n.length){case 0:return new uC;case 1:return n[0];default:return new Y3(n)}}function WH(n,t,e,i,r=new Map,o=new Map){const c=[],d=[];let p=-1,_=null;if(i.forEach(b=>{const I=b.get("offset"),O=I==p,B=O&&_||new Map;b.forEach((z,X)=>{let se=X,Fe=z;if("offset"!==X)switch(se=t.normalizePropertyName(se,c),Fe){case"!":Fe=r.get(X);break;case ih:Fe=o.get(X);break;default:Fe=t.normalizeStyleValue(X,se,Fe,c)}B.set(se,Fe)}),O||d.push(B),_=B,p=I}),c.length)throw function zQ(n){return new s.vHH(3502,!1)}();return d}function kP(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&OP(e,"start",n)));break;case"done":n.onDone(()=>i(e&&OP(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&OP(e,"destroy",n)))}}function OP(n,t,e){const o=RP(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),c=n._data;return null!=c&&(o._data=c),o}function RP(n,t,e,i,r="",o=0,c){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!c}}function dl(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function YH(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let PP=(n,t)=>!1,$H=(n,t,e)=>[],KH=null;function NP(n){const t=n.parentNode||n.host;return t===KH?null:t}(MP()||typeof Element<"u")&&(eJ()?(KH=(()=>document.documentElement)(),PP=(n,t)=>{for(;t;){if(t===n)return!0;t=NP(t)}return!1}):PP=(n,t)=>n.contains(t),$H=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let xm=null,QH=!1;const JH=PP,XH=$H;let e6=(()=>{class n{validateStyleProperty(e){return function nJ(n){xm||(xm=function iJ(){return typeof document<"u"?document.body:null}()||{},QH=!!xm.style&&"WebkitAppearance"in xm.style);let t=!0;return xm.style&&!function tJ(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in xm.style,!t&&QH&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in xm.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return JH(e,i)}getParentElement(e){return NP(e)}query(e,i,r){return XH(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,c,d=[],p){return new uC(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),FP=(()=>{class n{}return n.NOOP=new e6,n})();const LP="ng-enter",KT="ng-leave",QT="ng-trigger",JT=".ng-trigger",n6="ng-animating",BP=".ng-animating";function rh(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:VP(parseFloat(t[1]),t[2])}function VP(n,t){return"s"===t?1e3*n:n}function XT(n,t,e){return n.hasOwnProperty("duration")?n:function oJ(n,t,e){let r,o=0,c="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return t.push(ZH()),{duration:0,delay:0,easing:""};r=VP(parseFloat(d[1]),d[2]);const p=d[3];null!=p&&(o=VP(parseFloat(p),d[4]));const _=d[5];_&&(c=_)}else r=n;if(!e){let d=!1,p=t.length;r<0&&(t.push(function AQ(){return new s.vHH(3100,!1)}()),d=!0),o<0&&(t.push(function bQ(){return new s.vHH(3101,!1)}()),d=!0),d&&t.splice(p,0,ZH())}return{duration:r,delay:o,easing:c}}(n,t,e)}function vC(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function i6(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function $f(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function s6(n,t,e){return e?t+":"+e+";":""}function o6(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=s6(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=s6(0,uJ(e),n.style[e]));n.setAttribute("style",t)}function Ku(n,t,e){n.style&&(t.forEach((i,r)=>{const o=HP(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i}),MP()&&o6(n))}function Mm(n,t){n.style&&(t.forEach((e,i)=>{const r=HP(i);n.style[r]=""}),MP()&&o6(n))}function AC(n){return Array.isArray(n)?1==n.length?n[0]:j3(n):n}const UP=new RegExp("{{\\s*(.+?)\\s*}}","g");function a6(n){let t=[];if("string"==typeof n){let e;for(;e=UP.exec(n);)t.push(e[1]);UP.lastIndex=0}return t}function bC(n,t,e){const i=n.toString(),r=i.replace(UP,(o,c)=>{let d=t[c];return null==d&&(e.push(function CQ(n){return new s.vHH(3003,!1)}()),d=""),d.toString()});return r==i?n:r}function ex(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const cJ=/-+([a-z0-9])/g;function HP(n){return n.replace(cJ,(...t)=>t[1].toUpperCase())}function uJ(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function hl(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function EQ(n){return new s.vHH(3004,!1)}()}}function l6(n,t){return window.getComputedStyle(n)[t]}function mJ(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function _J(n,t,e){if(":"==n[0]){const p=function yJ(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function BQ(n){return new s.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof p)return void t.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function LQ(n){return new s.vHH(3015,!1)}()),t;const r=i[1],o=i[2],c=i[3];t.push(c6(r,c));"<"==o[0]&&!("*"==r&&"*"==c)&&t.push(c6(c,r))}(i,e,t)):e.push(n),e}const rx=new Set(["true","1"]),sx=new Set(["false","0"]);function c6(n,t){const e=rx.has(n)||sx.has(n),i=rx.has(t)||sx.has(t);return(r,o)=>{let c="*"==n||n==r,d="*"==t||t==o;return!c&&e&&"boolean"==typeof r&&(c=r?rx.has(n):sx.has(n)),!d&&i&&"boolean"==typeof o&&(d=o?rx.has(t):sx.has(t)),c&&d}}const vJ=new RegExp("s*:selfs*,?","g");function zP(n,t,e,i){return new AJ(n).build(t,e,i)}class AJ{constructor(t){this._driver=t}build(t,e,i){const r=new CJ(e);return this._resetContextStyleTimingState(r),hl(this,AC(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],c=[];return"@"==t.name.charAt(0)&&e.errors.push(function IQ(){return new s.vHH(3006,!1)}()),t.definitions.forEach(d=>{if(this._resetContextStyleTimingState(e),0==d.type){const p=d,_=p.name;_.toString().split(/\s*,\s*/).forEach(b=>{p.name=b,o.push(this.visitState(p,e))}),p.name=_}else if(1==d.type){const p=this.visitTransition(d,e);i+=p.queryCount,r+=p.depCount,c.push(p)}else e.errors.push(function SQ(){return new s.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:c,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,c=r||{};i.styles.forEach(d=>{d instanceof Map&&d.forEach(p=>{a6(p).forEach(_=>{c.hasOwnProperty(_)||o.add(_)})})}),o.size&&(ex(o.values()),e.errors.push(function TQ(n,t){return new s.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=hl(this,AC(t.animation),e);return{type:1,matchers:mJ(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:km(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>hl(this,i,e)),options:km(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(c=>{e.currentTime=i;const d=hl(this,c,e);return r=Math.max(r,e.currentTime),d});return e.currentTime=r,{type:3,steps:o,options:km(t.options)}}visitAnimate(t,e){const i=function DJ(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return jP(XT(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=jP(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=XT(e,t);return jP(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:Fo({});if(5==o.type)r=this.visitKeyframes(o,e);else{let c=t.styles,d=!1;if(!c){d=!0;const _={};i.easing&&(_.easing=i.easing),c=Fo(_)}e.currentTime+=i.duration+i.delay;const p=this.visitStyle(c,e);p.isEmptyStep=d,r=p}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let d of r)"string"==typeof d?d===ih?i.push(d):e.errors.push(new s.vHH(3002,!1)):i.push(i6(d));let o=!1,c=null;return i.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(c=d.get("easing"),d.delete("easing")),!o))for(let p of d.values())if(p.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:c,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(c=>{"string"!=typeof c&&c.forEach((d,p)=>{const _=e.collectedStyles.get(e.currentQuerySelector),b=_.get(p);let I=!0;b&&(o!=r&&o>=b.startTime&&r<=b.endTime&&(e.errors.push(function MQ(n,t,e,i,r){return new s.vHH(3010,!1)}()),I=!1),o=b.startTime),I&&_.set(p,{startTime:o,endTime:r}),e.options&&function lJ(n,t,e){const i=t.params||{},r=a6(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function wQ(n){return new s.vHH(3001,!1)}())})}(d,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function kQ(){return new s.vHH(3011,!1)}()),i;let o=0;const c=[];let d=!1,p=!1,_=0;const b=t.steps.map(Fe=>{const it=this._makeStyleAst(Fe,e);let at=null!=it.offset?it.offset:function EJ(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(it.styles),ct=0;return null!=at&&(o++,ct=it.offset=at),p=p||ct<0||ct>1,d=d||ct<_,_=ct,c.push(ct),it});p&&e.errors.push(function OQ(){return new s.vHH(3012,!1)}()),d&&e.errors.push(function RQ(){return new s.vHH(3200,!1)}());const I=t.steps.length;let O=0;o>0&&o<I?e.errors.push(function PQ(){return new s.vHH(3202,!1)}()):0==o&&(O=1/(I-1));const B=I-1,z=e.currentTime,X=e.currentAnimateTimings,se=X.duration;return b.forEach((Fe,it)=>{const at=O>0?it==B?1:O*it:c[it],ct=at*se;e.currentTime=z+X.delay+ct,X.duration=ct,this._validateStyleAst(Fe,e),Fe.offset=at,i.styles.push(Fe)}),i}visitReference(t,e){return{type:8,animation:hl(this,AC(t.animation),e),options:km(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:km(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:km(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,c]=function bJ(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(vJ,"")),n=n.replace(/@\*/g,JT).replace(/@\w+/g,e=>JT+"-"+e.slice(1)).replace(/:animating/g,BP),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,dl(e.collectedStyles,e.currentQuerySelector,new Map);const d=hl(this,AC(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:d,originalSelector:t.selector,options:km(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function NQ(){return new s.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:XT(t.timings,e.errors,!0);return{type:12,animation:hl(this,AC(t.animation),e),timings:i,options:null}}}class CJ{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function km(n){return n?(n=vC(n)).params&&(n.params=function wJ(n){return n?vC(n):null}(n.params)):n={},n}function jP(n,t,e){return{duration:n,delay:t,easing:e}}function GP(n,t,e,i,r,o,c=null,d=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:c,subTimeline:d}}class ox{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const TJ=new RegExp(":enter","g"),MJ=new RegExp(":leave","g");function qP(n,t,e,i,r,o=new Map,c=new Map,d,p,_=[]){return(new kJ).buildKeyframes(n,t,e,i,r,o,c,d,p,_)}class kJ{buildKeyframes(t,e,i,r,o,c,d,p,_,b=[]){_=_||new ox;const I=new ZP(t,e,_,r,o,b,[]);I.options=p;const O=p.delay?rh(p.delay):0;I.currentTimeline.delayNextStep(O),I.currentTimeline.setStyles([c],null,I.errors,p),hl(this,i,I);const B=I.timelines.filter(z=>z.containsAnimation());if(B.length&&d.size){let z;for(let X=B.length-1;X>=0;X--){const se=B[X];if(se.element===e){z=se;break}}z&&!z.allowOnlyTimelineStyles()&&z.setStyles([d],null,I.errors,p)}return B.length?B.map(z=>z.buildKeyframes()):[GP(e,[],[],[],0,O,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);o!=c&&e.transformIntoNewTimeline(c)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const c="number"==typeof o?o:rh(bC(o,r?.params??{},e.errors));i.delayNextStep(c)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const c=null!=i.duration?rh(i.duration):null,d=null!=i.delay?rh(i.delay):null;return 0!==c&&t.forEach(p=>{const _=e.appendInstructionToTimeline(p,c,d);o=Math.max(o,_.duration+_.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),hl(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ax);const c=rh(o.delay);r.delayNextStep(c)}t.steps.length&&(t.steps.forEach(c=>hl(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?rh(t.options.delay):0;t.steps.forEach(c=>{const d=e.createSubContext(t.options);o&&d.delayNextStep(o),hl(this,c,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(c=>e.currentTimeline.mergeTimelineCollectedStyles(c)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return XT(e.params?bC(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,d=e.createSubContext().currentTimeline;d.easing=i.easing,t.styles.forEach(p=>{d.forwardTime((p.offset||0)*o),d.setStyles(p.styles,p.easing,e.errors,e.options),d.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(d),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?rh(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ax);let c=i;const d=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=d.length;let p=null;d.forEach((_,b)=>{e.currentQueryIndex=b;const I=e.createSubContext(t.options,_);o&&I.delayNextStep(o),_===e.element&&(p=I.currentTimeline),hl(this,t.animation,I),I.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,I.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(c),p&&(e.currentTimeline.mergeTimelineCollectedStyles(p),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,c=Math.abs(o.duration),d=c*(e.currentQueryTotal-1);let p=c*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":p=d-p;break;case"full":p=i.currentStaggerTime}const b=e.currentTimeline;p&&b.delayNextStep(p);const I=b.currentTime;hl(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-I+(r.startTime-i.currentTimeline.startTime)}}const ax={};class ZP{constructor(t,e,i,r,o,c,d,p){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=c,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ax,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new lx(this._driver,e,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=rh(i.duration)),null!=i.delay&&(r.delay=rh(i.delay));const o=i.params;if(o){let c=r.params;c||(c=this.options.params={}),Object.keys(o).forEach(d=>{(!e||!c.hasOwnProperty(d))&&(c[d]=bC(o[d],c,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new ZP(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=ax,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new OJ(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,c){let d=[];if(r&&d.push(this.element),t.length>0){t=(t=t.replace(TJ,"."+this._enterClassName)).replace(MJ,"."+this._leaveClassName);let _=this._driver.query(this.element,t,1!=i);0!==i&&(_=i<0?_.slice(_.length+i,_.length):_.slice(0,i)),d.push(..._)}return!o&&0==d.length&&c.push(function FQ(n){return new s.vHH(3014,!1)}()),d}}class lx{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new lx(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||ih),this._currentKeyframe.set(e,ih);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},c=function RJ(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,ih)}else $f(r,e)}),e}(t,this._globalTimelineStyles);for(let[d,p]of c){const _=bC(p,o,i);this._pendingStyles.set(d,_),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??ih),this._updateStyle(d,_)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,p)=>{const _=$f(d,new Map,this._backFill);_.forEach((b,I)=>{"!"===b?t.add(I):b===ih&&e.add(I)}),i||_.set("offset",p/this.duration),r.push(_)});const o=t.size?ex(t.values()):[],c=e.size?ex(e.values()):[];if(i){const d=r[0],p=new Map(d);d.set("offset",0),p.set("offset",1),r=[d,p]}return GP(this.element,r,o,c,this.duration,this.startTime,this.easing,!1)}}class OJ extends lx{constructor(t,e,i,r,o,c,d=!1){super(t,e,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=d,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],c=i+e,d=e/c,p=$f(t[0]);p.set("offset",0),o.push(p);const _=$f(t[0]);_.set("offset",h6(d)),o.push(_);const b=t.length-1;for(let I=1;I<=b;I++){let O=$f(t[I]);const B=O.get("offset");O.set("offset",h6((e+B*i)/c)),o.push(O)}i=c,e=0,r="",t=o}return GP(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function h6(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class WP{}const PJ=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class NJ extends WP{normalizePropertyName(t,e){return HP(t)}normalizeStyleValue(t,e,i,r){let o="";const c=i.toString().trim();if(PJ.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(function DQ(n,t){return new s.vHH(3005,!1)}())}return c+o}}function f6(n,t,e,i,r,o,c,d,p,_,b,I,O){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:c,timelines:d,queriedElements:p,preStyleProps:_,postStyleProps:b,totalTime:I,errors:O}}const YP={};class p6{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function FJ(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,c,d,p,_,b){const I=[],O=this.ast.options&&this.ast.options.params||YP,z=this.buildStyles(i,d&&d.params||YP,I),X=p&&p.params||YP,se=this.buildStyles(r,X,I),Fe=new Set,it=new Map,at=new Map,ct="void"===r,Pt={params:LJ(X,O),delay:this.ast.options?.delay},Vt=b?[]:qP(t,e,this.ast.animation,o,c,z,se,Pt,_,I);let On=0;if(Vt.forEach(ml=>{On=Math.max(ml.duration+ml.delay,On)}),I.length)return f6(e,this._triggerName,i,r,ct,z,se,[],[],it,at,On,I);Vt.forEach(ml=>{const dh=ml.element,Kz=dl(it,dh,new Set);ml.preStyleProps.forEach(Gm=>Kz.add(Gm));const sE=dl(at,dh,new Set);ml.postStyleProps.forEach(Gm=>sE.add(Gm)),dh!==e&&Fe.add(dh)});const Rr=ex(Fe.values());return f6(e,this._triggerName,i,r,ct,z,se,Vt,Rr,it,at,On)}}function LJ(n,t){const e=vC(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class BJ{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=vC(this.defaultParams);return Object.keys(t).forEach(o=>{const c=t[o];null!==c&&(r[o]=c)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((c,d)=>{c&&(c=bC(c,r,e));const p=this.normalizer.normalizePropertyName(d,e);c=this.normalizer.normalizeStyleValue(d,p,c,e),i.set(p,c)})}),i}}class UJ{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new BJ(r.style,r.options&&r.options.params||{},i))}),g6(this.states,"true","1"),g6(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new p6(t,r,this.states))}),this.fallbackTransition=function HJ(n,t,e){return new p6(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,d)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(c=>c.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function g6(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const zJ=new ox;class jJ{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=zP(this._driver,e,i,[]);if(i.length)throw function jQ(n){return new s.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=WH(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let c;const d=new Map;if(o?(c=qP(this._driver,e,o,LP,KT,new Map,new Map,i,zJ,r),c.forEach(b=>{const I=dl(d,b.element,new Map);b.postStyleProps.forEach(O=>I.set(O,null))})):(r.push(function GQ(){return new s.vHH(3300,!1)}()),c=[]),r.length)throw function qQ(n){return new s.vHH(3504,!1)}();d.forEach((b,I)=>{b.forEach((O,B)=>{b.set(B,this._driver.computeStyle(I,B,ih))})});const _=Yf(c.map(b=>{const I=d.get(b.element);return this._buildPlayer(b,new Map,I)}));return this._playersById.set(t,_),_.onDestroy(()=>this.destroy(t)),this.players.push(_),_}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function ZQ(n){return new s.vHH(3301,!1)}();return e}listen(t,e,i,r){const o=RP(e,"","","");return kP(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const m6="ng-animate-queued",$P="ng-animate-disabled",YJ=[],_6={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},$J={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},tc="__ng_removed";class KP{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function XJ(n){return n??null}(i?t.value:t),i){const o=vC(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const wC="void",QP=new KP(wC);class KJ{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,nc(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function WQ(n,t){return new s.vHH(3302,!1)}();if(null==i||0==i.length)throw function YQ(n){return new s.vHH(3303,!1)}();if(!function eX(n){return"start"==n||"done"==n}(i))throw function $Q(n,t){return new s.vHH(3400,!1)}();const o=dl(this._elementListeners,t,[]),c={name:e,phase:i,callback:r};o.push(c);const d=dl(this._engine.statesByElement,t,new Map);return d.has(e)||(nc(t,QT),nc(t,QT+"-"+e),d.set(e,QP)),()=>{this._engine.afterFlush(()=>{const p=o.indexOf(c);p>=0&&o.splice(p,1),this._triggers.has(e)||d.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function KQ(n){return new s.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),c=new JP(this.id,e,t);let d=this._engine.statesByElement.get(t);d||(nc(t,QT),nc(t,QT+"-"+e),this._engine.statesByElement.set(t,d=new Map));let p=d.get(e);const _=new KP(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&_.absorbOptions(p.options),d.set(e,_),p||(p=QP),_.value!==wC&&p.value===_.value){if(!function iX(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(p.params,_.params)){const X=[],se=o.matchStyles(p.value,p.params,X),Fe=o.matchStyles(_.value,_.params,X);X.length?this._engine.reportError(X):this._engine.afterFlush(()=>{Mm(t,se),Ku(t,Fe)})}return}const O=dl(this._engine.playersByElement,t,[]);O.forEach(X=>{X.namespaceId==this.id&&X.triggerName==e&&X.queued&&X.destroy()});let B=o.matchTransition(p.value,_.value,t,_.params),z=!1;if(!B){if(!r)return;B=o.fallbackTransition,z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:B,fromState:p,toState:_,player:c,isFallbackTransition:z}),z||(nc(t,m6),c.onStart(()=>{Rv(t,m6)})),c.onDone(()=>{let X=this.players.indexOf(c);X>=0&&this.players.splice(X,1);const se=this._engine.playersByElement.get(t);if(se){let Fe=se.indexOf(c);Fe>=0&&se.splice(Fe,1)}}),this.players.push(c),O.push(c),c}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,JT,!0);i.forEach(r=>{if(r[tc])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(c=>c.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),c=new Map;if(o){const d=[];if(o.forEach((p,_)=>{if(c.set(_,p.value),this._triggers.has(_)){const b=this.trigger(t,_,wC,r);b&&d.push(b)}}),d.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,c),i&&Yf(d).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const c=o.name;if(r.has(c))return;r.add(c);const p=this._triggers.get(c).fallbackTransition,_=i.get(c)||QP,b=new KP(wC),I=new JP(this.id,c,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:c,transition:p,fromState:_,toState:b,player:I,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let c=t;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[tc];(!o||o===_6)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){nc(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,c=this._elementListeners.get(o);c&&c.forEach(d=>{if(d.name==i.triggerName){const p=RP(o,i.triggerName,i.fromState.value,i.toState.value);p._data=t,kP(i.player,d.phase,p,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==o||0==c?o-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class QJ{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new KJ(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let c=!1,d=this.driver.getParentElement(e);for(;d;){const p=r.get(d);if(p){const _=i.indexOf(p);i.splice(_+1,0,t),c=!0;break}d=this.driver.getParentElement(d)}c||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(cx(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!cx(e))return;const o=e[tc];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const c=this.collectedLeaveElements.indexOf(e);c>=0&&this.collectedLeaveElements.splice(c,1)}if(t){const c=this._fetchNamespace(t);c&&c.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),nc(t,$P)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Rv(t,$P))}removeNode(t,e,i,r){if(cx(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const c=this.namespacesByHostElement.get(e);c&&c.id!==t&&c.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[tc]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return cx(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,JT,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,BP,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Yf(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[tc];if(e&&e.setForRemoval){if(t[tc]=_6,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains($P)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)nc(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Yf(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function QQ(n){return new s.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new ox,r=[],o=new Map,c=[],d=new Map,p=new Map,_=new Map,b=new Set;this.disabledNodes.forEach(Ot=>{b.add(Ot);const Qt=this.driver.query(Ot,".ng-animate-queued",!0);for(let on=0;on<Qt.length;on++)b.add(Qt[on])});const I=this.bodyNode,O=Array.from(this.statesByElement.keys()),B=A6(O,this.collectedEnterElements),z=new Map;let X=0;B.forEach((Ot,Qt)=>{const on=LP+X++;z.set(Qt,on),Ot.forEach(Kn=>nc(Kn,on))});const se=[],Fe=new Set,it=new Set;for(let Ot=0;Ot<this.collectedLeaveElements.length;Ot++){const Qt=this.collectedLeaveElements[Ot],on=Qt[tc];on&&on.setForRemoval&&(se.push(Qt),Fe.add(Qt),on.hasAnimation?this.driver.query(Qt,".ng-star-inserted",!0).forEach(Kn=>Fe.add(Kn)):it.add(Qt))}const at=new Map,ct=A6(O,Array.from(Fe));ct.forEach((Ot,Qt)=>{const on=KT+X++;at.set(Qt,on),Ot.forEach(Kn=>nc(Kn,on))}),t.push(()=>{B.forEach((Ot,Qt)=>{const on=z.get(Qt);Ot.forEach(Kn=>Rv(Kn,on))}),ct.forEach((Ot,Qt)=>{const on=at.get(Qt);Ot.forEach(Kn=>Rv(Kn,on))}),se.forEach(Ot=>{this.processLeaveNode(Ot)})});const Pt=[],Vt=[];for(let Ot=this._namespaceList.length-1;Ot>=0;Ot--)this._namespaceList[Ot].drainQueuedTransitions(e).forEach(on=>{const Kn=on.player,As=on.element;if(Pt.push(Kn),this.collectedEnterElements.length){const oo=As[tc];if(oo&&oo.setForMove){if(oo.previousTriggersValues&&oo.previousTriggersValues.has(on.triggerName)){const qm=oo.previousTriggersValues.get(on.triggerName),ac=this.statesByElement.get(on.element);if(ac&&ac.has(on.triggerName)){const uM=ac.get(on.triggerName);uM.value=qm,ac.set(on.triggerName,uM)}}return void Kn.destroy()}}const rd=!I||!this.driver.containsElement(I,As),_l=at.get(As),ap=z.get(As),cr=this._buildInstruction(on,i,ap,_l,rd);if(cr.errors&&cr.errors.length)return void Vt.push(cr);if(rd)return Kn.onStart(()=>Mm(As,cr.fromStyles)),Kn.onDestroy(()=>Ku(As,cr.toStyles)),void r.push(Kn);if(on.isFallbackTransition)return Kn.onStart(()=>Mm(As,cr.fromStyles)),Kn.onDestroy(()=>Ku(As,cr.toStyles)),void r.push(Kn);const Xz=[];cr.timelines.forEach(oo=>{oo.stretchStartingKeyframe=!0,this.disabledNodes.has(oo.element)||Xz.push(oo)}),cr.timelines=Xz,i.append(As,cr.timelines),c.push({instruction:cr,player:Kn,element:As}),cr.queriedElements.forEach(oo=>dl(d,oo,[]).push(Kn)),cr.preStyleProps.forEach((oo,qm)=>{if(oo.size){let ac=p.get(qm);ac||p.set(qm,ac=new Set),oo.forEach((uM,PF)=>ac.add(PF))}}),cr.postStyleProps.forEach((oo,qm)=>{let ac=_.get(qm);ac||_.set(qm,ac=new Set),oo.forEach((uM,PF)=>ac.add(PF))})});if(Vt.length){const Ot=[];Vt.forEach(Qt=>{Ot.push(function JQ(n,t){return new s.vHH(3505,!1)}())}),Pt.forEach(Qt=>Qt.destroy()),this.reportError(Ot)}const On=new Map,Rr=new Map;c.forEach(Ot=>{const Qt=Ot.element;i.has(Qt)&&(Rr.set(Qt,Qt),this._beforeAnimationBuild(Ot.player.namespaceId,Ot.instruction,On))}),r.forEach(Ot=>{const Qt=Ot.element;this._getPreviousPlayers(Qt,!1,Ot.namespaceId,Ot.triggerName,null).forEach(Kn=>{dl(On,Qt,[]).push(Kn),Kn.destroy()})});const ml=se.filter(Ot=>w6(Ot,p,_)),dh=new Map;v6(dh,this.driver,it,_,ih).forEach(Ot=>{w6(Ot,p,_)&&ml.push(Ot)});const sE=new Map;B.forEach((Ot,Qt)=>{v6(sE,this.driver,new Set(Ot),p,"!")}),ml.forEach(Ot=>{const Qt=dh.get(Ot),on=sE.get(Ot);dh.set(Ot,new Map([...Array.from(Qt?.entries()??[]),...Array.from(on?.entries()??[])]))});const Gm=[],Qz=[],Jz={};c.forEach(Ot=>{const{element:Qt,player:on,instruction:Kn}=Ot;if(i.has(Qt)){if(b.has(Qt))return on.onDestroy(()=>Ku(Qt,Kn.toStyles)),on.disabled=!0,on.overrideTotalTime(Kn.totalTime),void r.push(on);let As=Jz;if(Rr.size>1){let _l=Qt;const ap=[];for(;_l=_l.parentNode;){const cr=Rr.get(_l);if(cr){As=cr;break}ap.push(_l)}ap.forEach(cr=>Rr.set(cr,As))}const rd=this._buildAnimation(on.namespaceId,Kn,On,o,sE,dh);if(on.setRealPlayer(rd),As===Jz)Gm.push(on);else{const _l=this.playersByElement.get(As);_l&&_l.length&&(on.parentPlayer=Yf(_l)),r.push(on)}}else Mm(Qt,Kn.fromStyles),on.onDestroy(()=>Ku(Qt,Kn.toStyles)),Qz.push(on),b.has(Qt)&&r.push(on)}),Qz.forEach(Ot=>{const Qt=o.get(Ot.element);if(Qt&&Qt.length){const on=Yf(Qt);Ot.setRealPlayer(on)}}),r.forEach(Ot=>{Ot.parentPlayer?Ot.syncPlayerEvents(Ot.parentPlayer):Ot.destroy()});for(let Ot=0;Ot<se.length;Ot++){const Qt=se[Ot],on=Qt[tc];if(Rv(Qt,KT),on&&on.hasAnimation)continue;let Kn=[];if(d.size){let rd=d.get(Qt);rd&&rd.length&&Kn.push(...rd);let _l=this.driver.query(Qt,BP,!0);for(let ap=0;ap<_l.length;ap++){let cr=d.get(_l[ap]);cr&&cr.length&&Kn.push(...cr)}}const As=Kn.filter(rd=>!rd.destroyed);As.length?tX(this,Qt,As):this.processLeaveNode(Qt)}return se.length=0,Gm.forEach(Ot=>{this.players.push(Ot),Ot.onDone(()=>{Ot.destroy();const Qt=this.players.indexOf(Ot);this.players.splice(Qt,1)}),Ot.play()}),Gm}elementContainsData(t,e){let i=!1;const r=e[tc];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let c=[];if(e){const d=this.playersByQueriedElement.get(t);d&&(c=d)}else{const d=this.playersByElement.get(t);if(d){const p=!o||o==wC;d.forEach(_=>{_.queued||!p&&_.triggerName!=r||c.push(_)})}}return(i||r)&&(c=c.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),c}_beforeAnimationBuild(t,e,i){const o=e.element,c=e.isRemovalTransition?void 0:t,d=e.isRemovalTransition?void 0:e.triggerName;for(const p of e.timelines){const _=p.element,b=_!==o,I=dl(i,_,[]);this._getPreviousPlayers(_,b,c,d,e.toState).forEach(B=>{const z=B.getRealPlayer();z.beforeDestroy&&z.beforeDestroy(),B.destroy(),I.push(B)})}Mm(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,c){const d=e.triggerName,p=e.element,_=[],b=new Set,I=new Set,O=e.timelines.map(z=>{const X=z.element;b.add(X);const se=X[tc];if(se&&se.removedBeforeQueried)return new uC(z.duration,z.delay);const Fe=X!==p,it=function nX(n){const t=[];return b6(n,t),t}((i.get(X)||YJ).map(On=>On.getRealPlayer())).filter(On=>!!On.element&&On.element===X),at=o.get(X),ct=c.get(X),Pt=WH(0,this._normalizer,0,z.keyframes,at,ct),Vt=this._buildPlayer(z,Pt,it);if(z.subTimeline&&r&&I.add(X),Fe){const On=new JP(t,d,X);On.setRealPlayer(Vt),_.push(On)}return Vt});_.forEach(z=>{dl(this.playersByQueriedElement,z.element,[]).push(z),z.onDone(()=>function JJ(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,z.element,z))}),b.forEach(z=>nc(z,n6));const B=Yf(O);return B.onDestroy(()=>{b.forEach(z=>Rv(z,n6)),Ku(p,e.toStyles)}),I.forEach(z=>{dl(r,z,[]).push(B)}),B}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new uC(t.duration,t.delay)}}class JP{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new uC,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>kP(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){dl(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function cx(n){return n&&1===n.nodeType}function y6(n,t){const e=n.style.display;return n.style.display=t??"none",e}function v6(n,t,e,i,r){const o=[];e.forEach(p=>o.push(y6(p)));const c=[];i.forEach((p,_)=>{const b=new Map;p.forEach(I=>{const O=t.computeStyle(_,I,r);b.set(I,O),(!O||0==O.length)&&(_[tc]=$J,c.push(_))}),n.set(_,b)});let d=0;return e.forEach(p=>y6(p,o[d++])),c}function A6(n,t){const e=new Map;if(n.forEach(d=>e.set(d,[])),0==t.length)return e;const r=new Set(t),o=new Map;function c(d){if(!d)return 1;let p=o.get(d);if(p)return p;const _=d.parentNode;return p=e.has(_)?_:r.has(_)?1:c(_),o.set(d,p),p}return t.forEach(d=>{const p=c(d);1!==p&&e.get(p).push(d)}),e}function nc(n,t){n.classList?.add(t)}function Rv(n,t){n.classList?.remove(t)}function tX(n,t,e){Yf(e).onDone(()=>n.processLeaveNode(t))}function b6(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof Y3?b6(i.players,t):t.push(i)}}function w6(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class ux{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new QJ(t,e,i),this._timelineEngine=new jJ(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const c=t+"-"+r;let d=this._triggerCache[c];if(!d){const p=[],b=zP(this._driver,o,p,[]);if(p.length)throw function HQ(n,t){return new s.vHH(3404,!1)}();d=function VJ(n,t,e){return new UJ(n,t,e)}(r,b,this._normalizer),this._triggerCache[c]=d}this._transitionEngine.registerTrigger(e,r,d)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,c]=YH(i);this._timelineEngine.command(o,e,c,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[c,d]=YH(i);return this._timelineEngine.listen(c,e,d,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let sX=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Ku(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ku(this._element,this._initialStyles),this._endStyles&&(Ku(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Mm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Mm(this._element,this._endStyles),this._endStyles=null),Ku(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function XP(n){let t=null;return n.forEach((e,i)=>{(function oX(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class C6{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:l6(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class aX{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return JH(t,e)}getParentElement(t){return NP(t)}query(t,e,i){return XH(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,c=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(p.easing=o);const _=new Map,b=c.filter(B=>B instanceof C6);(function dJ(n,t){return 0===n||0===t})(i,r)&&b.forEach(B=>{B.currentSnapshot.forEach((z,X)=>_.set(X,z))});let I=function aJ(n){return n.length?n[0]instanceof Map?n:n.map(t=>i6(t)):[]}(e).map(B=>$f(B));I=function hJ(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,c)=>{i.has(c)||r.push(c),i.set(c,o)}),r.length)for(let o=1;o<t.length;o++){let c=t[o];r.forEach(d=>c.set(d,l6(n,d)))}}return t}(t,I,_);const O=function rX(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=XP(t[0]),t.length>1&&(i=XP(t[t.length-1]))):t instanceof Map&&(e=XP(t)),e||i?new sX(n,e,i):null}(t,I);return new C6(t,I,p,O)}}let lX=(()=>{class n extends H3{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?j3(e):e;return E6(this._renderer,null,i,"register",[r]),new cX(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class cX extends class WZ{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new uX(this._id,t,e||{},this._renderer)}}class uX{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return E6(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function E6(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const D6="@.disabled";let dX=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,c)=>{const d=c?.parentNode(o);d&&c.removeChild(d,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let b=this._rendererCache.get(o);return b||(b=new I6("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,b)),b}const c=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,e);const p=b=>{Array.isArray(b)?b.forEach(p):this.engine.registerTrigger(c,d,e,b.name,b)};return i.data.animation.forEach(p),new hX(this,d,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[c,d]=o;c(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(ux),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class I6{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==D6?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class hX extends I6{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==D6?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function fX(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),c="";return"@"!=o.charAt(0)&&([o,c]=function pX(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,c,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(t,e,i)}}let gX=(()=>{class n extends ux{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ae),s.LFG(FP),s.LFG(WP),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const S6=[{provide:H3,useClass:lX},{provide:WP,useFactory:function mX(){return new NJ}},{provide:ux,useClass:gX},{provide:s.FYo,useFactory:function _X(n,t,e){return new dX(n,t,e)},deps:[Na,ux,s.R0b]}],eN=[{provide:FP,useFactory:()=>new aX},{provide:s.QbO,useValue:"BrowserAnimations"},...S6],T6=[{provide:FP,useClass:e6},{provide:s.QbO,useValue:"NoopAnimations"},...S6];let yX=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?T6:eN}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:eN,imports:[Va]}),n})(),RX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[JR]}),n})(),KX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[RX,_s,_s]}),n})();const JX=[gC,YR,TP,py,Dv,gP,KX];let XX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[qH,[...JX],Uh,HY,Mi,xd,Uh]}),n})();const H6="firebasestorage.googleapis.com",z6="storageBucket";class ar extends G.ZR{constructor(t,e,i=0){super(hN(t),`Firebase Storage: ${e} (${hN(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ar.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return hN(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function hN(n){return"storage/"+n}function fN(){return new ar("unknown","An unknown error occurred, please check the error payload for server response.")}function j6(){return new ar("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function G6(){return new ar("canceled","User canceled the upload/download.")}function q6(){return new ar("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Lv(n){return new ar("invalid-argument",n)}function Z6(){return new ar("app-deleted","The Firebase app was deleted.")}function W6(n){return new ar("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function IC(n,t){return new ar("invalid-format","String does not match format '"+n+"': "+t)}function SC(n){throw new ar("internal-error","Internal error: "+n)}class ro{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=ro.makeFromUrl(t,e)}catch{return new ro(t,"")}if(""===i.path)return i;throw function cee(n){return new ar("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+r+"(/(.*))?$","i");function _(ct){ct.path_=decodeURIComponent(ct.path)}const I=e.replace(/[.]/g,"\\."),at=[{regex:d,indices:{bucket:1,path:3},postModify:function o(ct){"/"===ct.path.charAt(ct.path.length-1)&&(ct.path_=ct.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${I}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:_},{regex:new RegExp(`^https?://${e===H6?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:_}];for(let ct=0;ct<at.length;ct++){const Pt=at[ct],Vt=Pt.regex.exec(t);if(Vt){let Rr=Vt[Pt.indices.path];Rr||(Rr=""),i=new ro(Vt[Pt.indices.bucket],Rr),Pt.postModify(i);break}}if(null==i)throw function lee(n){return new ar("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class pee{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function bx(n){return"string"==typeof n||n instanceof String}function Y6(n){return pN()&&n instanceof Blob}function pN(){return typeof Blob<"u"&&!(0,G.UG)()}function gN(n,t,e,i){if(i<t)throw Lv(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw Lv(`Invalid value for '${n}'. Expected ${e} or less.`)}function ah(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function $6(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var Kf=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Kf||(Kf={})),Kf))();function K6(n,t){const e=n>=500&&n<600,r=-1!==[408,429].indexOf(n),o=-1!==t.indexOf(n);return e||r||o}class Aee{constructor(t,e,i,r,o,c,d,p,_,b,I,O=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=b,this.connectionFactory_=I,this.retry=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((B,z)=>{this.resolve_=B,this.reject_=z,this.start_()})}start_(){const e=(i,r)=>{const o=this.resolve_,c=this.reject_,d=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());!function _ee(n){return void 0!==n}(p)?o():o(p)}catch(p){c(p)}else if(null!==d){const p=fN();p.serverResponse=d.getErrorText(),c(this.errorCallback_?this.errorCallback_(d,p):p)}else c(r.canceled?this.appDelete_?Z6():G6():j6())};this.canceled_?e(0,new wx(!1,null,!0)):this.backoffId_=function gee(n,t,e){let i=1,r=null,o=null,c=!1,d=0;function p(){return 2===d}let _=!1;function b(...se){_||(_=!0,t.apply(null,se))}function I(se){r=setTimeout(()=>{r=null,n(B,p())},se)}function O(){o&&clearTimeout(o)}function B(se,...Fe){if(_)return void O();if(se)return O(),void b.call(null,se,...Fe);if(p()||c)return O(),void b.call(null,se,...Fe);let at;i<64&&(i*=2),1===d?(d=2,at=0):at=1e3*(i+Math.random()),I(at)}let z=!1;function X(se){z||(z=!0,O(),!_&&(null!==r?(se||(d=2),clearTimeout(r),I(0)):se||(d=1)))}return I(0),o=setTimeout(()=>{c=!0,X(!0)},e),X}((i,r)=>{if(r)return void i(!1,new wx(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const c=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const d=o.getErrorCode()===Kf.NO_ERROR,p=o.getStatus();if((!d||K6(p,this.additionalRetryCodes_))&&this.retry){const b=o.getErrorCode()===Kf.ABORT;return void i(!1,new wx(!1,null,b))}const _=-1!==this.successCodes_.indexOf(p);i(!0,new wx(_,o))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function mee(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class wx{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function See(...n){const t=function Iee(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(pN())return new Blob(n);throw new ar("unsupported-environment","This browser doesn't seem to support creating Blobs")}const fl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class mN{constructor(t,e){this.data=t,this.contentType=e||null}}function _N(n,t){switch(n){case fl.RAW:return new mN(Q6(t));case fl.BASE64:case fl.BASE64URL:return new mN(J6(n,t));case fl.DATA_URL:return new mN(function kee(n){const t=new X6(n);return t.base64?J6(fl.BASE64,t.rest):function Mee(n){let t;try{t=decodeURIComponent(n)}catch{throw IC(fl.DATA_URL,"Malformed data URL.")}return Q6(t)}(t.rest)}(t),function Oee(n){return new X6(n).contentType}(t))}throw fN()}function Q6(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function J6(n,t){switch(n){case fl.BASE64:{const r=-1!==t.indexOf("-"),o=-1!==t.indexOf("_");if(r||o)throw IC(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case fl.BASE64URL:{const r=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(r||o)throw IC(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function xee(n){if(typeof atob>"u")throw function fee(n){return new ar("unsupported-environment",`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(t)}catch(r){throw r.message.includes("polyfill")?r:IC(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class X6{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw IC(fl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function Ree(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class Qu{constructor(t,e){let i=0,r="";Y6(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(Y6(this.data_)){const r=function Tee(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new Qu(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new Qu(i,!0)}}static getBlob(...t){if(pN()){const e=t.map(i=>i instanceof Qu?i.data_:i);return new Qu(See.apply(null,e))}{const e=t.map(c=>bx(c)?_N(fl.RAW,c).data:c.data_);let i=0;e.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let o=0;return e.forEach(c=>{for(let d=0;d<c.length;d++)r[o++]=c[d]}),new Qu(r,!0)}}uploadData(){return this.data_}}function yN(n){let t;try{t=JSON.parse(n)}catch{return null}return function vee(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function e5(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function Fee(n,t){return t}class Vo{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||Fee}}let Cx=null;function TC(){if(Cx)return Cx;const n=[];n.push(new Vo("bucket")),n.push(new Vo("generation")),n.push(new Vo("metageneration")),n.push(new Vo("name","fullPath",!0));const e=new Vo("name");e.xform=function t(o,c){return function Lee(n){return!bx(n)||n.length<2?n:e5(n)}(c)},n.push(e);const r=new Vo("size");return r.xform=function i(o,c){return void 0!==c?Number(c):c},n.push(r),n.push(new Vo("timeCreated")),n.push(new Vo("updated")),n.push(new Vo("md5Hash",null,!0)),n.push(new Vo("cacheControl",null,!0)),n.push(new Vo("contentDisposition",null,!0)),n.push(new Vo("contentEncoding",null,!0)),n.push(new Vo("contentLanguage",null,!0)),n.push(new Vo("contentType",null,!0)),n.push(new Vo("metadata","customMetadata",!0)),Cx=n,Cx}function t5(n,t,e){const i=yN(t);return null===i?null:function Vee(n,t,e){const i={type:"file"},r=e.length;for(let o=0;o<r;o++){const c=e[o];i[c.local]=c.xform(i,t[c.server])}return function Bee(n,t){Object.defineProperty(n,"ref",{get:function e(){const o=new ro(n.bucket,n.fullPath);return t._makeStorageReference(o)}})}(i,n),i}(n,i,e)}function vN(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const o=t[r];o.writable&&(e[o.server]=n[o.local])}return JSON.stringify(e)}const n5="prefixes";class Ju{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Xu(n){if(!n)throw fN()}function Ex(n,t){return function e(i,r){const o=t5(n,r,t);return Xu(null!==o),o}}function Bv(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function oee(){return new ar("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function see(){return new ar("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function ree(n){return new ar("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function aee(n){return new ar("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}}function xC(n){const t=Bv(n);return function e(i,r){let o=t(i,r);return 404===i.getStatus()&&(o=function iee(n){return new ar("object-not-found","Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=r.serverResponse,o}}function s5(n,t,e){const r=ah(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new Ju(r,"GET",Ex(n,e),c);return d.errorHandler=xC(t),d}function qee(n,t,e,i,r){const o={};o.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(o.delimiter=e),i&&(o.pageToken=i),r&&(o.maxResults=r);const d=ah(t.bucketOnlyServerUrl(),n.host,n._protocol),_=n.maxOperationRetryTime,b=new Ju(d,"GET",function jee(n,t){return function e(i,r){const o=function zee(n,t,e){const i=yN(e);return null===i?null:function Hee(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[n5])for(const r of e[n5]){const o=r.replace(/\/$/,""),c=n._makeStorageReference(new ro(t,o));i.prefixes.push(c)}if(e.items)for(const r of e.items){const o=n._makeStorageReference(new ro(t,r.name));i.items.push(o)}return i}(n,t,i)}(n,t,r);return Xu(null!==o),o}}(n,t.bucket),_);return b.urlParams=o,b.errorHandler=Bv(t),b}function a5(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function $ee(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class Dx{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function AN(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{Xu(!1)}return Xu(!!e&&-1!==(t||["active"]).indexOf(e)),e}const Xee={STATE_CHANGED:"state_changed"},Uo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function bN(n){switch(n){case"running":case"pausing":case"canceling":return Uo.RUNNING;case"paused":return Uo.PAUSED;case"success":return Uo.SUCCESS;case"canceled":return Uo.CANCELED;default:return Uo.ERROR}}class ete{constructor(t,e,i){if(function yee(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const o=t;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function Vv(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class nte extends class tte{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Kf.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Kf.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Kf.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw SC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw SC("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw SC("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw SC("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw SC("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function eu(){return new nte}class d5{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=TC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(K6(r.status,[])){if(!o)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=j6()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,o)=>{this._resolve=r,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function Kee(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),c=a5(t,i,r),d={name:c.fullPath},p=ah(o,n.host,n._protocol),b={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},I=vN(c,e),z=new Ju(p,"POST",function B(X){let se;AN(X);try{se=X.getResponseHeader("X-Goog-Upload-URL")}catch{Xu(!1)}return Xu(bx(se)),se},n.maxUploadRetryTime);return z.urlParams=d,z.headers=b,z.body=I,z.errorHandler=Bv(t),z}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,eu,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function Qee(n,t,e,i){const p=new Ju(e,"POST",function o(_){const b=AN(_,["active","final"]);let I=null;try{I=_.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Xu(!1)}I||Xu(!1);const O=Number(I);return Xu(!isNaN(O)),new Dx(O,i.size(),"final"===b)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=Bv(t),p}(this._ref.storage,this._ref._location,t,this._blob),o=this._ref.storage._makeRequest(r,eu,e,i);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new Dx(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,o)=>{let c;try{c=function Jee(n,t,e,i,r,o,c,d){const p=new Dx(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw function dee(){return new ar("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const _=p.total-p.current;let b=_;r>0&&(b=Math.min(b,r));const I=p.current;let B="";B=0===b?"finalize":_===b?"upload, finalize":"upload";const z={"X-Goog-Upload-Command":B,"X-Goog-Upload-Offset":`${p.current}`},X=i.slice(I,I+b);if(null===X)throw q6();const at=new Ju(e,"POST",function se(ct,Pt){const Vt=AN(ct,["active","final"]),On=p.current+b,Rr=i.size();let ml;return ml="final"===Vt?Ex(t,o)(ct,Pt):null,new Dx(On,Rr,"final"===Vt,ml)},t.maxUploadRetryTime);return at.headers=z,at.body=X.uploadData(),at.progressCallback=d||null,at.errorHandler=Bv(n),at}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const d=this._ref.storage._makeRequest(c,eu,r,o,!1);this._request=d,d.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=s5(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,eu,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function l5(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},p=function d(){let at="";for(let ct=0;ct<2;ct++)at+=Math.random().toString().slice(2);return at}();c["Content-Type"]="multipart/related; boundary="+p;const _=a5(t,i,r),b=vN(_,e),B=Qu.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+b+"\r\n--"+p+"\r\nContent-Type: "+_.contentType+"\r\n\r\n",i,"\r\n--"+p+"--");if(null===B)throw q6();const z={name:_.fullPath},X=ah(o,n.host,n._protocol),Fe=n.maxUploadRetryTime,it=new Ju(X,"POST",Ex(n,e),Fe);return it.urlParams=z,it.headers=c,it.body=B.uploadData(),it.errorHandler=Bv(t),it}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,eu,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=G6(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=bN(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const o=new ete(e||void 0,i||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(bN(this._state)){case Uo.SUCCESS:Vv(this._resolve.bind(null,this.snapshot))();break;case Uo.CANCELED:case Uo.ERROR:Vv(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(bN(this._state)){case Uo.RUNNING:case Uo.PAUSED:t.next&&Vv(t.next.bind(t,this.snapshot))();break;case Uo.SUCCESS:t.complete&&Vv(t.complete.bind(t))();break;default:t.error&&Vv(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class Om{constructor(t,e){this._service=t,this._location=e instanceof ro?e:ro.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Om(t,e)}get root(){const t=new ro(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return e5(this._location.path)}get storage(){return this._service}get parent(){const t=function Pee(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new ro(this._location.bucket,t);return new Om(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw W6(t)}}function f5(n,t,e){return wN.apply(this,arguments)}function wN(){return wN=(0,xe.Z)(function*(n,t,e){const r=yield p5(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield f5(n,t,r.nextPageToken))}),wN.apply(this,arguments)}function p5(n,t){null!=t&&"number"==typeof t.maxResults&&gN("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=qee(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,eu)}function pte(n){n._throwIfRoot("getDownloadURL");const t=function Zee(n,t,e){const r=ah(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new Ju(r,"GET",function Gee(n,t){return function e(i,r){const o=t5(n,r,t);return Xu(null!==o),function Uee(n,t,e,i){const r=yN(t);if(null===r||!bx(r.downloadTokens))return null;const o=r.downloadTokens;if(0===o.length)return null;const c=encodeURIComponent;return o.split(",").map(_=>{const I=n.fullPath;return ah("/b/"+c(n.bucket)+"/o/"+c(I),e,i)+$6({alt:"media",token:_})})[0]}(o,r,n.host,n._protocol)}}(n,e),c);return d.errorHandler=xC(t),d}(n.storage,n._location,TC());return n.storage.makeRequestWithTokens(t,eu).then(e=>{if(null===e)throw function hee(){return new ar("no-download-url","The given file does not have any download URLs.")}();return e})}function g5(n,t){const e=function Nee(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new ro(n._location.bucket,e);return new Om(n.storage,i)}function m5(n,t){if(n instanceof CN){const e=n;if(null==e._bucket)throw function uee(){return new ar("no-default-bucket","No default bucket found. Did you set the '"+z6+"' property when initializing the app?")}();const i=new Om(e,e._bucket);return null!=t?m5(i,t):i}return void 0!==t?g5(n,t):n}function yte(n,t){if(t&&function mte(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof CN)return function _te(n,t){return new Om(n,t)}(n,t);throw Lv("To use ref(service, url), the first argument must be a Storage instance.")}return m5(n,t)}function _5(n,t){const e=t?.[z6];return null==e?null:ro.makeFromBucketSpec(e,n)}class CN{constructor(t,e,i,r,o){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=H6,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ro.makeFromBucketSpec(r,this._host):_5(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?ro.makeFromBucketSpec(this._url,t):_5(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){gN("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){gN("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,xe.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,xe.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Om(this,t)}_makeRequest(t,e,i,r,o=!0){if(this._deleted)return new pee(Z6());{const c=function Dee(n,t,e,i,r,o,c=!0){const d=$6(n.urlParams),p=n.url+d,_=Object.assign({},n.headers);return function Cee(n,t){t&&(n["X-Firebase-GMPID"]=t)}(_,t),function bee(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(_,e),function wee(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(_,o),function Eee(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(_,i),new Aee(p,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,c)}(t,this._appId,i,r,e,this._firebaseVersion,o);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(t,e){var i=this;return(0,xe.Z)(function*(){const[r,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,o).getPromise()})()}}const y5="@firebase/storage";function b5(n,t){return yte(n=(0,G.m9)(n),t)}function Tte(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new CN(e,i,r,t,ks.SDK_VERSION)}!function xte(){(0,ks._registerComponent)(new Xa.wA("storage",Tte,"PUBLIC").setMultipleInstances(!0)),(0,ks.registerVersion)(y5,"0.9.14",""),(0,ks.registerVersion)(y5,"0.9.14","esm2017")}();class Ix{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class C5{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ix(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new Ix(i,this,this._ref))},e)}on(t,e,i,r){let o;return e&&(o="function"==typeof e?c=>e(new Ix(c,this,this._ref)):{next:e.next?c=>e.next(new Ix(c,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,i||void 0,r||void 0)}}class E5{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new lh(t,this._service))}get items(){return this._delegate.items.map(t=>new lh(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class lh{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function Ste(n,t){return g5(n,t)}(this._delegate,t);return new lh(e,this.storage)}get root(){return new lh(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new lh(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new C5(function Ate(n,t,e){return function cte(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new d5(n,new Qu(t),e)}(n=(0,G.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=fl.RAW,i){this._throwIfRoot("putString");const r=_N(e,t),o=Object.assign({},i);return null==o.contentType&&null!=r.contentType&&(o.contentType=r.contentType),new C5(new d5(this._delegate,new Qu(r.data,!0),o),this)}listAll(){return function Ete(n){return function dte(n){const t={prefixes:[],items:[]};return f5(n,t).then(()=>t)}(n=(0,G.m9)(n))}(this._delegate).then(t=>new E5(t,this.storage))}list(t){return function Cte(n,t){return p5(n=(0,G.m9)(n),t)}(this._delegate,t||void 0).then(e=>new E5(e,this.storage))}getMetadata(){return function bte(n){return function hte(n){n._throwIfRoot("getMetadata");const t=s5(n.storage,n._location,TC());return n.storage.makeRequestWithTokens(t,eu)}(n=(0,G.m9)(n))}(this._delegate)}updateMetadata(t){return function wte(n,t){return function fte(n,t){n._throwIfRoot("updateMetadata");const e=function Wee(n,t,e,i){const o=ah(t.fullServerUrl(),n.host,n._protocol),d=vN(e,i),_=n.maxOperationRetryTime,b=new Ju(o,"PATCH",Ex(n,i),_);return b.headers={"Content-Type":"application/json; charset=utf-8"},b.body=d,b.errorHandler=xC(t),b}(n.storage,n._location,t,TC());return n.storage.makeRequestWithTokens(e,eu)}(n=(0,G.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function Dte(n){return pte(n=(0,G.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Ite(n){return function gte(n){n._throwIfRoot("deleteObject");const t=function Yee(n,t){const i=ah(t.fullServerUrl(),n.host,n._protocol),d=new Ju(i,"DELETE",function c(p,_){},n.maxOperationRetryTime);return d.successCodes=[200,204],d.errorHandler=xC(t),d}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,eu)}(n=(0,G.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw W6(t)}}class D5{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(I5(t))throw Lv("ref() expected a child path but got a URL, use refFromURL instead.");return new lh(b5(this._delegate,t),this)}refFromURL(t){if(!I5(t))throw Lv("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ro.makeFromUrl(t,this._delegate.host)}catch{throw Lv("refFromUrl() expected a valid full URL but got an invalid one.")}return new lh(b5(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function w5(n,t,e,i={}){!function vte(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,G.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function I5(n){return/^[A-Za-z]+:\/\//.test(n)}function Rte(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new D5(e,i)}function S5(n){const t=function Nte(n){return new si.y(t=>{const e=c=>t.next(c);e(n.snapshot);const o=n.on("state_changed",e);return n.then(c=>{e(c),t.complete()},c=>{e(n.snapshot),(c=>{t.error(c)})(c)}),function(){o()}}).pipe(qR(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,ot.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function Sx(n){return{getDownloadURL:()=>dt(void 0).pipe(xn.fc,Ti(()=>n.getDownloadURL()),xn.iC),getMetadata:()=>dt(void 0).pipe(xn.fc,Ti(()=>n.getMetadata()),xn.iC),delete:()=>(0,Tn.D)(n.delete()),child:t=>Sx(n.child(t)),updateMetadata:t=>(0,Tn.D)(n.updateMetadata(t)),put:(t,e)=>S5(n.put(t,e)),putString:(t,e,i)=>S5(n.putString(t,e,i)),list:t=>(0,Tn.D)(n.list(t)),listAll:()=>(0,Tn.D)(n.listAll())}}!function Pte(n){const t={TaskState:Uo,TaskEvent:Xee,StringFormat:fl,Storage:D5,Reference:lh};n.INTERNAL.registerComponent(new Xa.wA("storage-compat",Rte,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.22")}(nw.Z);const Fte=new s.OlP("angularfire2.storageBucket"),Lte=new s.OlP("angularfire2.storage.maxUploadRetryTime"),Bte=new s.OlP("angularfire2.storage.maxOperationRetryTime"),Vte=new s.OlP("angularfire2.storage.use-emulator");let Ute=(()=>{class n{constructor(e,i,r,o,c,d,p,_,b,I){const O=(0,Er.on)(e,c,i);this.storage=(0,Er.cc)(`${O.name}.storage.${r}`,"AngularFireStorage",O.name,()=>{const B=c.runOutsideAngular(()=>O.storage(r||void 0)),z=b;return z&&B.useEmulator(...z),p&&B.setMaxUploadRetryTime(p),_&&B.setMaxOperationRetryTime(_),B},[p,_])}ref(e){return Sx(this.storage.ref(e))}refFromURL(e){return Sx(this.storage.refFromURL(e))}upload(e,i,r){return Sx(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Er.Dh),s.LFG(Er.xv,8),s.LFG(Fte,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(xn.HU),s.LFG(Lte,8),s.LFG(Bte,8),s.LFG(Vte,8),s.LFG(Hp,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Hte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),zte=(()=>{class n{constructor(){$_.Z.registerVersion("angularfire",xn.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Ute],imports:[Hte]}),n})();const T5="@firebase/database",x5="0.13.10";let EN="";function M5(n){EN=n}class qte{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,G.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,G.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Zte{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,G.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const k5=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new qte(t)}}catch{}return new Zte},Rm=k5("localStorage"),DN=k5("sessionStorage"),Uv=new el.Yd("@firebase/database"),O5=function(){let n=1;return function(){return n++}}(),R5=function(n){const t=(0,G.dS)(n),e=new G.gQ;e.update(t);const i=e.digest();return G.US.encodeByteArray(i)},MC=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=MC.apply(null,i):t+="object"==typeof i?(0,G.Wl)(i):i,t+=" "}return t};let Pm=null,P5=!0;const N5=function(n,t){(0,G.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Uv.logLevel=el.in.VERBOSE,Pm=Uv.log.bind(Uv),t&&DN.set("logging_enabled",!0)):"function"==typeof n?Pm=n:(Pm=null,DN.remove("logging_enabled"))},ys=function(...n){if(!0===P5&&(P5=!1,null===Pm&&!0===DN.get("logging_enabled")&&N5(!0)),Pm){const t=MC.apply(null,n);Pm(t)}},kC=function(n){return function(...t){ys(n,...t)}},IN=function(...n){const t="FIREBASE INTERNAL ERROR: "+MC(...n);Uv.error(t)},ed=function(...n){const t=`FIREBASE FATAL ERROR: ${MC(...n)}`;throw Uv.error(t),new Error(t)},so=function(...n){const t="FIREBASE WARNING: "+MC(...n);Uv.warn(t)},Tx=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},ch="[MIN_NAME]",td="[MAX_NAME]",Nm=function(n,t){if(n===t)return 0;if(n===ch||t===td)return-1;if(t===ch||n===td)return 1;{const e=xx(n),i=xx(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},$te=function(n,t){return n===t?0:n<t?-1:1},OC=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,G.Wl)(t))},SN=function(n){if("object"!=typeof n||null===n)return(0,G.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,G.Wl)(t[i]),e+=":",e+=SN(n[t[i]]);return e+="}",e},F5=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function vs(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const L5=function(n){(0,G.hu)(!Tx(n),"Invalid JSON number");const i=1023;let r,o,c,d,p;0===n?(o=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=d+i,c=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(o=0,c=Math.round(n/Math.pow(2,-1074))));const _=[];for(p=52;p;p-=1)_.push(c%2?1:0),c=Math.floor(c/2);for(p=11;p;p-=1)_.push(o%2?1:0),o=Math.floor(o/2);_.push(r?1:0),_.reverse();const b=_.join("");let I="";for(p=0;p<64;p+=8){let O=parseInt(b.substr(p,8),2).toString(16);1===O.length&&(O="0"+O),I+=O}return I.toLowerCase()},Xte=new RegExp("^-?(0*)\\d{1,10}$"),B5=-2147483648,TN=2147483647,xx=function(n){if(Xte.test(n)){const t=Number(n);if(t>=B5&&t<=TN)return t}return null},Hv=function(n){try{n()}catch(t){setTimeout(()=>{throw so("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},RC=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class tne{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){so(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class nne{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(ys("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',so(t)}}let PC=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const j5=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Z5="websocket",W5="long_polling";class MN{constructor(t,e,i,r,o=!1,c="",d=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Rm.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Rm.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Y5(n,t,e){let i;if((0,G.hu)("string"==typeof t,"typeof type must == string"),(0,G.hu)("object"==typeof e,"typeof params must == object"),t===Z5)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==W5)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function ine(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return vs(e,(o,c)=>{r.push(o+"="+c)}),i+r.join("&")}class rne{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,G.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,G.p$)(this.counters_)}}const kN={},ON={};function RN(n){const t=n.toString();return kN[t]||(kN[t]=new rne),kN[t]}class one{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Hv(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Qf{constructor(t,e,i,r,o,c,d){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=kC(t),this.stats_=RN(e),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),Y5(e,W5,p))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new one(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,G.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new PN((...o)=>{const[c,d,p,_,b]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=d,this.password=p;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[c,d]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&j5.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Qf.forceAllow_=!0}static forceDisallow(){Qf.forceDisallow_=!0}static isAvailable(){return!((0,G.Yr)()||!Qf.forceAllow_&&(Qf.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,G.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,G.h$)(e),r=F5(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,G.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,G.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class PN{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,G.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=O5(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=PN.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){ys("frame writing exception"),d.stack&&ys(d.stack),ys(d)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||ys("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,G.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{ys("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let kx=null;typeof MozWebSocket<"u"?kx=MozWebSocket:typeof WebSocket<"u"&&(kx=WebSocket);let zv=(()=>{class n{constructor(e,i,r,o,c,d,p){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=kC(this.connId),this.stats_=RN(i),this.connURL=n.connectionURL_(i,d,p,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,c){const d={v:"5"};return!(0,G.Yr)()&&typeof location<"u"&&location.hostname&&j5.test(location.hostname)&&(d.r="f"),i&&(d.s=i),r&&(d.ls=r),o&&(d.ac=o),c&&(d.p=c),Y5(e,Z5,d)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Rm.set("previous_websocket_failure",!0);try{let r;if((0,G.Yr)()){r={headers:{"User-Agent":`Firebase/5/${EN}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,d=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;d&&(r.proxy={origin:d})}this.mySock=new kx(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==kx&&!n.forceDisallow_}static previouslyFailed(){return Rm.isInMemoryStorage||!0===Rm.get("previous_websocket_failure")}markConnectionHealthy(){Rm.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,G.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,G.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,G.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=F5(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),t4=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Qf,zv]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=zv&&zv.isAvailable();let r=i&&!zv.previouslyFailed();if(e.webSocketOnly&&(i||so("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[zv];else{const o=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class c4{constructor(t,e,i,r,o,c,d,p,_,b){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=p,this.onKill_=_,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=kC("c:"+this.id+":"),this.transportManager_=new t4(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=RC(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=OC("t",t),i=OC("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=OC("t",t),i=OC("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=OC("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?IN("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):IN("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&so("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),RC(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):RC(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Rm.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class u4{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class d4{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,G.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(t){(0,G.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Ox extends d4{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,G.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ox}getInitialEvent(t){return(0,G.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class fi{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Jn(){return new fi("")}function Mn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Jf(n){return n.pieces_.length-n.pieceNum_}function Pi(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new fi(n.pieces_,t)}function FN(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function NC(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function p4(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new fi(t,0)}function Xi(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof fi)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new fi(e,0)}function kn(n){return n.pieceNum_>=n.pieces_.length}function Ho(n,t){const e=Mn(n),i=Mn(t);if(null===e)return t;if(e===i)return Ho(Pi(n),Pi(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Tne(n,t){const e=NC(n,0),i=NC(t,0);for(let r=0;r<e.length&&r<i.length;r++){const o=Nm(e[r],i[r]);if(0!==o)return o}return e.length===i.length?0:e.length<i.length?-1:1}function LN(n,t){if(Jf(n)!==Jf(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function ic(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Jf(n)>Jf(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class xne{constructor(t,e){this.errorPrefix_=e,this.parts_=NC(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,G.ug)(this.parts_[i]);g4(this)}}function g4(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Fm(n))}function Fm(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class BN extends d4{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new BN}getInitialEvent(t){return(0,G.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const FC=1e3;let Px,Lm=(()=>{class n extends u4{constructor(e,i,r,o,c,d,p,_){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=p,this.authOverride_=_,this.id=n.nextPersistentConnectionId_++,this.log_=kC("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=FC,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_&&!(0,G.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");BN.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Ox.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,c={r:o,a:e,b:i};this.log_((0,G.Wl)(c)),(0,G.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new G.BH,r={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:r,onComplete:d=>{const p=d.d;"ok"===d.s?i.resolve(p):i.reject(p)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,o){this.initConnection_();const c=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),(0,G.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,G.hu)(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const p={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(d).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const c={p:r};e.tag&&(c.q=i._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest("q",c,p=>{const _=p.d,b=p.s;n.warnOnListenWarnings_(_,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",p),"ok"!==b&&this.removeListen_(r,o),e.onComplete&&e.onComplete(b,_))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,G.r3)(e,"w")){const r=(0,G.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();so(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,G.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,G.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const c=o.s,d=o.d||"error";this.authToken_===e&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,G.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const c={p:e};o&&(c.q=r,c.t=o),this.sendRequest("n",c)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const c={p:i,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,d=>{o&&setTimeout(()=>{o(d.s,d.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,c){this.initConnection_();const d={p:i,d:r};void 0!==c&&(d.h=c),this.outstandingPuts_.push({action:e,request:d,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,G.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):IN("Unrecognized action received from server: "+(0,G.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,G.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=FC,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=FC,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=FC),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,xe.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),c=e.id+":"+n.nextConnectionId_++,d=e.lastSessionId;let p=!1,_=null;const b=function(){_?_.close():(p=!0,o())};e.realtime_={close:b,sendRequest:function(B){(0,G.hu)(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(B)}};const O=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[B,z]=yield Promise.all([e.authTokenProvider_.getToken(O),e.appCheckTokenProvider_.getToken(O)]);p?ys("getToken() completed but was canceled"):(ys("getToken() completed. Creating connection."),e.authToken_=B&&B.accessToken,e.appCheckToken_=z&&z.token,_=new c4(c,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,o,X=>{so(X+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},d))}catch(B){e.log_("Failed to get token: "+B),p||(e.repoInfo_.nodeAdmin&&so(B),b())}}})()}interrupt(e){ys("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ys("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,G.xb)(this.interruptReasons_)&&(this.reconnectDelay_=FC,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(c=>SN(c)).join("$"):"default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new fi(e).toString();let o;if(this.listens.has(r)){const c=this.listens.get(r);o=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){ys("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){ys("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,G.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+EN.replace(/\./g,"-")]=1,(0,G.uI)()?e["framework.cordova"]=1:(0,G.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ox.getInstance().currentlyOnline();return(0,G.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Pn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Pn(t,e)}}class Rx{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Pn(ch,t),r=new Pn(ch,e);return 0!==this.compare(i,r)}minPost(){return Pn.MIN}}class y4 extends Rx{static get __EMPTY_NODE(){return Px}static set __EMPTY_NODE(t){Px=t}compare(t,e){return Nm(t.name,e.name)}isDefinedOn(t){throw(0,G.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Pn.MIN}maxPost(){return new Pn(td,Px)}makePost(t,e){return(0,G.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Pn(t,Px)}toString(){return".key"}}const nd=new y4;class Nx{constructor(t,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(c=e?i(t.key,e):1,r&&(c*=-1),c<0)t=this.isReverse_?t.left:t.right;else{if(0===c){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let UN,tu=(()=>{class n{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??n.RED,this.left=o??Aa.EMPTY_NODE,this.right=c??Aa.EMPTY_NODE}copy(e,i,r,o,c){return new n(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):0===c?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Aa.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Aa.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Aa{constructor(t,e=Aa.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Aa(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,tu.BLACK,null,null))}remove(t){return new Aa(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,tu.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Nx(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Nx(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Nx(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Nx(this.root_,null,this.comparator_,!0,t)}}function Lne(n,t){return Nm(n.name,t.name)}function VN(n,t){return Nm(n,t)}Aa.EMPTY_NODE=new class Fne{copy(t,e,i,r,o){return this}insert(t,e,i){return new tu(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const v4=function(n){return"number"==typeof n?"number:"+L5(n):"string:"+n},A4=function(n){if(n.isLeafNode()){const t=n.val();(0,G.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,G.r3)(t,".sv"),"Priority must be a string or number.")}else(0,G.hu)(n===UN||n.isEmpty(),"priority of unexpected type.");(0,G.hu)(n===UN||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let b4,w4,C4,jv=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,G.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),A4(this.priorityNode_)}static set __childrenNodeConstructor(e){b4=e}static get __childrenNodeConstructor(){return b4}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return kn(e)?this:".priority"===Mn(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=Mn(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,G.hu)(".priority"!==r||1===Jf(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Pi(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+v4(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?L5(this.value_):this.value_,this.lazyHash_=R5(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,G.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,G.hu)(o>=0,"Unknown leaf type: "+i),(0,G.hu)(c>=0,"Unknown leaf type: "+r),o===c?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Fi=new class Hne extends Rx{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return 0===o?Nm(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Pn.MIN}maxPost(){return new Pn(td,new jv("[PRIORITY-POST]",C4))}makePost(t,e){const i=w4(t);return new Pn(e,new jv("[PRIORITY-POST]",i))}toString(){return".priority"}},zne=Math.log(2);class jne{constructor(t){this.count=parseInt(Math.log(t+1)/zne,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Fx=function(n,t,e,i){n.sort(t);const r=function(p,_){const b=_-p;let I,O;if(0===b)return null;if(1===b)return I=n[p],O=e?e(I):I,new tu(O,I.node,tu.BLACK,null,null);{const B=parseInt(b/2,10)+p,z=r(p,B),X=r(B+1,_);return I=n[B],O=e?e(I):I,new tu(O,I.node,tu.BLACK,z,X)}},d=function(p){let _=null,b=null,I=n.length;const O=function(z,X){const se=I-z,Fe=I;I-=z;const it=r(se+1,Fe),at=n[se],ct=e?e(at):at;B(new tu(ct,at.node,X,null,it))},B=function(z){_?(_.left=z,_=z):(b=z,_=z)};for(let z=0;z<p.count;++z){const X=p.nextBitIsOne(),se=Math.pow(2,p.count-(z+1));X?O(se,tu.BLACK):(O(se,tu.BLACK),O(se,tu.RED))}return b}(new jne(n.length));return new Aa(i||t,d)};let HN;const Gv={};class uh{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,G.hu)(Gv&&Fi,"ChildrenNode.ts has not been loaded"),HN=HN||new uh({".priority":Gv},{".priority":Fi}),HN}get(t){const e=(0,G.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Aa?e:null}hasIndex(t){return(0,G.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,G.hu)(t!==nd,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=e.getIterator(Pn.Wrap);let d,c=o.getNext();for(;c;)r=r||t.isDefinedOn(c.node),i.push(c),c=o.getNext();d=r?Fx(i,t.getCompare()):Gv;const p=t.toString(),_=Object.assign({},this.indexSet_);_[p]=t;const b=Object.assign({},this.indexes_);return b[p]=d,new uh(b,_)}addToIndexes(t,e){const i=(0,G.UI)(this.indexes_,(r,o)=>{const c=(0,G.DV)(this.indexSet_,o);if((0,G.hu)(c,"Missing index implementation for "+o),r===Gv){if(c.isDefinedOn(t.node)){const d=[],p=e.getIterator(Pn.Wrap);let _=p.getNext();for(;_;)_.name!==t.name&&d.push(_),_=p.getNext();return d.push(t),Fx(d,c.getCompare())}return Gv}{const d=e.get(t.name);let p=r;return d&&(p=p.remove(new Pn(t.name,d))),p.insert(t,t.node)}});return new uh(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,G.UI)(this.indexes_,r=>{if(r===Gv)return r;{const o=e.get(t.name);return o?r.remove(new Pn(t.name,o)):r}});return new uh(i,this.indexSet_)}}let LC,vn=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&A4(this.priorityNode_),this.children_.isEmpty()&&(0,G.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return LC||(LC=new n(new Aa(VN),null,uh.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||LC}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?LC:i}}getChild(e){const i=Mn(e);return null===i?this:this.getImmediateChild(i).getChild(Pi(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,G.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new Pn(e,i);let o,c;i.isEmpty()?(o=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),c=this.indexMap_.addToIndexes(r,this.children_));const d=o.isEmpty()?LC:this.priorityNode_;return new n(o,d,c)}}updateChild(e,i){const r=Mn(e);if(null===r)return i;{(0,G.hu)(".priority"!==Mn(e)||1===Jf(e),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Pi(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,c=!0;if(this.forEachChild(Fi,(d,p)=>{i[d]=p.val(e),r++,c&&n.INTEGER_REGEXP_.test(d)?o=Math.max(o,Number(d)):c=!1}),!e&&c&&o<2*r){const d=[];for(const p in i)d[p]=i[p];return d}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+v4(this.getPriority().val())+":"),this.forEachChild(Fi,(i,r)=>{const o=r.hash();""!==o&&(e+=":"+i+":"+o)}),this.lazyHash_=""===e?"":R5(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const c=o.getPredecessorKey(new Pn(e,i));return c?c.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Pn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Pn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,Pn.Wrap);let c=o.peek();for(;null!=c&&i.compare(c,e)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,Pn.Wrap);let c=o.peek();for(;null!=c&&i.compare(c,e)>0;)o.getNext(),c=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===BC?-1:0}withIndex(e){if(e===nd||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===nd||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Fi),o=i.getIterator(Fi);let c=r.getNext(),d=o.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=r.getNext(),d=o.getNext()}return null===c&&null===d}return!1}return!1}}resolveIndex_(e){return e===nd?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const BC=new class Gne extends vn{constructor(){super(new Aa(VN),vn.EMPTY_NODE,uh.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return vn.EMPTY_NODE}isEmpty(){return!1}};function lr(n,t=null){if(null===n)return vn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,G.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new jv(n,lr(t));if(n instanceof Array){let e=vn.EMPTY_NODE;return vs(n,(i,r)=>{if((0,G.r3)(n,i)&&"."!==i.substring(0,1)){const o=lr(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(lr(t))}{const e=[];let i=!1;if(vs(n,(c,d)=>{if("."!==c.substring(0,1)){const p=lr(d);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),e.push(new Pn(c,p)))}}),0===e.length)return vn.EMPTY_NODE;const o=Fx(e,Lne,c=>c.name,VN);if(i){const c=Fx(e,Fi.getCompare());return new vn(o,lr(t),new uh({".priority":c},{".priority":Fi}))}return new vn(o,lr(t),uh.Default)}}Object.defineProperties(Pn,{MIN:{value:new Pn(ch,vn.EMPTY_NODE)},MAX:{value:new Pn(td,BC)}}),y4.__EMPTY_NODE=vn.EMPTY_NODE,jv.__childrenNodeConstructor=vn,function Bne(n){UN=n}(BC),function Une(n){C4=n}(BC),function Vne(n){w4=n}(lr);class zN extends Rx{constructor(t){super(),this.indexPath_=t,(0,G.hu)(!kn(t)&&".priority"!==Mn(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),o=i.compareTo(r);return 0===o?Nm(t.name,e.name):o}makePost(t,e){const i=lr(t),r=vn.EMPTY_NODE.updateChild(this.indexPath_,i);return new Pn(e,r)}maxPost(){const t=vn.EMPTY_NODE.updateChild(this.indexPath_,BC);return new Pn(td,t)}toString(){return NC(this.indexPath_,0).join("/")}}const jN=new class Zne extends Rx{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Nm(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Pn.MIN}maxPost(){return Pn.MAX}makePost(t,e){const i=lr(t);return new Pn(e,i)}toString(){return".value"}},qv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Wne=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const o=new Array(8);for(r=7;r>=0;r--)o[r]=qv.charAt(e%64),e=Math.floor(e/64);(0,G.hu)(0===e,"Cannot push at time == 0");let c=o.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=qv.charAt(t[r]);return(0,G.hu)(20===c.length,"nextPushId: Length should be 20."),c}}(),I4=function(n){if(n===""+TN)return"-";const t=xx(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let c=0;c<e.length;c++)e[c]=n.charAt(c);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return td;const o=qv.charAt(qv.indexOf(e[i])+1);return e[i]=o,e.slice(0,i+1).join("")},S4=function(n){if(n===""+B5)return ch;const t=xx(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+TN:(delete e[e.length-1],e.join("")):(e[e.length-1]=qv.charAt(qv.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function T4(n){return{type:"value",snapshotNode:n}}function Zv(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function VC(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function UC(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class qN{constructor(t){this.index_=t}updateChild(t,e,i,r,o,c){(0,G.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=t.getImmediateChild(e);return d.getChild(r).equals(i.getChild(r))&&d.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?t.hasChild(e)?c.trackChildChange(VC(e,d)):(0,G.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(Zv(e,i)):c.trackChildChange(UC(e,i,d))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(Fi,(r,o)=>{e.hasChild(r)||i.trackChildChange(VC(r,o))}),e.isLeafNode()||e.forEachChild(Fi,(r,o)=>{if(t.hasChild(r)){const c=t.getImmediateChild(r);c.equals(o)||i.trackChildChange(UC(r,o,c))}else i.trackChildChange(Zv(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?vn.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class HC{constructor(t){this.indexedFilter_=new qN(t.getIndex()),this.index_=t.getIndex(),this.startPost_=HC.getStartPost_(t),this.endPost_=HC.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,r,o,c){return this.matches(new Pn(e,i))||(i=vn.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,o,c)}updateFullNode(t,e,i){e.isLeafNode()&&(e=vn.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(vn.EMPTY_NODE);const o=this;return e.forEachChild(Fi,(c,d)=>{o.matches(new Pn(c,d))||(r=r.updateImmediateChild(c,vn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class $ne{constructor(t){this.rangedFilter_=new HC(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,r,o,c){return this.rangedFilter_.matches(new Pn(e,i))||(i=vn.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,o,c):this.fullLimitUpdateChild_(t,e,i,o,c)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=vn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let o;r=vn.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;o.hasNext()&&c<this.limit_;){const d=o.getNext();let p;if(p=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),d)<=0:this.index_.compare(d,this.rangedFilter_.getEndPost())<=0,!p)break;r=r.updateImmediateChild(d.name,d.node),c++}}else{let o,c,d,p;if(r=e.withIndex(this.index_),r=r.updatePriority(vn.EMPTY_NODE),this.reverse_){p=r.getReverseIterator(this.index_),o=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const I=this.index_.getCompare();d=(O,B)=>I(B,O)}else p=r.getIterator(this.index_),o=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),d=this.index_.getCompare();let _=0,b=!1;for(;p.hasNext();){const I=p.getNext();!b&&d(o,I)<=0&&(b=!0),b&&_<this.limit_&&d(I,c)<=0?_++:r=r.updateImmediateChild(I.name,vn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,o){let c;if(this.reverse_){const I=this.index_.getCompare();c=(O,B)=>I(B,O)}else c=this.index_.getCompare();const d=t;(0,G.hu)(d.numChildren()===this.limit_,"");const p=new Pn(e,i),_=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),b=this.rangedFilter_.matches(p);if(d.hasChild(e)){const I=d.getImmediateChild(e);let O=r.getChildAfterChild(this.index_,_,this.reverse_);for(;null!=O&&(O.name===e||d.hasChild(O.name));)O=r.getChildAfterChild(this.index_,O,this.reverse_);const B=null==O?1:c(O,p);if(b&&!i.isEmpty()&&B>=0)return o?.trackChildChange(UC(e,i,I)),d.updateImmediateChild(e,i);{o?.trackChildChange(VC(e,I));const X=d.updateImmediateChild(e,vn.EMPTY_NODE);return null!=O&&this.rangedFilter_.matches(O)?(o?.trackChildChange(Zv(O.name,O.node)),X.updateImmediateChild(O.name,O.node)):X}}return i.isEmpty()?t:b&&c(_,p)>=0?(null!=o&&(o.trackChildChange(VC(_.name,_.node)),o.trackChildChange(Zv(e,i))),d.updateImmediateChild(e,i).updateImmediateChild(_.name,vn.EMPTY_NODE)):t}}class Lx{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Fi}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,G.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,G.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ch}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,G.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,G.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:td}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,G.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Fi}copy(){const t=new Lx;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function ZN(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function WN(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function Bx(n,t){const e=n.copy();return e.index_=t,e}function x4(n){const t={};if(n.isDefault())return t;let e;return n.index_===Fi?e="$priority":n.index_===jN?e="$value":n.index_===nd?e="$key":((0,G.hu)(n.index_ instanceof zN,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,G.Wl)(e),n.startSet_&&(t.startAt=(0,G.Wl)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,G.Wl)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,G.Wl)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,G.Wl)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function M4(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Fi&&(t.i=n.index_.toString()),t}class Vx extends u4{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=kC("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,G.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const c=Vx.getListenId_(t,i),d={};this.listens_[c]=d;const p=x4(t._queryParams);this.restRequest_(o+".json",p,(_,b)=>{let I=b;if(404===_&&(I=null,_=null),null===_&&this.onDataUpdate_(o,I,!1,i),(0,G.DV)(this.listens_,c)===d){let O;O=_?401===_?"permission_denied":"rest_error:"+_:"ok",r(O,null)}})}unlisten(t,e){const i=Vx.getListenId_(t,e);delete this.listens_[i]}get(t){const e=x4(t._queryParams),i=t._path.toString(),r=new G.BH;return this.restRequest_(i+".json",e,(o,c)=>{let d=c;404===o&&(d=null,o=null),null===o?(this.onDataUpdate_(i,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,G.xO)(e);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let p=null;if(d.status>=200&&d.status<300){try{p=(0,G.cI)(d.responseText)}catch{so("Failed to parse JSON response for "+c+": "+d.responseText)}i(null,p)}else 401!==d.status&&404!==d.status&&so("Got unsuccessful REST response for "+c+" Status: "+d.status),i(d.status);i=null}},d.open("GET",c,!0),d.send()})}}class tie{constructor(){this.rootNode_=vn.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Ux(){return{value:null,children:new Map}}function Wv(n,t,e){if(kn(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=Mn(t);n.children.has(i)||n.children.set(i,Ux()),Wv(n.children.get(i),t=Pi(t),e)}}function YN(n,t){if(kn(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Fi,(i,r)=>{Wv(n,new fi(i),r)}),YN(n,t)}}if(n.children.size>0){const e=Mn(t);return t=Pi(t),n.children.has(e)&&YN(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function $N(n,t,e){null!==n.value?e(t,n.value):function nie(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{$N(r,new fi(t.toString()+"/"+i),e)})}class iie{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&vs(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class oie{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new iie(t);const i=1e4+2e4*Math.random();RC(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;vs(t,(r,o)=>{o>0&&(0,G.r3)(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),RC(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var rc=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(rc||(rc={})),rc))();function JN(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Hx{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=rc.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(kn(this.path)){if(null!=this.affectedTree.value)return(0,G.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new fi(t));return new Hx(Jn(),e,this.revert)}}return(0,G.hu)(Mn(this.path)===t,"operationForChild called for unrelated child."),new Hx(Pi(this.path),this.affectedTree,this.revert)}}class zC{constructor(t,e){this.source=t,this.path=e,this.type=rc.LISTEN_COMPLETE}operationForChild(t){return kn(this.path)?new zC(this.source,Jn()):new zC(this.source,Pi(this.path))}}class Bm{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=rc.OVERWRITE}operationForChild(t){return kn(this.path)?new Bm(this.source,Jn(),this.snap.getImmediateChild(t)):new Bm(this.source,Pi(this.path),this.snap)}}class Yv{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=rc.MERGE}operationForChild(t){if(kn(this.path)){const e=this.children.subtree(new fi(t));return e.isEmpty()?null:e.value?new Bm(this.source,Jn(),e.value):new Yv(this.source,Jn(),e)}return(0,G.hu)(Mn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Yv(this.source,Pi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Xf{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(kn(t))return this.isFullyInitialized()&&!this.filtered_;const e=Mn(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class aie{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function jC(n,t,e,i,r,o){const c=i.filter(d=>d.type===e);c.sort((d,p)=>function uie(n,t,e){if(null==t.childName||null==e.childName)throw(0,G.g5)("Should only compare child_ events.");const i=new Pn(t.childName,t.snapshotNode),r=new Pn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,d,p)),c.forEach(d=>{const p=function cie(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,d,o);r.forEach(_=>{_.respondsTo(d.type)&&t.push(_.createEvent(p,n.query_))})})}function zx(n,t){return{eventCache:n,serverCache:t}}function GC(n,t,e,i){return zx(new Xf(t,e,i),n.serverCache)}function O4(n,t,e,i){return zx(n.eventCache,new Xf(t,e,i))}function jx(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Vm(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let XN;class Li{constructor(t,e=(()=>(XN||(XN=new Aa($te)),XN))()){this.value=t,this.children=e}static fromObject(t){let e=new Li(null);return vs(t,(i,r)=>{e=e.set(new fi(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Jn(),value:this.value};if(kn(t))return null;{const i=Mn(t),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(Pi(t),e);return null!=o?{path:Xi(new fi(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(kn(t))return this;{const e=Mn(t),i=this.children.get(e);return null!==i?i.subtree(Pi(t)):new Li(null)}}set(t,e){if(kn(t))return new Li(e,this.children);{const i=Mn(t),o=(this.children.get(i)||new Li(null)).set(Pi(t),e),c=this.children.insert(i,o);return new Li(this.value,c)}}remove(t){if(kn(t))return this.children.isEmpty()?new Li(null):new Li(null,this.children);{const e=Mn(t),i=this.children.get(e);if(i){const r=i.remove(Pi(t));let o;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?new Li(null):new Li(this.value,o)}return this}}get(t){if(kn(t))return this.value;{const e=Mn(t),i=this.children.get(e);return i?i.get(Pi(t)):null}}setTree(t,e){if(kn(t))return e;{const i=Mn(t),o=(this.children.get(i)||new Li(null)).setTree(Pi(t),e);let c;return c=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new Li(this.value,c)}}fold(t){return this.fold_(Jn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Xi(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Jn(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(kn(t))return null;{const o=Mn(t),c=this.children.get(o);return c?c.findOnPath_(Pi(t),Xi(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Jn(),e)}foreachOnPath_(t,e,i){if(kn(t))return this;{this.value&&i(e,this.value);const r=Mn(t),o=this.children.get(r);return o?o.foreachOnPath_(Pi(t),Xi(e,r),i):new Li(null)}}foreach(t){this.foreach_(Jn(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Xi(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class nu{constructor(t){this.writeTree_=t}static empty(){return new nu(new Li(null))}}function qC(n,t,e){if(kn(t))return new nu(new Li(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const c=Ho(r,t);return o=o.updateChild(c,e),new nu(n.writeTree_.set(r,o))}{const r=new Li(e),o=n.writeTree_.setTree(t,r);return new nu(o)}}}function eF(n,t,e){let i=n;return vs(e,(r,o)=>{i=qC(i,Xi(t,r),o)}),i}function R4(n,t){if(kn(t))return nu.empty();{const e=n.writeTree_.setTree(t,new Li(null));return new nu(e)}}function tF(n,t){return null!=Um(n,t)}function Um(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Ho(e.path,t)):null}function P4(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Fi,(i,r)=>{t.push(new Pn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new Pn(i,r.value))}),t}function ep(n,t){if(kn(t))return n;{const e=Um(n,t);return new nu(null!=e?new Li(e):n.writeTree_.subtree(t))}}function nF(n){return n.writeTree_.isEmpty()}function $v(n,t){return N4(Jn(),n.writeTree_,t)}function N4(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{".priority"===r?((0,G.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):e=N4(Xi(n,r),o,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Xi(n,".priority"),i)),e}}function Gx(n,t){return U4(t,n)}function mie(n,t){if(n.snap)return ic(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&ic(Xi(n.path,e),t))return!0;return!1}function yie(n){return n.visible}function F4(n,t,e){let i=nu.empty();for(let r=0;r<n.length;++r){const o=n[r];if(t(o)){const c=o.path;let d;if(o.snap)ic(e,c)?(d=Ho(e,c),i=qC(i,d,o.snap)):ic(c,e)&&(d=Ho(c,e),i=qC(i,Jn(),o.snap.getChild(d)));else{if(!o.children)throw(0,G.g5)("WriteRecord should have .snap or .children");if(ic(e,c))d=Ho(e,c),i=eF(i,d,o.children);else if(ic(c,e))if(d=Ho(c,e),kn(d))i=eF(i,Jn(),o.children);else{const p=(0,G.DV)(o.children,Mn(d));if(p){const _=p.getChild(Pi(d));i=qC(i,Jn(),_)}}}}}return i}function L4(n,t,e,i,r){if(i||r){const o=ep(n.visibleWrites,t);return!r&&nF(o)?e:r||null!=e||tF(o,Jn())?$v(F4(n.allWrites,function(_){return(_.visible||r)&&(!i||!~i.indexOf(_.writeId))&&(ic(_.path,t)||ic(t,_.path))},t),e||vn.EMPTY_NODE):null}{const o=Um(n.visibleWrites,t);if(null!=o)return o;{const c=ep(n.visibleWrites,t);return nF(c)?e:null!=e||tF(c,Jn())?$v(c,e||vn.EMPTY_NODE):null}}}function qx(n,t,e,i){return L4(n.writeTree,n.treePath,t,e,i)}function iF(n,t){return function vie(n,t,e){let i=vn.EMPTY_NODE;const r=Um(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Fi,(o,c)=>{i=i.updateImmediateChild(o,c)}),i;if(e){const o=ep(n.visibleWrites,t);return e.forEachChild(Fi,(c,d)=>{const p=$v(ep(o,new fi(c)),d);i=i.updateImmediateChild(c,p)}),P4(o).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return P4(ep(n.visibleWrites,t)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,t)}function B4(n,t,e,i){return function Aie(n,t,e,i,r){(0,G.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Xi(t,e);if(tF(n.visibleWrites,o))return null;{const c=ep(n.visibleWrites,o);return nF(c)?r.getChild(e):$v(c,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function Zx(n,t){return function wie(n,t){return Um(n.visibleWrites,t)}(n.writeTree,Xi(n.treePath,t))}function rF(n,t,e){return function bie(n,t,e,i){const r=Xi(t,e),o=Um(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(e)?$v(ep(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function V4(n,t){return U4(Xi(n.treePath,t),n.writeTree)}function U4(n,t){return{treePath:n,writeTree:t}}class Iie{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,G.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,G.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(i,UC(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(i,VC(i,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(i,Zv(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,G.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,UC(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const H4=new class Sie{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class sF{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Xf(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return rF(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Vm(this.viewCache_),o=function Die(n,t,e,i,r,o){return function Cie(n,t,e,i,r,o,c){let d;const p=ep(n.visibleWrites,t),_=Um(p,Jn());if(null!=_)d=_;else{if(null==e)return[];d=$v(p,e)}if(d=d.withIndex(c),d.isEmpty()||d.isLeafNode())return[];{const b=[],I=c.getCompare(),O=o?d.getReverseIteratorFrom(i,c):d.getIteratorFrom(i,c);let B=O.getNext();for(;B&&b.length<r;)0!==I(B,i)&&b.push(B),B=O.getNext();return b}}(n.writeTree,n.treePath,t,e,i,r,o)}(this.writes_,r,e,1,i,t);return 0===o.length?null:o[0]}}function z4(n,t,e,i,r,o){const c=t.eventCache;if(null!=Zx(i,e))return t;{let d,p;if(kn(e))if((0,G.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const _=Vm(t),I=iF(i,_ instanceof vn?_:vn.EMPTY_NODE);d=n.filter.updateFullNode(t.eventCache.getNode(),I,o)}else{const _=qx(i,Vm(t));d=n.filter.updateFullNode(t.eventCache.getNode(),_,o)}else{const _=Mn(e);if(".priority"===_){(0,G.hu)(1===Jf(e),"Can't have a priority with additional path components");const b=c.getNode();p=t.serverCache.getNode();const I=B4(i,e,b,p);d=null!=I?n.filter.updatePriority(b,I):c.getNode()}else{const b=Pi(e);let I;if(c.isCompleteForChild(_)){p=t.serverCache.getNode();const O=B4(i,e,c.getNode(),p);I=null!=O?c.getNode().getImmediateChild(_).updateChild(b,O):c.getNode().getImmediateChild(_)}else I=rF(i,_,t.serverCache);d=null!=I?n.filter.updateChild(c.getNode(),_,I,b,r,o):c.getNode()}}return GC(t,d,c.isFullyInitialized()||kn(e),n.filter.filtersNodes())}}function Wx(n,t,e,i,r,o,c,d){const p=t.serverCache;let _;const b=c?n.filter:n.filter.getIndexedFilter();if(kn(e))_=b.updateFullNode(p.getNode(),i,null);else if(b.filtersNodes()&&!p.isFiltered()){const B=p.getNode().updateChild(e,i);_=b.updateFullNode(p.getNode(),B,null)}else{const B=Mn(e);if(!p.isCompleteForPath(e)&&Jf(e)>1)return t;const z=Pi(e),se=p.getNode().getImmediateChild(B).updateChild(z,i);_=".priority"===B?b.updatePriority(p.getNode(),se):b.updateChild(p.getNode(),B,se,z,H4,null)}const I=O4(t,_,p.isFullyInitialized()||kn(e),b.filtersNodes());return z4(n,I,e,r,new sF(r,I,o),d)}function oF(n,t,e,i,r,o,c){const d=t.eventCache;let p,_;const b=new sF(r,t,o);if(kn(e))_=n.filter.updateFullNode(t.eventCache.getNode(),i,c),p=GC(t,_,!0,n.filter.filtersNodes());else{const I=Mn(e);if(".priority"===I)_=n.filter.updatePriority(t.eventCache.getNode(),i),p=GC(t,_,d.isFullyInitialized(),d.isFiltered());else{const O=Pi(e),B=d.getNode().getImmediateChild(I);let z;if(kn(O))z=i;else{const X=b.getCompleteChild(I);z=null!=X?".priority"===FN(O)&&X.getChild(p4(O)).isEmpty()?X:X.updateChild(O,i):vn.EMPTY_NODE}p=B.equals(z)?t:GC(t,n.filter.updateChild(d.getNode(),I,z,O,b,c),d.isFullyInitialized(),n.filter.filtersNodes())}}return p}function j4(n,t){return n.eventCache.isCompleteForChild(t)}function G4(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function aF(n,t,e,i,r,o,c,d){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let _,p=t;_=kn(e)?i:new Li(null).setTree(e,i);const b=t.serverCache.getNode();return _.children.inorderTraversal((I,O)=>{if(b.hasChild(I)){const z=G4(0,t.serverCache.getNode().getImmediateChild(I),O);p=Wx(n,p,new fi(I),z,r,o,c,d)}}),_.children.inorderTraversal((I,O)=>{const B=!t.serverCache.isCompleteForChild(I)&&null===O.value;if(!b.hasChild(I)&&!B){const X=G4(0,t.serverCache.getNode().getImmediateChild(I),O);p=Wx(n,p,new fi(I),X,r,o,c,d)}}),p}class Fie{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new qN(i.getIndex()),o=function Kne(n){return n.loadsAllData()?new qN(n.getIndex()):n.hasLimit()?new $ne(n):new HC(n)}(i);this.processor_=function Tie(n){return{filter:n}}(o);const c=e.serverCache,d=e.eventCache,p=r.updateFullNode(vn.EMPTY_NODE,c.getNode(),null),_=o.updateFullNode(vn.EMPTY_NODE,d.getNode(),null),b=new Xf(p,c.isFullyInitialized(),r.filtersNodes()),I=new Xf(_,d.isFullyInitialized(),o.filtersNodes());this.viewCache_=zx(I,b),this.eventGenerator_=new aie(this.query_)}get query(){return this.query_}}function Vie(n,t){const e=Vm(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!kn(t)&&!e.getImmediateChild(Mn(t)).isEmpty())?e.getChild(t):null}function q4(n){return 0===n.eventRegistrations_.length}function Z4(n,t,e){const i=[];if(e){(0,G.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const c=o.createCancelEvent(e,r);c&&i.push(c)})}if(t){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const c=n.eventRegistrations_[o];if(c.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function W4(n,t,e,i){t.type===rc.MERGE&&null!==t.source.queryId&&((0,G.hu)(Vm(n.viewCache_),"We should always have a full cache before handling merges"),(0,G.hu)(jx(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function Mie(n,t,e,i,r){const o=new Iie;let c,d;if(e.type===rc.OVERWRITE){const _=e;_.source.fromUser?c=oF(n,t,_.path,_.snap,i,r,o):((0,G.hu)(_.source.fromServer,"Unknown source."),d=_.source.tagged||t.serverCache.isFiltered()&&!kn(_.path),c=Wx(n,t,_.path,_.snap,i,r,d,o))}else if(e.type===rc.MERGE){const _=e;_.source.fromUser?c=function Oie(n,t,e,i,r,o,c){let d=t;return i.foreach((p,_)=>{const b=Xi(e,p);j4(t,Mn(b))&&(d=oF(n,d,b,_,r,o,c))}),i.foreach((p,_)=>{const b=Xi(e,p);j4(t,Mn(b))||(d=oF(n,d,b,_,r,o,c))}),d}(n,t,_.path,_.children,i,r,o):((0,G.hu)(_.source.fromServer,"Unknown source."),d=_.source.tagged||t.serverCache.isFiltered(),c=aF(n,t,_.path,_.children,i,r,d,o))}else if(e.type===rc.ACK_USER_WRITE){const _=e;c=_.revert?function Nie(n,t,e,i,r,o){let c;if(null!=Zx(i,e))return t;{const d=new sF(i,t,r),p=t.eventCache.getNode();let _;if(kn(e)||".priority"===Mn(e)){let b;if(t.serverCache.isFullyInitialized())b=qx(i,Vm(t));else{const I=t.serverCache.getNode();(0,G.hu)(I instanceof vn,"serverChildren would be complete if leaf node"),b=iF(i,I)}_=n.filter.updateFullNode(p,b,o)}else{const b=Mn(e);let I=rF(i,b,t.serverCache);null==I&&t.serverCache.isCompleteForChild(b)&&(I=p.getImmediateChild(b)),_=null!=I?n.filter.updateChild(p,b,I,Pi(e),d,o):t.eventCache.getNode().hasChild(b)?n.filter.updateChild(p,b,vn.EMPTY_NODE,Pi(e),d,o):p,_.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=qx(i,Vm(t)),c.isLeafNode()&&(_=n.filter.updateFullNode(_,c,o)))}return c=t.serverCache.isFullyInitialized()||null!=Zx(i,Jn()),GC(t,_,c,n.filter.filtersNodes())}}(n,t,_.path,i,r,o):function Rie(n,t,e,i,r,o,c){if(null!=Zx(r,e))return t;const d=t.serverCache.isFiltered(),p=t.serverCache;if(null!=i.value){if(kn(e)&&p.isFullyInitialized()||p.isCompleteForPath(e))return Wx(n,t,e,p.getNode().getChild(e),r,o,d,c);if(kn(e)){let _=new Li(null);return p.getNode().forEachChild(nd,(b,I)=>{_=_.set(new fi(b),I)}),aF(n,t,e,_,r,o,d,c)}return t}{let _=new Li(null);return i.foreach((b,I)=>{const O=Xi(e,b);p.isCompleteForPath(O)&&(_=_.set(b,p.getNode().getChild(O)))}),aF(n,t,e,_,r,o,d,c)}}(n,t,_.path,_.affectedTree,i,r,o)}else{if(e.type!==rc.LISTEN_COMPLETE)throw(0,G.g5)("Unknown operation type: "+e.type);c=function Pie(n,t,e,i,r){const o=t.serverCache;return z4(n,O4(t,o.getNode(),o.isFullyInitialized()||kn(e),o.isFiltered()),e,i,H4,r)}(n,t,e.path,i,o)}const p=o.getChanges();return function kie(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=jx(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(T4(jx(t)))}}(t,c,p),{viewCache:c,changes:p}}(n.processor_,r,t,e,i);return function xie(n,t){(0,G.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,G.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,G.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,Y4(n,o.changes,o.viewCache.eventCache.getNode(),null)}function Y4(n,t,e,i){return function lie(n,t,e,i){const r=[],o=[];return t.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&o.push(function Yne(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(c.childName,c.snapshotNode))}),jC(n,r,"child_removed",t,i,e),jC(n,r,"child_added",t,i,e),jC(n,r,"child_moved",o,i,e),jC(n,r,"child_changed",t,i,e),jC(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let Yx,Kx;class $4{constructor(){this.views=new Map}}function lF(n,t,e,i){const r=t.source.queryId;if(null!==r){const o=n.views.get(r);return(0,G.hu)(null!=o,"SyncTree gave us an op for an invalid query."),W4(o,t,e,i)}{let o=[];for(const c of n.views.values())o=o.concat(W4(c,t,e,i));return o}}function K4(n,t,e,i,r){const c=n.views.get(t._queryIdentifier);if(!c){let d=qx(e,r?i:null),p=!1;d?p=!0:i instanceof vn?(d=iF(e,i),p=!1):(d=vn.EMPTY_NODE,p=!1);const _=zx(new Xf(d,p,!1),new Xf(i,r,!1));return new Fie(t,_)}return c}function Q4(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function tp(n,t){let e=null;for(const i of n.views.values())e=e||Vie(i,t);return e}function J4(n,t){return t._queryParams.loadsAllData()?$x(n):n.views.get(t._queryIdentifier)}function X4(n,t){return null!=J4(n,t)}function np(n){return null!=$x(n)}function $x(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let $ie=1;class ez{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Li(null),this.pendingWriteTree_=function Eie(){return{visibleWrites:nu.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function cF(n,t,e,i,r){return function hie(n,t,e,i,r){(0,G.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=qC(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?Kv(n,new Bm({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function ip(n,t,e=!1){const i=function pie(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function gie(n,t){const e=n.allWrites.findIndex(d=>d.writeId===t);(0,G.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,o=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const d=n.allWrites[c];d.visible&&(c>=e&&mie(d,i.path)?r=!1:ic(i.path,d.path)&&(o=!0)),c--}return!!r&&(o?(function _ie(n){n.visibleWrites=F4(n.allWrites,yie,Jn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=R4(n.visibleWrites,i.path):vs(i.children,p=>{n.visibleWrites=R4(n.visibleWrites,Xi(i.path,p))}),!0))}(n.pendingWriteTree_,t)){let o=new Li(null);return null!=i.snap?o=o.set(Jn(),!0):vs(i.children,c=>{o=o.set(new fi(c),!0)}),Kv(n,new Hx(i.path,o,e))}return[]}function ZC(n,t,e){return Kv(n,new Bm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Qx(n,t,e,i,r=!1){const o=t._path,c=n.syncPointTree_.get(o);let d=[];if(c&&("default"===t._queryIdentifier||X4(c,t))){const p=function Zie(n,t,e,i){const r=t._queryIdentifier,o=[];let c=[];const d=np(n);if("default"===r)for(const[p,_]of n.views.entries())c=c.concat(Z4(_,e,i)),q4(_)&&(n.views.delete(p),_.query._queryParams.loadsAllData()||o.push(_.query));else{const p=n.views.get(r);p&&(c=c.concat(Z4(p,e,i)),q4(p)&&(n.views.delete(r),p.query._queryParams.loadsAllData()||o.push(p.query)))}return d&&!np(n)&&o.push(new(function jie(){return(0,G.hu)(Yx,"Reference.ts has not been loaded"),Yx}())(t._repo,t._path)),{removed:o,events:c}}(c,t,e,i);(function Gie(n){return 0===n.views.size})(c)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const _=p.removed;if(d=p.events,!r){const b=-1!==_.findIndex(O=>O._queryParams.loadsAllData()),I=n.syncPointTree_.findOnPath(o,(O,B)=>np(B));if(b&&!I){const O=n.syncPointTree_.subtree(o);if(!O.isEmpty()){const B=function nre(n){return n.fold((t,e,i)=>{if(e&&np(e))return[$x(e)];{let r=[];return e&&(r=Q4(e)),vs(i,(o,c)=>{r=r.concat(c)}),r}})}(O);for(let z=0;z<B.length;++z){const X=B[z],se=X.query,Fe=rz(n,X);n.listenProvider_.startListening(YC(se),WC(n,se),Fe.hashFn,Fe.onComplete)}}}!I&&_.length>0&&!i&&(b?n.listenProvider_.stopListening(YC(t),null):_.forEach(O=>{const B=n.queryToTagMap.get(Xx(O));n.listenProvider_.stopListening(YC(O),B)}))}!function ire(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=Xx(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}(n,_)}return d}function tz(n,t,e,i){const r=dF(n,i);if(null!=r){const o=hF(r),c=o.path,d=o.queryId,p=Ho(c,t);return fF(n,c,new Bm(JN(d),p,e))}return[]}function uF(n,t,e,i=!1){const r=t._path;let o=null,c=!1;n.syncPointTree_.foreachOnPath(r,(O,B)=>{const z=Ho(O,r);o=o||tp(B,z),c=c||np(B)});let p,d=n.syncPointTree_.get(r);d?(c=c||np(d),o=o||tp(d,Jn())):(d=new $4,n.syncPointTree_=n.syncPointTree_.set(r,d)),null!=o?p=!0:(p=!1,o=vn.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((B,z)=>{const X=tp(z,Jn());X&&(o=o.updateImmediateChild(B,X))}));const _=X4(d,t);if(!_&&!t._queryParams.loadsAllData()){const O=Xx(t);(0,G.hu)(!n.queryToTagMap.has(O),"View does not exist, but we have a tag");const B=function rre(){return $ie++}();n.queryToTagMap.set(O,B),n.tagToQueryMap.set(B,O)}let I=function qie(n,t,e,i,r,o){const c=K4(n,t,i,r,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,c),function Uie(n,t){n.eventRegistrations_.push(t)}(c,e),function Hie(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Fi,(o,c)=>{i.push(Zv(o,c))}),e.isFullyInitialized()&&i.push(T4(e.getNode())),Y4(n,i,e.getNode(),t)}(c,e)}(d,t,e,Gx(n.pendingWriteTree_,r),o,p);if(!_&&!c&&!i){const O=J4(d,t);I=I.concat(function sre(n,t,e){const i=t._path,r=WC(n,t),o=rz(n,e),c=n.listenProvider_.startListening(YC(t),r,o.hashFn,o.onComplete),d=n.syncPointTree_.subtree(i);if(r)(0,G.hu)(!np(d.value),"If we're adding a query, it shouldn't be shadowed");else{const p=d.fold((_,b,I)=>{if(!kn(_)&&b&&np(b))return[$x(b).query];{let O=[];return b&&(O=O.concat(Q4(b).map(B=>B.query))),vs(I,(B,z)=>{O=O.concat(z)}),O}});for(let _=0;_<p.length;++_){const b=p[_];n.listenProvider_.stopListening(YC(b),WC(n,b))}}return c}(n,t,O))}return I}function Jx(n,t,e){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(c,d)=>{const _=tp(d,Ho(c,t));if(_)return _});return L4(r,t,o,e,!0)}function Kv(n,t){return nz(t,n.syncPointTree_,null,Gx(n.pendingWriteTree_,Jn()))}function nz(n,t,e,i){if(kn(n.path))return iz(n,t,e,i);{const r=t.get(Jn());null==e&&null!=r&&(e=tp(r,Jn()));let o=[];const c=Mn(n.path),d=n.operationForChild(c),p=t.children.get(c);if(p&&d){const _=e?e.getImmediateChild(c):null,b=V4(i,c);o=o.concat(nz(d,p,_,b))}return r&&(o=o.concat(lF(r,n,i,e))),o}}function iz(n,t,e,i){const r=t.get(Jn());null==e&&null!=r&&(e=tp(r,Jn()));let o=[];return t.children.inorderTraversal((c,d)=>{const p=e?e.getImmediateChild(c):null,_=V4(i,c),b=n.operationForChild(c);b&&(o=o.concat(iz(b,d,p,_)))}),r&&(o=o.concat(lF(r,n,i,e))),o}function rz(n,t){const e=t.query,i=WC(n,e);return{hashFn:()=>(function Lie(n){return n.viewCache_.serverCache.getNode()}(t)||vn.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function Xie(n,t,e){const i=dF(n,e);if(i){const r=hF(i),o=r.path,c=r.queryId,d=Ho(o,t);return fF(n,o,new zC(JN(c),d))}return[]}(n,e._path,i):function Jie(n,t){return Kv(n,new zC({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const o=function Jte(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return Qx(n,e,null,o)}}}}function WC(n,t){const e=Xx(t);return n.queryToTagMap.get(e)}function Xx(n){return n._path.toString()+"$"+n._queryIdentifier}function dF(n,t){return n.tagToQueryMap.get(t)}function hF(n){const t=n.indexOf("$");return(0,G.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new fi(n.substr(0,t))}}function fF(n,t,e){const i=n.syncPointTree_.get(t);return(0,G.hu)(i,"Missing sync point for query tag that we're tracking"),lF(i,e,Gx(n.pendingWriteTree_,t),null)}function YC(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Yie(){return(0,G.hu)(Kx,"Reference.ts has not been loaded"),Kx}())(n._repo,n._path):n}class pF{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new pF(e)}node(){return this.node_}}class gF{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Xi(this.path_,t);return new gF(this.syncTree_,e)}node(){return Jx(this.syncTree_,this.path_)}}const sz=function(n,t,e){return n&&"object"==typeof n?((0,G.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?are(n[".sv"],t,e):"object"==typeof n[".sv"]?lre(n[".sv"],t):void(0,G.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},are=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,G.hu)(!1,"Unexpected server value: "+n)},lre=function(n,t,e){n.hasOwnProperty("increment")||(0,G.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,G.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,G.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},oz=function(n,t,e,i){return _F(t,new gF(e,n),i)},mF=function(n,t,e){return _F(n,new pF(t),e)};function _F(n,t,e){const i=n.getPriority().val(),r=sz(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const c=n,d=sz(c.getValue(),t,e);return d!==c.getValue()||r!==c.getPriority().val()?new jv(d,lr(r)):n}{const c=n;return o=c,r!==c.getPriority().val()&&(o=o.updatePriority(new jv(r))),c.forEachChild(Fi,(d,p)=>{const _=_F(p,t.getImmediateChild(d),e);_!==p&&(o=o.updateImmediateChild(d,_))}),o}}class yF{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function eM(n,t){let e=t instanceof fi?t:new fi(t),i=n,r=Mn(e);for(;null!==r;){const o=(0,G.DV)(i.node.children,r)||{children:{},childCount:0};i=new yF(r,i,o),e=Pi(e),r=Mn(e)}return i}function Hm(n){return n.node.value}function vF(n,t){n.node.value=t,AF(n)}function az(n){return n.node.childCount>0}function tM(n,t){vs(n.node.children,(e,i)=>{t(new yF(e,n,i))})}function lz(n,t,e,i){e&&!i&&t(n),tM(n,r=>{lz(r,t,!0,i)}),e&&i&&t(n)}function $C(n){return new fi(null===n.parent?n.name:$C(n.parent)+"/"+n.name)}function AF(n){null!==n.parent&&function dre(n,t,e){const i=function cre(n){return void 0===Hm(n)&&!az(n)}(e),r=(0,G.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,AF(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,AF(n))}(n.parent,n.name,n)}const hre=/[\[\].#$\/\u0000-\u001F\u007F]/,fre=/[\[\].#$\u0000-\u001F\u007F]/,bF=10485760,nM=function(n){return"string"==typeof n&&0!==n.length&&!hre.test(n)},cz=function(n){return"string"==typeof n&&0!==n.length&&!fre.test(n)},KC=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Tx(n)||n&&"object"==typeof n&&(0,G.r3)(n,".sv")},id=function(n,t,e,i){i&&void 0===t||QC((0,G.gK)(n,"value"),t,e)},QC=function(n,t,e){const i=e instanceof fi?new xne(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Fm(i));if("function"==typeof t)throw new Error(n+"contains a function "+Fm(i)+" with contents = "+t.toString());if(Tx(t))throw new Error(n+"contains "+t.toString()+" "+Fm(i));if("string"==typeof t&&t.length>bF/3&&(0,G.ug)(t)>bF)throw new Error(n+"contains a string greater than "+bF+" utf8 bytes "+Fm(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(vs(t,(c,d)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(o=!0,!nM(c)))throw new Error(n+" contains an invalid key ("+c+") "+Fm(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Mne(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,G.ug)(t),g4(n)})(i,c),QC(n,d,i),function kne(n){const t=n.parts_.pop();n.byteLength_-=(0,G.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+Fm(i)+" in addition to actual children.")}},uz=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,G.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];vs(t,(c,d)=>{const p=new fi(c);if(QC(r,d,Xi(e,p)),".priority"===FN(p)&&!KC(d))throw new Error(r+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(p)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const o=NC(i);for(let c=0;c<o.length;c++)if((".priority"!==o[c]||c!==o.length-1)&&!nM(o[c]))throw new Error(n+"contains an invalid key ("+o[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Tne);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&ic(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},wF=function(n,t,e){if(!e||void 0!==t){if(Tx(t))throw new Error((0,G.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!KC(t))throw new Error((0,G.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},JC=function(n,t,e,i){if(!(i&&void 0===e||nM(e)))throw new Error((0,G.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},XC=function(n,t,e,i){if(!(i&&void 0===e||cz(e)))throw new Error((0,G.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},sc=function(n,t){if(".info"===Mn(t))throw new Error(n+" failed = Can't modify data under /.info/")},dz=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!nM(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),cz(n)}(e))throw new Error((0,G.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class _re{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function iM(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null!==e&&!LN(o,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(r)}e&&n.eventLists_.push(e)}function hz(n,t,e){iM(n,e),fz(n,i=>LN(i,t))}function pl(n,t,e){iM(n,e),fz(n,i=>ic(i,t)||ic(t,i))}function fz(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(yre(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function yre(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Pm&&ys("event: "+e.toString()),Hv(i)}}}const pz="repo_interrupt";class Are{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new _re,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ux(),this.transactionQueueTree_=new yF,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function gz(n){const e=n.infoData_.getNode(new fi(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function eE(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:gz(n)})}function mz(n,t,e,i,r){n.dataUpdateCount++;const o=new fi(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let c=[];if(r)if(i){const p=(0,G.UI)(e,_=>lr(_));c=function ere(n,t,e,i){const r=dF(n,i);if(r){const o=hF(r),c=o.path,d=o.queryId,p=Ho(c,t),_=Li.fromObject(e);return fF(n,c,new Yv(JN(d),p,_))}return[]}(n.serverSyncTree_,o,p,r)}else{const p=lr(e);c=tz(n.serverSyncTree_,o,p,r)}else if(i){const p=(0,G.UI)(e,_=>lr(_));c=function Qie(n,t,e){const i=Li.fromObject(e);return Kv(n,new Yv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,o,p)}else{const p=lr(e);c=ZC(n.serverSyncTree_,o,p)}let d=o;c.length>0&&(d=Jv(n,o)),pl(n.eventQueue_,d,c)}function _z(n,t){CF(n,"connected",t),!1===t&&function Dre(n){Qv(n,"onDisconnectEvents");const t=eE(n),e=Ux();$N(n.onDisconnect_,Jn(),(r,o)=>{const c=oz(r,o,n.serverSyncTree_,t);Wv(e,r,c)});let i=[];$N(e,Jn(),(r,o)=>{i=i.concat(ZC(n.serverSyncTree_,r,o));const c=SF(n,r);Jv(n,c)}),n.onDisconnect_=Ux(),pl(n.eventQueue_,Jn(),i)}(n)}function CF(n,t,e){const i=new fi("/.info/"+t),r=lr(e);n.infoData_.updateSnapshot(i,r);const o=ZC(n.infoSyncTree_,i,r);pl(n.eventQueue_,i,o)}function rM(n){return n.nextWriteId_++}function EF(n,t,e,i,r){Qv(n,"set",{path:t.toString(),value:e,priority:i});const o=eE(n),c=lr(e,i),d=Jx(n.serverSyncTree_,t),p=mF(c,d,o),_=rM(n),b=cF(n.serverSyncTree_,t,p,_,!0);iM(n.eventQueue_,b),n.server_.put(t.toString(),c.val(!0),(O,B)=>{const z="ok"===O;z||so("set at "+t+" failed: "+O);const X=ip(n.serverSyncTree_,_,!z);pl(n.eventQueue_,t,X),rp(0,r,O,B)});const I=SF(n,t);Jv(n,I),pl(n.eventQueue_,I,[])}function Ire(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&YN(n.onDisconnect_,t),rp(0,e,i,r)})}function yz(n,t,e,i){const r=lr(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(o,c)=>{"ok"===o&&Wv(n.onDisconnect_,t,r),rp(0,i,o,c)})}function DF(n,t,e){let i;i=".info"===Mn(t._path)?Qx(n.infoSyncTree_,t,e):Qx(n.serverSyncTree_,t,e),hz(n.eventQueue_,t._path,i)}function vz(n){n.persistentConnection_&&n.persistentConnection_.interrupt(pz)}function Qv(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),ys(e,...t)}function rp(n,t,e,i){t&&Hv(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let o=r;i&&(o+=": "+i);const c=new Error(o);c.code=r,t(c)}})}function IF(n,t,e){return Jx(n.serverSyncTree_,t,e)||vn.EMPTY_NODE}function sM(n,t=n.transactionQueueTree_){if(t||oM(n,t),Hm(t)){const e=bz(n,t);(0,G.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function Ore(n,t,e){const i=e.map(_=>_.currentWriteId),r=IF(n,t,i);let o=r;const c=r.hash();for(let _=0;_<e.length;_++){const b=e[_];(0,G.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const I=Ho(t,b.path);o=o.updateChild(I,b.currentOutputSnapshotRaw)}const d=o.val(!0),p=t;n.server_.put(p.toString(),d,_=>{Qv(n,"transaction put response",{path:p.toString(),status:_});let b=[];if("ok"===_){const I=[];for(let O=0;O<e.length;O++)e[O].status=2,b=b.concat(ip(n.serverSyncTree_,e[O].currentWriteId)),e[O].onComplete&&I.push(()=>e[O].onComplete(null,!0,e[O].currentOutputSnapshotResolved)),e[O].unwatcher();oM(n,eM(n.transactionQueueTree_,t)),sM(n,n.transactionQueueTree_),pl(n.eventQueue_,t,b);for(let O=0;O<I.length;O++)Hv(I[O])}else{if("datastale"===_)for(let I=0;I<e.length;I++)e[I].status=3===e[I].status?4:0;else{so("transaction at "+p.toString()+" failed: "+_);for(let I=0;I<e.length;I++)e[I].status=4,e[I].abortReason=_}Jv(n,t)}},c)}(n,$C(t),e)}else az(t)&&tM(t,e=>{sM(n,e)})}function Jv(n,t){const e=Az(n,t),i=$C(e);return function Rre(n,t,e){if(0===t.length)return;const i=[];let r=[];const c=t.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<t.length;d++){const p=t[d],_=Ho(e,p.path);let I,b=!1;if((0,G.hu)(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)b=!0,I=p.abortReason,r=r.concat(ip(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)b=!0,I="maxretry",r=r.concat(ip(n.serverSyncTree_,p.currentWriteId,!0));else{const O=IF(n,p.path,c);p.currentInputSnapshot=O;const B=t[d].update(O.val());if(void 0!==B){QC("transaction failed: Data returned ",B,p.path);let z=lr(B);"object"==typeof B&&null!=B&&(0,G.r3)(B,".priority")||(z=z.updatePriority(O.getPriority()));const se=p.currentWriteId,Fe=eE(n),it=mF(z,O,Fe);p.currentOutputSnapshotRaw=z,p.currentOutputSnapshotResolved=it,p.currentWriteId=rM(n),c.splice(c.indexOf(se),1),r=r.concat(cF(n.serverSyncTree_,p.path,it,p.currentWriteId,p.applyLocally)),r=r.concat(ip(n.serverSyncTree_,se,!0))}else b=!0,I="nodata",r=r.concat(ip(n.serverSyncTree_,p.currentWriteId,!0))}pl(n.eventQueue_,e,r),r=[],b&&(t[d].status=2,setTimeout(t[d].unwatcher,Math.floor(0)),t[d].onComplete&&i.push("nodata"===I?()=>t[d].onComplete(null,!1,t[d].currentInputSnapshot):()=>t[d].onComplete(new Error(I),!1,null)))}oM(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)Hv(i[d]);sM(n,n.transactionQueueTree_)}(n,bz(n,e),i),i}function Az(n,t){let e,i=n.transactionQueueTree_;for(e=Mn(t);null!==e&&void 0===Hm(i);)i=eM(i,e),e=Mn(t=Pi(t));return i}function bz(n,t){const e=[];return wz(n,t,e),e.sort((i,r)=>i.order-r.order),e}function wz(n,t,e){const i=Hm(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);tM(t,r=>{wz(n,r,e)})}function oM(n,t){const e=Hm(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,vF(t,e.length>0?e:void 0)}tM(t,i=>{oM(n,i)})}function SF(n,t){const e=$C(Az(n,t)),i=eM(n.transactionQueueTree_,t);return function ure(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{TF(n,r)}),TF(n,i),lz(i,r=>{TF(n,r)}),e}function TF(n,t){const e=Hm(t);if(e){const i=[];let r=[],o=-1;for(let c=0;c<e.length;c++)3===e[c].status||(1===e[c].status?((0,G.hu)(o===c-1,"All SENT items should be at beginning of queue."),o=c,e[c].status=3,e[c].abortReason="set"):((0,G.hu)(0===e[c].status,"Unexpected transaction status in abort"),e[c].unwatcher(),r=r.concat(ip(n.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&i.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));-1===o?vF(t,void 0):e.length=o+1,pl(n.eventQueue_,$C(t),r);for(let c=0;c<i.length;c++)Hv(i[c])}}const xF=function(n,t){const e=Fre(n),i=e.namespace;return"firebase.com"===e.domain&&ed(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&ed("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&so("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new MN(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new fi(e.pathString)}},Fre=function(n){let t="",e="",i="",r="",o="",c=!0,d="https",p=443;if("string"==typeof n){let _=n.indexOf("//");_>=0&&(d=n.substring(0,_-1),n=n.substring(_+2));let b=n.indexOf("/");-1===b&&(b=n.length);let I=n.indexOf("?");-1===I&&(I=n.length),t=n.substring(0,Math.min(b,I)),b<I&&(r=function Pre(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(b,I)));const O=function Nre(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):so(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,I)));_=t.indexOf(":"),_>=0?(c="https"===d||"wss"===d,p=parseInt(t.substring(_+1),10)):_=t.length;const B=t.slice(0,_);if("localhost"===B.toLowerCase())e="localhost";else if(B.split(".").length<=2)e=B;else{const z=t.indexOf(".");i=t.substring(0,z).toLowerCase(),e=t.substring(z+1),o=i}"ns"in O&&(o=O.ns)}return{host:t,port:p,domain:e,subdomain:i,secure:c,scheme:d,pathString:r,namespace:o}};class Cz{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,G.Wl)(this.snapshot.exportVal())}}class Ez{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class MF{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,G.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Dz{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new G.BH;return Ire(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){sc("OnDisconnect.remove",this._path);const t=new G.BH;return yz(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){sc("OnDisconnect.set",this._path),id("OnDisconnect.set",t,this._path,!1);const e=new G.BH;return yz(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){sc("OnDisconnect.setWithPriority",this._path),id("OnDisconnect.setWithPriority",t,this._path,!1),wF("OnDisconnect.setWithPriority",e,!1);const i=new G.BH;return function Sre(n,t,e,i,r){const o=lr(e,i);n.server_.onDisconnectPut(t.toString(),o.val(!0),(c,d)=>{"ok"===c&&Wv(n.onDisconnect_,t,o),rp(0,r,c,d)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){sc("OnDisconnect.update",this._path),uz("OnDisconnect.update",t,this._path,!1);const e=new G.BH;return function Tre(n,t,e,i){if((0,G.xb)(e))return ys("onDisconnect().update() called with empty data.  Don't do anything."),void rp(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,o)=>{"ok"===r&&vs(e,(c,d)=>{const p=lr(d);Wv(n.onDisconnect_,Xi(t,c),p)}),rp(0,i,r,o)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class ba{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return kn(this._path)?null:FN(this._path)}get ref(){return new oc(this._repo,this._path)}get _queryIdentifier(){const t=M4(this._queryParams),e=SN(t);return"{}"===e?"default":e}get _queryObject(){return M4(this._queryParams)}isEqual(t){if(!((t=(0,G.m9)(t))instanceof ba))return!1;const e=this._repo===t._repo,i=LN(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Sne(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function aM(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function sp(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===nd){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==ch)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==td)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===Fi){if(null!=t&&!KC(t)||null!=e&&!KC(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,G.hu)(n.getIndex()instanceof zN||n.getIndex()===jN,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function lM(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class oc extends ba{constructor(t,e){super(t,e,new Lx,!1)}get parent(){const t=p4(this._path);return null===t?null:new oc(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class zm{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new fi(t),i=jm(this.ref,t);return new zm(this._node.getChild(e),i,Fi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new zm(r,jm(this.ref,i),Fi)))}hasChild(t){const e=new fi(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Iz(n,t){return(n=(0,G.m9)(n))._checkNotDeleted("ref"),void 0!==t?jm(n._root,t):n._root}function Sz(n,t){(n=(0,G.m9)(n))._checkNotDeleted("refFromURL");const e=xF(t,n._repo.repoInfo_.nodeAdmin);dz("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&ed("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),Iz(n,e.path.toString())}function jm(n,t){return null===Mn((n=(0,G.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),XC("child","path",e,!1)):XC("child","path",t,!1),new oc(n._repo,Xi(n._path,t));var e}function kF(n,t){n=(0,G.m9)(n),sc("set",n._path),id("set",t,n._path,!1);const e=new G.BH;return EF(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function Hre(n,t){uz("update",t,n._path,!1);const e=new G.BH;return function Ere(n,t,e,i){Qv(n,"update",{path:t.toString(),value:e});let r=!0;const o=eE(n),c={};if(vs(e,(d,p)=>{r=!1,c[d]=oz(Xi(t,d),lr(p),n.serverSyncTree_,o)}),r)ys("update() called with empty data.  Don't do anything."),rp(0,i,"ok",void 0);else{const d=rM(n),p=function Kie(n,t,e,i){!function fie(n,t,e,i){(0,G.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=eF(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=Li.fromObject(e);return Kv(n,new Yv({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,c,d);iM(n.eventQueue_,p),n.server_.merge(t.toString(),e,(_,b)=>{const I="ok"===_;I||so("update at "+t+" failed: "+_);const O=ip(n.serverSyncTree_,d,!I),B=O.length>0?Jv(n,t):t;pl(n.eventQueue_,B,O),rp(0,i,_,b)}),vs(e,_=>{const b=SF(n,Xi(t,_));Jv(n,b)}),pl(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function zre(n){n=(0,G.m9)(n);const t=new MF(()=>{}),e=new tE(t);return function Cre(n,t,e){const i=function tre(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(_,b)=>{const I=Ho(_,e);i=i||tp(b,I)});let r=n.syncPointTree_.get(e);r?i=i||tp(r,Jn()):(r=new $4,n.syncPointTree_=n.syncPointTree_.set(e,r));const o=null!=i,c=o?new Xf(i,!0,!1):null;return function Bie(n){return jx(n.viewCache_)}(K4(r,t,Gx(n.pendingWriteTree_,t._path),o?c.getNode():vn.EMPTY_NODE,o))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const o=lr(r).withIndex(t._queryParams.getIndex());let c;if(uF(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())c=ZC(n.serverSyncTree_,t._path,o);else{const d=WC(n.serverSyncTree_,t);c=tz(n.serverSyncTree_,t._path,o,d)}return pl(n.eventQueue_,t._path,c),Qx(n.serverSyncTree_,t,e,null,!0),o},r=>(Qv(n,"get for query "+(0,G.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new zm(i,new oc(n._repo,n._path),n._queryParams.getIndex()))}class tE{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new Cz("value",this,new zm(t.snapshotNode,new oc(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Ez(this,t,e):null}matches(t){return t instanceof tE&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class cM{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Ez(this,t,e):null}createEvent(t,e){(0,G.hu)(null!=t.childName,"Child events should have a childName.");const i=jm(new oc(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new Cz(t.type,this,new zm(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof cM&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function nE(n,t,e,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const p=e,_=(b,I)=>{DF(n._repo,n,d),p(b,I)};_.userCallback=e.userCallback,_.context=e.context,e=_}const c=new MF(e,o||void 0),d="value"===t?new tE(c):new cM(t,c);return function xre(n,t,e){let i;i=".info"===Mn(t._path)?uF(n.infoSyncTree_,t,e):uF(n.serverSyncTree_,t,e),hz(n.eventQueue_,t._path,i)}(n._repo,n,d),()=>DF(n._repo,n,d)}function OF(n,t,e,i){return nE(n,"value",t,e,i)}function Tz(n,t,e,i){return nE(n,"child_added",t,e,i)}function xz(n,t,e,i){return nE(n,"child_changed",t,e,i)}function Mz(n,t,e,i){return nE(n,"child_moved",t,e,i)}function kz(n,t,e,i){return nE(n,"child_removed",t,e,i)}function Oz(n,t,e){let i=null;const r=e?new MF(e):null;"value"===t?i=new tE(r):t&&(i=new cM(t,r)),DF(n._repo,n,i)}class iu{}class Rz extends iu{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){id("endAt",this._value,t._path,!0);const e=WN(t._queryParams,this._value,this._key);if(lM(e),sp(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ba(t._repo,t._path,e,t._orderByCalled)}}class Gre extends iu{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){id("endBefore",this._value,t._path,!1);const e=function eie(n,t,e){let i,r;return n.index_===nd?("string"==typeof t&&(t=S4(t)),r=WN(n,t,e)):(i=null==e?ch:S4(e),r=WN(n,t,i)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(lM(e),sp(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ba(t._repo,t._path,e,t._orderByCalled)}}class Pz extends iu{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){id("startAt",this._value,t._path,!0);const e=ZN(t._queryParams,this._value,this._key);if(lM(e),sp(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ba(t._repo,t._path,e,t._orderByCalled)}}class Wre extends iu{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){id("startAfter",this._value,t._path,!1);const e=function Xne(n,t,e){let i;if(n.index_===nd)"string"==typeof t&&(t=I4(t)),i=ZN(n,t,e);else{let r;r=null==e?td:I4(e),i=ZN(n,t,r)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(lM(e),sp(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ba(t._repo,t._path,e,t._orderByCalled)}}class $re extends iu{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ba(t._repo,t._path,function Qne(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class Qre extends iu{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ba(t._repo,t._path,function Jne(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class Xre extends iu{constructor(t){super(),this._path=t}_apply(t){aM(t,"orderByChild");const e=new fi(this._path);if(kn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new zN(e),r=Bx(t._queryParams,i);return sp(r),new ba(t._repo,t._path,r,!0)}}class tse extends iu{_apply(t){aM(t,"orderByKey");const e=Bx(t._queryParams,nd);return sp(e),new ba(t._repo,t._path,e,!0)}}class ise extends iu{_apply(t){aM(t,"orderByPriority");const e=Bx(t._queryParams,Fi);return sp(e),new ba(t._repo,t._path,e,!0)}}class sse extends iu{_apply(t){aM(t,"orderByValue");const e=Bx(t._queryParams,jN);return sp(e),new ba(t._repo,t._path,e,!0)}}class ase extends iu{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(id("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Rz(this._value,this._key)._apply(new Pz(this._value,this._key)._apply(t))}}function ru(n,...t){let e=(0,G.m9)(n);for(const i of t)e=i._apply(e);return e}(function zie(n){(0,G.hu)(!Yx,"__referenceConstructor has already been defined"),Yx=n})(oc),function Wie(n){(0,G.hu)(!Kx,"__referenceConstructor has already been defined"),Kx=n}(oc);const RF={};function Fz(n,t,e,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||ed("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ys("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,_,c=xF(o,r),d=c.repoInfo;typeof process<"u"&&process.env&&(_=process.env.FIREBASE_DATABASE_EMULATOR_HOST),_?(p=!0,o=`http://${_}?ns=${d.namespace}`,c=xF(o,r),d=c.repoInfo):p=!c.repoInfo.secure;const b=r&&p?new PC(PC.OWNER):new nne(n.name,n.options,t);dz("Invalid Firebase Database URL",c),kn(c.path)||ed("Database URL must point to the root of a Firebase Database (not including a child path).");const I=function hse(n,t,e,i){let r=RF[t.name];r||(r={},RF[t.name]=r);let o=r[n.toURLString()];return o&&ed("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Are(n,false,e,i),r[n.toURLString()]=o,o}(d,n,b,new tne(n.name,e));return new pse(I,n)}class pse{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function bre(n,t,e){if(n.stats_=RN(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Vx(n.repoInfo_,(i,r,o,c)=>{mz(n,i,r,o,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>_z(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,G.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Lm(n.repoInfo_,t,(i,r,o,c)=>{mz(n,i,r,o,c)},i=>{_z(n,i)},i=>{!function wre(n,t){vs(t,(e,i)=>{CF(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function sne(n,t){const e=n.toString();return ON[e]||(ON[e]=t()),ON[e]}(n.repoInfo_,()=>new oie(n.stats_,n.server_)),n.infoData_=new tie,n.infoSyncTree_=new ez({startListening:(i,r,o,c)=>{let d=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(d=ZC(n.infoSyncTree_,i._path,p),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),CF(n,"connected",!1),n.serverSyncTree_=new ez({startListening:(i,r,o,c)=>(n.server_.listen(i,o,r,(d,p)=>{const _=c(d,p);pl(n.eventQueue_,i._path,_)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new oc(this._repo,Jn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function dse(n,t){const e=RF[t];(!e||e[n.key]!==n)&&ed(`Database ${t}(${n.repoInfo_}) has already been deleted.`),vz(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&ed("Cannot call "+t+" on a deleted database.")}}function Lz(){t4.IS_TRANSPORT_INITIALIZED&&so("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function gse(){Lz(),Qf.forceDisallow()}function mse(){Lz(),zv.forceDisallow(),Qf.forceAllow()}function vse(n,t){N5(n,t)}const bse={".sv":"timestamp"};class Ese{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Lm.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Lm.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function Ase(n){M5(ks.SDK_VERSION),(0,ks._registerComponent)(new Xa.wA("database",(t,{instanceIdentifier:e})=>Fz(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,ks.registerVersion)(T5,x5,n),(0,ks.registerVersion)(T5,x5,"esm2017")}();const Tse=new el.Yd("@firebase/database-compat"),Vz=function(n){Tse.warn("FIREBASE WARNING: "+n)};class kse{constructor(t){this._delegate=t}cancel(t){(0,G.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,G.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,G.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,G.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,G.Dv)("OnDisconnect.set",1,2,arguments.length),(0,G.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,G.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,G.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,e){if((0,G.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,Vz("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,G.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class Ose{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,G.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class op{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,G.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,G.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,G.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,G.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,G.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),XC("DataSnapshot.child","path",t,!1),new op(this._database,this._delegate.child(t))}hasChild(t){return(0,G.Dv)("DataSnapshot.hasChild",1,1,arguments.length),XC("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,G.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,G.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,G.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new op(this._database,e)))}hasChildren(){return(0,G.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,G.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,G.Dv)("DataSnapshot.ref",0,0,arguments.length),new gl(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Fs{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var o;(0,G.Dv)("Query.on",2,4,arguments.length),(0,G.Wj)("Query.on","callback",e,!1);const c=Fs.getCancelAndContextArgs_("Query.on",i,r),d=(_,b)=>{e.call(c.context,new op(this.database,_),b)};d.userCallback=e,d.context=c.context;const p=null===(o=c.cancel)||void 0===o?void 0:o.bind(c.context);switch(t){case"value":return OF(this._delegate,d,p),e;case"child_added":return Tz(this._delegate,d,p),e;case"child_removed":return kz(this._delegate,d,p),e;case"child_changed":return xz(this._delegate,d,p),e;case"child_moved":return Mz(this._delegate,d,p),e;default:throw new Error((0,G.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,G.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,G.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,G.Wj)("Query.off","callback",e,!0),(0,G.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,Oz(this._delegate,t,r)}else Oz(this._delegate,t)}get(){return zre(this._delegate).then(t=>new op(this.database,t))}once(t,e,i,r){(0,G.Dv)("Query.once",1,4,arguments.length),(0,G.Wj)("Query.once","callback",e,!0);const o=Fs.getCancelAndContextArgs_("Query.once",i,r),c=new G.BH,d=(_,b)=>{const I=new op(this.database,_);e&&e.call(o.context,I,b),c.resolve(I)};d.userCallback=e,d.context=o.context;const p=_=>{o.cancel&&o.cancel.call(o.context,_),c.reject(_)};switch(t){case"value":OF(this._delegate,d,p,{onlyOnce:!0});break;case"child_added":Tz(this._delegate,d,p,{onlyOnce:!0});break;case"child_removed":kz(this._delegate,d,p,{onlyOnce:!0});break;case"child_changed":xz(this._delegate,d,p,{onlyOnce:!0});break;case"child_moved":Mz(this._delegate,d,p,{onlyOnce:!0});break;default:throw new Error((0,G.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(t){return(0,G.Dv)("Query.limitToFirst",1,1,arguments.length),new Fs(this.database,ru(this._delegate,function Kre(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new $re(n)}(t)))}limitToLast(t){return(0,G.Dv)("Query.limitToLast",1,1,arguments.length),new Fs(this.database,ru(this._delegate,function Jre(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Qre(n)}(t)))}orderByChild(t){return(0,G.Dv)("Query.orderByChild",1,1,arguments.length),new Fs(this.database,ru(this._delegate,function ese(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return XC("orderByChild","path",n,!1),new Xre(n)}(t)))}orderByKey(){return(0,G.Dv)("Query.orderByKey",0,0,arguments.length),new Fs(this.database,ru(this._delegate,function nse(){return new tse}()))}orderByPriority(){return(0,G.Dv)("Query.orderByPriority",0,0,arguments.length),new Fs(this.database,ru(this._delegate,function rse(){return new ise}()))}orderByValue(){return(0,G.Dv)("Query.orderByValue",0,0,arguments.length),new Fs(this.database,ru(this._delegate,function ose(){return new sse}()))}startAt(t=null,e){return(0,G.Dv)("Query.startAt",0,2,arguments.length),new Fs(this.database,ru(this._delegate,function Zre(n=null,t){return JC("startAt","key",t,!0),new Pz(n,t)}(t,e)))}startAfter(t=null,e){return(0,G.Dv)("Query.startAfter",0,2,arguments.length),new Fs(this.database,ru(this._delegate,function Yre(n,t){return JC("startAfter","key",t,!0),new Wre(n,t)}(t,e)))}endAt(t=null,e){return(0,G.Dv)("Query.endAt",0,2,arguments.length),new Fs(this.database,ru(this._delegate,function jre(n,t){return JC("endAt","key",t,!0),new Rz(n,t)}(t,e)))}endBefore(t=null,e){return(0,G.Dv)("Query.endBefore",0,2,arguments.length),new Fs(this.database,ru(this._delegate,function qre(n,t){return JC("endBefore","key",t,!0),new Gre(n,t)}(t,e)))}equalTo(t,e){return(0,G.Dv)("Query.equalTo",1,2,arguments.length),new Fs(this.database,ru(this._delegate,function lse(n,t){return JC("equalTo","key",t,!0),new ase(n,t)}(t,e)))}toString(){return(0,G.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,G.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,G.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Fs))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,G.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,G.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,G.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new gl(this.database,new oc(this._delegate._repo,this._delegate._path))}}class gl extends Fs{constructor(t,e){super(t,new ba(e._repo,e._path,new Lx,!1)),this.database=t,this._delegate=e}getKey(){return(0,G.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,G.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new gl(this.database,jm(this._delegate,t))}getParent(){(0,G.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new gl(this.database,t):null}getRoot(){return(0,G.Dv)("Reference.root",0,0,arguments.length),new gl(this.database,this._delegate.root)}set(t,e){(0,G.Dv)("Reference.set",1,2,arguments.length),(0,G.Wj)("Reference.set","onComplete",e,!0);const i=kF(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,G.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,Vz("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}sc("Reference.update",this._delegate._path),(0,G.Wj)("Reference.update","onComplete",e,!0);const i=Hre(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,G.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,G.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function Ure(n,t,e){if(sc("setWithPriority",n._path),id("setWithPriority",t,n._path,!1),wF("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new G.BH;return EF(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){(0,G.Dv)("Reference.remove",0,1,arguments.length),(0,G.Wj)("Reference.remove","onComplete",t,!0);const e=function Bre(n){return sc("remove",n._path),kF(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,G.Dv)("Reference.transaction",1,3,arguments.length),(0,G.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,G.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,G.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function Dse(n,t,e){var i;if(n=(0,G.m9)(n),sc("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,o=new G.BH,d=OF(n,()=>{});return function kre(n,t,e,i,r,o){Qv(n,"transaction on "+t);const c={path:t,update:e,onComplete:i,status:null,order:O5(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=IF(n,t,void 0);c.currentInputSnapshot=d;const p=c.update(d.val());if(void 0===p)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{QC("transaction failed: Data returned ",p,c.path),c.status=0;const _=eM(n.transactionQueueTree_,t),b=Hm(_)||[];let I;b.push(c),vF(_,b),"object"==typeof p&&null!==p&&(0,G.r3)(p,".priority")?(I=(0,G.DV)(p,".priority"),(0,G.hu)(KC(I),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):I=(Jx(n.serverSyncTree_,t)||vn.EMPTY_NODE).getPriority().val();const O=eE(n),B=lr(p,I),z=mF(B,d,O);c.currentOutputSnapshotRaw=B,c.currentOutputSnapshotResolved=z,c.currentWriteId=rM(n);const X=cF(n.serverSyncTree_,t,z,c.currentWriteId,c.applyLocally);pl(n.eventQueue_,t,X),sM(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(p,_,b)=>{let I=null;p?o.reject(p):(I=new zm(b,new oc(n._repo,n._path),Fi),o.resolve(new Ese(_,I)))},d,r),o.promise}(this._delegate,t,{applyLocally:i}).then(o=>new Ose(o.committed,new op(this.database,o.snapshot)));return e&&r.then(o=>e(null,o.committed,o.snapshot),o=>e(o,!1,null)),r}setPriority(t,e){(0,G.Dv)("Reference.setPriority",1,2,arguments.length),(0,G.Wj)("Reference.setPriority","onComplete",e,!0);const i=function Vre(n,t){n=(0,G.m9)(n),sc("setPriority",n._path),wF("setPriority",t,!1);const e=new G.BH;return EF(n._repo,Xi(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,G.Dv)("Reference.push",0,2,arguments.length),(0,G.Wj)("Reference.push","onComplete",e,!0);const i=function Lre(n,t){n=(0,G.m9)(n),sc("push",n._path),id("push",t,n._path,!0);const e=gz(n._repo),i=Wne(e),r=jm(n,i),o=jm(n,i);let c;return c=null!=t?kF(o,t).then(()=>o):Promise.resolve(o),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,t),r=i.then(c=>new gl(this.database,c));e&&r.then(()=>e(null),c=>e(c));const o=new gl(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return sc("Reference.onDisconnect",this._delegate._path),new kse(new Dz(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class iE{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:gse,forceLongPolling:mse}}useEmulator(t,e,i={}){!function Bz(n,t,e,i={}){(n=(0,G.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&ed("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&ed('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new PC(PC.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,G.Sg)(i.mockUserToken,n.app.options.projectId);o=new PC(c)}!function use(n,t,e,i){n.repoInfo_=new MN(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,o)}(this._delegate,t,e,i)}ref(t){if((0,G.Dv)("database.ref",0,1,arguments.length),t instanceof gl){const e=Sz(this._delegate,t.toString());return new gl(this,e)}{const e=Iz(this._delegate,t);return new gl(this,e)}}refFromURL(t){(0,G.Dv)("database.refFromURL",1,1,arguments.length);const i=Sz(this._delegate,t);return new gl(this,i)}goOffline(){return(0,G.Dv)("database.goOffline",0,0,arguments.length),function _se(n){(n=(0,G.m9)(n))._checkNotDeleted("goOffline"),vz(n._repo)}(this._delegate)}goOnline(){return(0,G.Dv)("database.goOnline",0,0,arguments.length),function yse(n){(n=(0,G.m9)(n))._checkNotDeleted("goOnline"),function Mre(n){n.persistentConnection_&&n.persistentConnection_.resume(pz)}(n._repo)}(this._delegate)}}iE.ServerValue={TIMESTAMP:function wse(){return bse}(),increment:n=>function Cse(n){return{".sv":{increment:n}}}(n)};var Pse=Object.freeze({__proto__:null,initStandalone:function Rse({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:o=!1}){M5(e);const c=new Xa.zt("auth-internal",new Xa.H0("database-standalone"));return c.setComponent(new Xa.wA("auth-internal",()=>i,"PRIVATE")),{instance:new iE(Fz(n,c,void 0,t,o),n),namespace:r}}});const Nse=iE.ServerValue;function Uz(n){return null==n}function Hz(n){return"function"==typeof n.set}function zz(n,t){return Hz(t)?t:n.ref(t)}function jz(n,t){if(function Lse(n){return"string"==typeof n}(n))return t.stringCase();if(Hz(n))return t.firebaseCase();if(function Bse(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function rE(n,t,e="on",i=Eg.z){return new si.y(r=>{let o=null;return o=n[e](t,(c,d)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:d})}),"once"===e&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===e?{unsubscribe(){null!=o&&n.off(t,o)}}:{unsubscribe(){}}}).pipe((0,ot.U)(r=>{const{snapshot:o,prevKey:c}=r;let d=null;return o.exists()&&(d=o.key),{type:t,payload:o,prevKey:c,key:d}}),(0,zA.B)())}function Gz(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function Hse(n,t){const{payload:e,prevKey:i,key:r}=t,o=Gz(n,r),c=function Use(n,t){if(Uz(t))return 0;{const e=Gz(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let d=null;t.payload.forEach(p=>{const _={payload:p,type:"value",prevKey:d,key:p.key};return d=p.key,n=[...n,_],!1})}return n;case"child_added":if(o>-1){const d=n[o-1];(d&&d.key||null)!==i&&(n=n.filter(p=>p.payload.key!==e.key)).splice(c,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(c,0,t)}return n;case"child_removed":return n.filter(d=>d.payload.key!==e.key);case"child_changed":return n.map(d=>d.payload.key===r?t:d);case"child_moved":if(o>-1){const d=n.splice(o,1)[0];return(n=n.slice()).splice(c,0,d),n}return n;default:return n}}function qz(n){return(Uz(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function Zz(n,t,e){return function Vse(n,t,e){return rE(n,"value","once",e).pipe(Ti(i=>{const r=[dt(i)];return t.forEach(o=>r.push(rE(n,o,"on",e))),(0,Ja.T)(...r).pipe(Xt(Hse,[]))}),tw())}(n,t=qz(t),e)}function Wz(n,t,e){const i=(t=qz(t)).map(r=>rE(n,r,"on",e));return(0,Ja.T)(...i)}function Yz(n,t){return function(i,r){return jz(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function qse(n){return function(e){return e?jz(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function $z(n,t){return function(){return rE(n,"value","on",t)}}!function Fse(n){n.INTERNAL.registerComponent(new Xa.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new iE(r,i)},"PUBLIC").setServiceProps({Reference:gl,Query:Fs,Database:iE,DataSnapshot:op,enableLogging:vse,INTERNAL:Pse,ServerValue:Nse}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.10")}(nw.Z);const Yse=new s.OlP("angularfire2.realtimeDatabaseURL"),$se=new s.OlP("angularfire2.database.use-emulator");let Kse=(()=>{class n{constructor(e,i,r,o,c,d,p,_,b,I,O,B,z,X,se){this.schedulers=d;const Fe=p,it=(0,Er.on)(e,c,i);_&&Wh(it,c,b,O,B,z,I,X),this.database=(0,Er.cc)(`${it.name}.database.${r}`,"AngularFireDatabase",it.name,()=>{const at=c.runOutsideAngular(()=>it.database(r||void 0));return Fe&&at.useEmulator(...Fe),at},[Fe])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>zz(this.database,e));let o=r;return i&&(o=i(r)),function Zse(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:Yz(i,"update"),set:Yz(i,"set"),push:r=>i.push(r),remove:qse(i),snapshotChanges:r=>Zz(n,r,e).pipe(xn.iC),stateChanges:r=>Wz(n,r,e).pipe(xn.iC),auditTrail:r=>function zse(n,t,e){return function Gse(n,t,e){return function jse(n,t){return rE(n,"value","on",t).pipe((0,ot.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function jte(...n){const t=(0,Ks.jO)(n);return(0,Si.e)((e,i)=>{const r=n.length,o=new Array(r);let c=n.map(()=>!1),d=!1;for(let p=0;p<r;p++)(0,hr.Xf)(n[p]).subscribe((0,oi.x)(i,_=>{o[p]=_,!d&&!c[p]&&(c[p]=!0,(d=c.every(Ga.y))&&(c=null))},XV.Z));e.subscribe((0,oi.x)(i,p=>{if(d){const _=[p,...o];i.next(t?t(..._):_)}}))})}(t),(0,ot.U)(([r,o])=>{const c=r.lastKeyToLoad,d=o.map(p=>p.key);return{actions:o,lastKeyToLoad:c,loadedKeys:d}}),function Gte(n){return(0,Si.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,oi.x)(e,o=>(i||(i=!n(o,r++)))&&e.next(o)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,ot.U)(r=>r.actions))}(n,Wz(n,t).pipe(Xt((r,o)=>[...r,o],[])),e)}(n,r,e).pipe(xn.iC),valueChanges:(r,o)=>Zz(n,r,e).pipe((0,ot.U)(d=>d.map(p=>o&&o.idField?Object.assign(Object.assign({},p.payload.val()),{[o.idField]:p.key}):p.payload.val())),xn.iC)}}(o,this)}object(e){return function Wse(n,t){return{query:n,snapshotChanges:()=>$z(n,t.schedulers.outsideAngular)().pipe(xn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>$z(n,t.schedulers.outsideAngular)().pipe(xn.iC,(0,ot.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>zz(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Er.Dh),s.LFG(Er.xv,8),s.LFG(Yse,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(xn.HU),s.LFG($se,8),s.LFG(Uc,8),s.LFG(fb,8),s.LFG(zp,8),s.LFG(pb,8),s.LFG(gb,8),s.LFG(Zh,8),s.LFG(jp,8),s.LFG(Hp,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Qse=(()=>{class n{constructor(){$_.Z.registerVersion("angularfire",xn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Kse]}),n})(),Jse=(()=>{class n{constructor(e){this.loader=e}intercept(e,i){return this.loader.handle(e.url,!0),i.handle(e).pipe(wt(r=>(this.loader.handle(e.url,!1),r))).pipe((0,ot.U)(r=>(r instanceof Td&&this.loader.handle(r.url??"",!1),r)))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(fP))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Xse=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[lQ]}),n.\u0275inj=s.cJS({providers:[{provide:Ab,useClass:Jse,multi:!0}],imports:[Va,OH,yQ,qH,XX,yX,Uh,NU,$T,II,Er.hO.initializeApp(ql_firebaseConfig),mb,q7,zte,Qse]}),n})();(0,s.G48)(),Sc().bootstrapModule(Xse).catch(n=>console.error(n))},5867:(It,_e,j)=>{"use strict";j.d(_e,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=j(9681);(0,s.registerVersion)("firebase","9.14.0","app")},127:(It,_e,j)=>{"use strict";j.d(_e,{Z:()=>s.Z});var s=j(3942);s.Z.registerVersion("firebase","9.14.0","app-compat")},5881:(It,_e,j)=>{"use strict";j.r(_e);var s=j(5861),L=j(3942),U=j(8247),pe=j(2090),ae=(j(9681),j(1877),j(4859));function ve(){return window}function ee(){return(ee=(0,s.Z)(function*($,V,W){var he;const{BuildInfo:Ge}=ve();(0,U.ap)(V.sessionId,"AuthEvent did not contain a session ID");const _t=yield be(V.sessionId),yt={};return(0,U.aq)()?yt.ibi=Ge.packageName:(0,U.ar)()?yt.apn=Ge.packageName:(0,U.as)($,"operation-not-supported-in-this-environment"),Ge.displayName&&(yt.appDisplayName=Ge.displayName),yt.sessionId=_t,(0,U.at)($,W,V.type,void 0,null!==(he=V.eventId)&&void 0!==he?he:void 0,yt)})).apply(this,arguments)}function Je(){return(Je=(0,s.Z)(function*($){const{BuildInfo:V}=ve(),W={};(0,U.aq)()?W.iosBundleId=V.packageName:(0,U.ar)()?W.androidPackageName=V.packageName:(0,U.as)($,"operation-not-supported-in-this-environment"),yield(0,U.au)($,W)})).apply(this,arguments)}function rt(){return(rt=(0,s.Z)(function*($,V,W){const{cordova:he}=ve();let Ge=()=>{};try{yield new Promise((_t,yt)=>{let Ne=null;function Ke(){var Wt;_t();const In=null===(Wt=he.plugins.browsertab)||void 0===Wt?void 0:Wt.close;"function"==typeof In&&In(),"function"==typeof W?.close&&W.close()}function Zt(){Ne||(Ne=window.setTimeout(()=>{yt((0,U.aw)($,"redirect-cancelled-by-user"))},2e3))}function Bn(){"visible"===document?.visibilityState&&Zt()}V.addPassiveListener(Ke),document.addEventListener("resume",Zt,!1),(0,U.ar)()&&document.addEventListener("visibilitychange",Bn,!1),Ge=()=>{V.removePassiveListener(Ke),document.removeEventListener("resume",Zt,!1),document.removeEventListener("visibilitychange",Bn,!1),Ne&&window.clearTimeout(Ne)}})}finally{Ge()}})).apply(this,arguments)}function be($){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,s.Z)(function*($){const V=ut($),W=yield crypto.subtle.digest("SHA-256",V);return Array.from(new Uint8Array(W)).map(Ge=>Ge.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ut($){if((0,U.ap)(/[0-9a-zA-Z]+/.test($),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode($);const V=new ArrayBuffer($.length),W=new Uint8Array(V);for(let he=0;he<$.length;he++)W[he]=$.charCodeAt(he);return W}class Ue extends U.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(V=>{this.resolveInialized=V})}addPassiveListener(V){this.passiveListeners.add(V)}removePassiveListener(V){this.passiveListeners.delete(V)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(V){return this.resolveInialized(),this.passiveListeners.forEach(W=>W(V)),super.onEvent(V)}initialized(){var V=this;return(0,s.Z)(function*(){yield V.initPromise})()}}function de($){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,s.Z)(function*($){const V=yield ce()._get(we($));return V&&(yield ce()._remove(we($))),V})).apply(this,arguments)}function re(){const $=[],V="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let W=0;W<20;W++){const he=Math.floor(Math.random()*V.length);$.push(V.charAt(he))}return $.join("")}function ce(){return(0,U.az)(U.b)}function we($){return(0,U.aA)("authEvent",$.config.apiKey,$.name)}function Qe($){if(!$?.includes("?"))return{};const[V,...W]=$.split("?");return(0,pe.zd)(W.join("?"))}function lt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,U.aw)("no-auth-event")}}function Bt(){var $;return(null===($=self?.location)||void 0===$?void 0:$.protocol)||null}function qi($=(0,pe.z$)()){return!("file:"!==Bt()&&"ionic:"!==Bt()&&"capacitor:"!==Bt()||!$.toLowerCase().match(/iphone|ipad|ipod|android/))}function en(){try{const $=self.localStorage,V=U.aI();if($)return $.setItem(V,"1"),$.removeItem(V),!function Yr($=(0,pe.z$)()){return function Zi(){return(0,pe.w1)()&&11===document?.documentMode}()||function Xn($=(0,pe.z$)()){return/Edge\/\d+/.test($)}($)}()||(0,pe.hl)()}catch{return ei()&&(0,pe.hl)()}return!1}function ei(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ln(){return(function Nt(){return"http:"===Bt()||"https:"===Bt()}()||(0,pe.ru)()||qi())&&!function pi(){return(0,pe.b$)()||(0,pe.UG)()}()&&en()&&!ei()}function Wi(){return qi()&&typeof document<"u"}function nt(){return(nt=(0,s.Z)(function*(){return!!Wi()&&new Promise($=>{const V=setTimeout(()=>{$(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(V),$(!0)})})})).apply(this,arguments)}const ti={LOCAL:"local",NONE:"none",SESSION:"session"},dn=U.ax,Bi="persistence";function zn($){return jn.apply(this,arguments)}function jn(){return(jn=(0,s.Z)(function*($){yield $._initializationPromise;const V=St(),W=U.aA(Bi,$.config.apiKey,$.name);V&&V.setItem(W,$._getPersistence())})).apply(this,arguments)}function St(){var $;try{return(null===($=function bi(){return typeof window<"u"?window:null}())||void 0===$?void 0:$.sessionStorage)||null}catch{return null}}const Xe=U.ax;class qt{constructor(){this.browserResolver=U.az(U.k),this.cordovaResolver=U.az(class An{constructor(){this._redirectPersistence=U.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=U.aB,this._overrideRedirectResult=U.aC}_initialize(V){var W=this;return(0,s.Z)(function*(){const he=V._key();let Ge=W.eventManagers.get(he);return Ge||(Ge=new Ue(V),W.eventManagers.set(he,Ge),W.attachCallbackListeners(V,Ge)),Ge})()}_openPopup(V){(0,U.as)(V,"operation-not-supported-in-this-environment")}_openRedirect(V,W,he,Ge){var _t=this;return(0,s.Z)(function*(){!function Me($){var V,W,he,Ge,_t,yt,Ne,Ke,Zt,Bn;const Wt=ve();(0,U.ax)("function"==typeof(null===(V=Wt?.universalLinks)||void 0===V?void 0:V.subscribe),$,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,U.ax)(typeof(null===(W=Wt?.BuildInfo)||void 0===W?void 0:W.packageName)<"u",$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,U.ax)("function"==typeof(null===(_t=null===(Ge=null===(he=Wt?.cordova)||void 0===he?void 0:he.plugins)||void 0===Ge?void 0:Ge.browsertab)||void 0===_t?void 0:_t.openUrl),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.ax)("function"==typeof(null===(Ke=null===(Ne=null===(yt=Wt?.cordova)||void 0===yt?void 0:yt.plugins)||void 0===Ne?void 0:Ne.browsertab)||void 0===Ke?void 0:Ke.isAvailable),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.ax)("function"==typeof(null===(Bn=null===(Zt=Wt?.cordova)||void 0===Zt?void 0:Zt.InAppBrowser)||void 0===Bn?void 0:Bn.open),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(V);const yt=yield _t._initialize(V);yield yt.initialized(),yt.resetRedirect(),(0,U.aD)(),yield _t._originValidation(V);const Ne=function ke($,V,W=null){return{type:V,eventId:W,urlResponse:null,sessionId:re(),postBody:null,tenantId:$.tenantId,error:(0,U.aw)($,"no-auth-event")}}(V,he,Ge);yield function st($,V){return ce()._set(we($),V)}(V,Ne);const Ke=yield function ne($,V,W){return ee.apply(this,arguments)}(V,Ne,W),Zt=yield function Ve($){const{cordova:V}=ve();return new Promise(W=>{V.plugins.browsertab.isAvailable(he=>{let Ge=null;he?V.plugins.browsertab.openUrl($):Ge=V.InAppBrowser.open($,(0,U.av)()?"_blank":"_system","location=yes"),W(Ge)})})}(Ke);return function Oe($,V,W){return rt.apply(this,arguments)}(V,yt,Zt)})()}_isIframeWebStorageSupported(V,W){throw new Error("Method not implemented.")}_originValidation(V){const W=V._key();return this.originValidationPromises[W]||(this.originValidationPromises[W]=function oe($){return Je.apply(this,arguments)}(V)),this.originValidationPromises[W]}attachCallbackListeners(V,W){const{universalLinks:he,handleOpenURL:Ge,BuildInfo:_t}=ve(),yt=setTimeout((0,s.Z)(function*(){yield de(V),W.onEvent(lt())}),500),Ne=function(){var Bn=(0,s.Z)(function*(Wt){clearTimeout(yt);const In=yield de(V);let rs=null;In&&Wt?.url&&(rs=function Ee($,V){var W,he;const Ge=function We($){const V=Qe($),W=V.link?decodeURIComponent(V.link):void 0,he=Qe(W).link,Ge=V.deep_link_id?decodeURIComponent(V.deep_link_id):void 0;return Qe(Ge).link||Ge||he||W||$}(V);if(Ge.includes("/__/auth/callback")){const _t=Qe(Ge),yt=_t.firebaseError?function fe($){try{return JSON.parse($)}catch{return null}}(decodeURIComponent(_t.firebaseError)):null,Ne=null===(he=null===(W=yt?.code)||void 0===W?void 0:W.split("auth/"))||void 0===he?void 0:he[1],Ke=Ne?(0,U.aw)(Ne):null;return Ke?{type:$.type,eventId:$.eventId,tenantId:$.tenantId,error:Ke,urlResponse:null,sessionId:null,postBody:null}:{type:$.type,eventId:$.eventId,tenantId:$.tenantId,sessionId:$.sessionId,urlResponse:Ge,postBody:null}}return null}(In,Wt.url)),W.onEvent(rs||lt())});return function(In){return Bn.apply(this,arguments)}}();typeof he<"u"&&"function"==typeof he.subscribe&&he.subscribe(null,Ne);const Ke=Ge,Zt=`${_t.packageName.toLowerCase()}://`;ve().handleOpenURL=function(){var Bn=(0,s.Z)(function*(Wt){if(Wt.toLowerCase().startsWith(Zt)&&Ne({url:Wt}),"function"==typeof Ke)try{Ke(Wt)}catch(In){console.error(In)}});return function(Wt){return Bn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=U.a,this._completeRedirectFn=U.aB,this._overrideRedirectResult=U.aC}_initialize(V){var W=this;return(0,s.Z)(function*(){return yield W.selectUnderlyingResolver(),W.assertedUnderlyingResolver._initialize(V)})()}_openPopup(V,W,he,Ge){var _t=this;return(0,s.Z)(function*(){return yield _t.selectUnderlyingResolver(),_t.assertedUnderlyingResolver._openPopup(V,W,he,Ge)})()}_openRedirect(V,W,he,Ge){var _t=this;return(0,s.Z)(function*(){return yield _t.selectUnderlyingResolver(),_t.assertedUnderlyingResolver._openRedirect(V,W,he,Ge)})()}_isIframeWebStorageSupported(V,W){this.assertedUnderlyingResolver._isIframeWebStorageSupported(V,W)}_originValidation(V){return this.assertedUnderlyingResolver._originValidation(V)}get _shouldInitProactively(){return Wi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Xe(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var V=this;return(0,s.Z)(function*(){if(V.underlyingResolver)return;const W=yield function Zn(){return nt.apply(this,arguments)}();V.underlyingResolver=W?V.cordovaResolver:V.browserResolver})()}}function ur($){return $.unwrap()}function er($){return mi($)}function mi($){const{_tokenResponse:V}=$ instanceof pe.ZR?$.customData:$;if(!V)return null;if(!($ instanceof pe.ZR)&&"temporaryProof"in V&&"phoneNumber"in V)return U.P.credentialFromResult($);const W=V.providerId;if(!W||W===U.o.PASSWORD)return null;let he;switch(W){case U.o.GOOGLE:he=U.Q;break;case U.o.FACEBOOK:he=U.N;break;case U.o.GITHUB:he=U.T;break;case U.o.TWITTER:he=U.W;break;default:const{oauthIdToken:Ge,oauthAccessToken:_t,oauthTokenSecret:yt,pendingToken:Ne,nonce:Ke}=V;return _t||yt||Ge||Ne?Ne?W.startsWith("saml.")?U.aL._create(W,Ne):U.J._fromParams({providerId:W,signInMethod:W,pendingToken:Ne,idToken:Ge,accessToken:_t}):new U.U(W).credential({idToken:Ge,accessToken:_t,rawNonce:Ke}):null}return $ instanceof pe.ZR?he.credentialFromError($):he.credentialFromResult($)}function Jt($,V){return V.catch(W=>{throw W instanceof pe.ZR&&function Ut($,V){var W,he;const Ge=null===(W=V.customData)||void 0===W?void 0:W._tokenResponse;if("auth/multi-factor-auth-required"===(null===(he=V)||void 0===he?void 0:he.code))V.resolver=new Ni($,U.an($,V));else if(Ge){const _t=mi(V),yt=V;_t&&(yt.credential=_t,yt.tenantId=Ge.tenantId||void 0,yt.email=Ge.email||void 0,yt.phoneNumber=Ge.phoneNumber||void 0)}}($,W),W}).then(W=>{const Ge=W.user;return{operationType:W.operationType,credential:er(W),additionalUserInfo:U.al(W),user:Qn.getOrCreate(Ge)}})}function gr($,V){return gn.apply(this,arguments)}function gn(){return(gn=(0,s.Z)(function*($,V){const W=yield V;return{verificationId:W.verificationId,confirm:he=>Jt($,W.confirm(he))}})).apply(this,arguments)}class Ni{constructor(V,W){this.resolver=W,this.auth=function gi($){return $.wrapped()}(V)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(V){return Jt(ur(this.auth),this.resolver.resolveSignIn(V))}}class Qn{constructor(V){this._delegate=V,this.multiFactor=U.ao(V)}static getOrCreate(V){return Qn.USER_MAP.has(V)||Qn.USER_MAP.set(V,new Qn(V)),Qn.USER_MAP.get(V)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(V){return this._delegate.getIdTokenResult(V)}getIdToken(V){return this._delegate.getIdToken(V)}linkAndRetrieveDataWithCredential(V){return this.linkWithCredential(V)}linkWithCredential(V){var W=this;return(0,s.Z)(function*(){return Jt(W.auth,U.Z(W._delegate,V))})()}linkWithPhoneNumber(V,W){var he=this;return(0,s.Z)(function*(){return gr(he.auth,U.l(he._delegate,V,W))})()}linkWithPopup(V){var W=this;return(0,s.Z)(function*(){return Jt(W.auth,U.d(W._delegate,V,qt))})()}linkWithRedirect(V){var W=this;return(0,s.Z)(function*(){return yield zn(U.aE(W.auth)),U.g(W._delegate,V,qt)})()}reauthenticateAndRetrieveDataWithCredential(V){return this.reauthenticateWithCredential(V)}reauthenticateWithCredential(V){var W=this;return(0,s.Z)(function*(){return Jt(W.auth,U._(W._delegate,V))})()}reauthenticateWithPhoneNumber(V,W){return gr(this.auth,U.r(this._delegate,V,W))}reauthenticateWithPopup(V){return Jt(this.auth,U.e(this._delegate,V,qt))}reauthenticateWithRedirect(V){var W=this;return(0,s.Z)(function*(){return yield zn(U.aE(W.auth)),U.h(W._delegate,V,qt)})()}sendEmailVerification(V){return U.ab(this._delegate,V)}unlink(V){var W=this;return(0,s.Z)(function*(){return yield U.ak(W._delegate,V),W})()}updateEmail(V){return U.ag(this._delegate,V)}updatePassword(V){return U.ah(this._delegate,V)}updatePhoneNumber(V){return U.u(this._delegate,V)}updateProfile(V){return U.af(this._delegate,V)}verifyBeforeUpdateEmail(V,W){return U.ac(this._delegate,V,W)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Qn.USER_MAP=new WeakMap;const pt=U.ax;let Pe=(()=>{class ${constructor(W,he){if(this.app=W,he.isInitialized())return this._delegate=he.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ge}=W.options;pt(Ge,"invalid-api-key",{appName:W.name}),pt(Ge,"invalid-api-key",{appName:W.name});const _t=typeof window<"u"?qt:void 0;this._delegate=he.initialize({options:{persistence:Tt(Ge,W.name),popupRedirectResolver:_t}}),this._delegate._updateErrorMap(U.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Qn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(W){this._delegate.languageCode=W}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(W){this._delegate.tenantId=W}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(W,he){U.G(this._delegate,W,he)}applyActionCode(W){return U.a2(this._delegate,W)}checkActionCode(W){return U.a3(this._delegate,W)}confirmPasswordReset(W,he){return U.a1(this._delegate,W,he)}createUserWithEmailAndPassword(W,he){var Ge=this;return(0,s.Z)(function*(){return Jt(Ge._delegate,U.a5(Ge._delegate,W,he))})()}fetchProvidersForEmail(W){return this.fetchSignInMethodsForEmail(W)}fetchSignInMethodsForEmail(W){return U.aa(this._delegate,W)}isSignInWithEmailLink(W){return U.a8(this._delegate,W)}getRedirectResult(){var W=this;return(0,s.Z)(function*(){pt(Ln(),W._delegate,"operation-not-supported-in-this-environment");const he=yield U.j(W._delegate,qt);return he?Jt(W._delegate,Promise.resolve(he)):{credential:null,user:null}})()}addFrameworkForLogging(W){!function Rn($,V){(0,U.aE)($)._logFramework(V)}(this._delegate,W)}onAuthStateChanged(W,he,Ge){const{next:_t,error:yt,complete:Ne}=mt(W,he,Ge);return this._delegate.onAuthStateChanged(_t,yt,Ne)}onIdTokenChanged(W,he,Ge){const{next:_t,error:yt,complete:Ne}=mt(W,he,Ge);return this._delegate.onIdTokenChanged(_t,yt,Ne)}sendSignInLinkToEmail(W,he){return U.a7(this._delegate,W,he)}sendPasswordResetEmail(W,he){return U.a0(this._delegate,W,he||void 0)}setPersistence(W){var he=this;return(0,s.Z)(function*(){let Ge;switch(function Ls($,V){dn(Object.values(ti).includes(V),$,"invalid-persistence-type"),(0,pe.b$)()?dn(V!==ti.SESSION,$,"unsupported-persistence-type"):(0,pe.UG)()?dn(V===ti.NONE,$,"unsupported-persistence-type"):ei()?dn(V===ti.NONE||V===ti.LOCAL&&(0,pe.hl)(),$,"unsupported-persistence-type"):dn(V===ti.NONE||en(),$,"unsupported-persistence-type")}(he._delegate,W),W){case ti.SESSION:Ge=U.a;break;case ti.LOCAL:Ge=(yield U.az(U.i)._isAvailable())?U.i:U.b;break;case ti.NONE:Ge=U.L;break;default:return U.as("argument-error",{appName:he._delegate.name})}return he._delegate.setPersistence(Ge)})()}signInAndRetrieveDataWithCredential(W){return this.signInWithCredential(W)}signInAnonymously(){return Jt(this._delegate,U.X(this._delegate))}signInWithCredential(W){return Jt(this._delegate,U.Y(this._delegate,W))}signInWithCustomToken(W){return Jt(this._delegate,U.$(this._delegate,W))}signInWithEmailAndPassword(W,he){return Jt(this._delegate,U.a6(this._delegate,W,he))}signInWithEmailLink(W,he){return Jt(this._delegate,U.a9(this._delegate,W,he))}signInWithPhoneNumber(W,he){return gr(this._delegate,U.s(this._delegate,W,he))}signInWithPopup(W){var he=this;return(0,s.Z)(function*(){return pt(Ln(),he._delegate,"operation-not-supported-in-this-environment"),Jt(he._delegate,U.c(he._delegate,W,qt))})()}signInWithRedirect(W){var he=this;return(0,s.Z)(function*(){return pt(Ln(),he._delegate,"operation-not-supported-in-this-environment"),yield zn(he._delegate),U.f(he._delegate,W,qt)})()}updateCurrentUser(W){return this._delegate.updateCurrentUser(W)}verifyPasswordResetCode(W){return U.a4(this._delegate,W)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return $.Persistence=ti,$})();function mt($,V,W){let he=$;"function"!=typeof $&&({next:he,error:V,complete:W}=$);const Ge=he;return{next:yt=>Ge(yt&&Qn.getOrCreate(yt)),error:V,complete:W}}function Tt($,V){const W=function Gn($,V){const W=St();if(!W)return[];const he=U.aA(Bi,$,V);switch(W.getItem(he)){case ti.NONE:return[U.L];case ti.LOCAL:return[U.i,U.a];case ti.SESSION:return[U.a];default:return[]}}($,V);if(typeof self<"u"&&!W.includes(U.i)&&W.push(U.i),typeof window<"u")for(const he of[U.b,U.a])W.includes(he)||W.push(he);return W.includes(U.L)||W.push(U.L),W}class Rt{constructor(){this.providerId="phone",this._delegate=new U.P(ur(L.Z.auth()))}static credential(V,W){return U.P.credential(V,W)}verifyPhoneNumber(V,W){return this._delegate.verifyPhoneNumber(V,W)}unwrap(){return this._delegate}}Rt.PHONE_SIGN_IN_METHOD=U.P.PHONE_SIGN_IN_METHOD,Rt.PROVIDER_ID=U.P.PROVIDER_ID;const _n=U.ax;class te{constructor(V,W,he=L.Z.app()){var Ge;_n(null===(Ge=he.options)||void 0===Ge?void 0:Ge.apiKey,"invalid-api-key",{appName:he.name}),this._delegate=new U.R(V,W,he.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ie($){$.INTERNAL.registerComponent(new ae.wA("auth-compat",V=>{const W=V.getProvider("app-compat").getImmediate(),he=V.getProvider("auth");return new Pe(W,he)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:U.A.EMAIL_SIGNIN,PASSWORD_RESET:U.A.PASSWORD_RESET,RECOVER_EMAIL:U.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:U.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:U.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:U.A.VERIFY_EMAIL}},EmailAuthProvider:U.M,FacebookAuthProvider:U.N,GithubAuthProvider:U.T,GoogleAuthProvider:U.Q,OAuthProvider:U.U,SAMLAuthProvider:U.V,PhoneAuthProvider:Rt,PhoneMultiFactorGenerator:U.m,RecaptchaVerifier:te,TwitterAuthProvider:U.W,Auth:Pe,AuthCredential:U.H,Error:pe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),$.registerVersion("@firebase/auth-compat","0.2.24")}(L.Z)},9751:(It,_e,j)=>{"use strict";j.d(_e,{y:()=>ve});var s=j(930),L=j(727),U=j(8822),pe=j(9635),ye=j(2416),De=j(576),ae=j(2806);let ve=(()=>{class oe{constructor(Ve){Ve&&(this._subscribe=Ve)}lift(Ve){const Oe=new oe;return Oe.source=this,Oe.operator=Ve,Oe}subscribe(Ve,Oe,rt){const Me=function ee(oe){return oe&&oe instanceof s.Lv||function ne(oe){return oe&&(0,De.m)(oe.next)&&(0,De.m)(oe.error)&&(0,De.m)(oe.complete)}(oe)&&(0,L.Nn)(oe)}(Ve)?Ve:new s.Hp(Ve,Oe,rt);return(0,ae.x)(()=>{const{operator:be,source:Ze}=this;Me.add(be?be.call(Me,Ze):Ze?this._subscribe(Me):this._trySubscribe(Me))}),Me}_trySubscribe(Ve){try{return this._subscribe(Ve)}catch(Oe){Ve.error(Oe)}}forEach(Ve,Oe){return new(Oe=Se(Oe))((rt,Me)=>{const be=new s.Hp({next:Ze=>{try{Ve(Ze)}catch(ut){Me(ut),be.unsubscribe()}},error:Me,complete:rt});this.subscribe(be)})}_subscribe(Ve){var Oe;return null===(Oe=this.source)||void 0===Oe?void 0:Oe.subscribe(Ve)}[U.L](){return this}pipe(...Ve){return(0,pe.U)(Ve)(this)}toPromise(Ve){return new(Ve=Se(Ve))((Oe,rt)=>{let Me;this.subscribe(be=>Me=be,be=>rt(be),()=>Oe(Me))})}}return oe.create=Je=>new oe(Je),oe})();function Se(oe){var Je;return null!==(Je=oe??ye.v.Promise)&&void 0!==Je?Je:Promise}},7579:(It,_e,j)=>{"use strict";j.d(_e,{x:()=>ae});var s=j(9751),L=j(727);const pe=(0,j(3888).d)(Se=>function(){Se(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ye=j(8737),De=j(2806);let ae=(()=>{class Se extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ee){const oe=new ve(this,this);return oe.operator=ee,oe}_throwIfClosed(){if(this.closed)throw new pe}next(ee){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const oe of this.currentObservers)oe.next(ee)}})}error(ee){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ee;const{observers:oe}=this;for(;oe.length;)oe.shift().error(ee)}})}complete(){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ee}=this;for(;ee.length;)ee.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ee;return(null===(ee=this.observers)||void 0===ee?void 0:ee.length)>0}_trySubscribe(ee){return this._throwIfClosed(),super._trySubscribe(ee)}_subscribe(ee){return this._throwIfClosed(),this._checkFinalizedStatuses(ee),this._innerSubscribe(ee)}_innerSubscribe(ee){const{hasError:oe,isStopped:Je,observers:Ve}=this;return oe||Je?L.Lc:(this.currentObservers=null,Ve.push(ee),new L.w0(()=>{this.currentObservers=null,(0,ye.P)(Ve,ee)}))}_checkFinalizedStatuses(ee){const{hasError:oe,thrownError:Je,isStopped:Ve}=this;oe?ee.error(Je):Ve&&ee.complete()}asObservable(){const ee=new s.y;return ee.source=this,ee}}return Se.create=(ne,ee)=>new ve(ne,ee),Se})();class ve extends ae{constructor(ne,ee){super(),this.destination=ne,this.source=ee}next(ne){var ee,oe;null===(oe=null===(ee=this.destination)||void 0===ee?void 0:ee.next)||void 0===oe||oe.call(ee,ne)}error(ne){var ee,oe;null===(oe=null===(ee=this.destination)||void 0===ee?void 0:ee.error)||void 0===oe||oe.call(ee,ne)}complete(){var ne,ee;null===(ee=null===(ne=this.destination)||void 0===ne?void 0:ne.complete)||void 0===ee||ee.call(ne)}_subscribe(ne){var ee,oe;return null!==(oe=null===(ee=this.source)||void 0===ee?void 0:ee.subscribe(ne))&&void 0!==oe?oe:L.Lc}}},930:(It,_e,j)=>{"use strict";j.d(_e,{Hp:()=>rt,Lv:()=>oe});var s=j(576),L=j(727),U=j(2416),pe=j(7849),ye=j(5032);const De=Se("C",void 0,void 0);function Se(je,Ue,ke){return{kind:je,value:Ue,error:ke}}var ne=j(3410),ee=j(2806);class oe extends L.w0{constructor(Ue){super(),this.isStopped=!1,Ue?(this.destination=Ue,(0,L.Nn)(Ue)&&Ue.add(this)):this.destination=ut}static create(Ue,ke,st){return new rt(Ue,ke,st)}next(Ue){this.isStopped?Ze(function ve(je){return Se("N",je,void 0)}(Ue),this):this._next(Ue)}error(Ue){this.isStopped?Ze(function ae(je){return Se("E",void 0,je)}(Ue),this):(this.isStopped=!0,this._error(Ue))}complete(){this.isStopped?Ze(De,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ue){this.destination.next(Ue)}_error(Ue){try{this.destination.error(Ue)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Je=Function.prototype.bind;function Ve(je,Ue){return Je.call(je,Ue)}class Oe{constructor(Ue){this.partialObserver=Ue}next(Ue){const{partialObserver:ke}=this;if(ke.next)try{ke.next(Ue)}catch(st){Me(st)}}error(Ue){const{partialObserver:ke}=this;if(ke.error)try{ke.error(Ue)}catch(st){Me(st)}else Me(Ue)}complete(){const{partialObserver:Ue}=this;if(Ue.complete)try{Ue.complete()}catch(ke){Me(ke)}}}class rt extends oe{constructor(Ue,ke,st){let de;if(super(),(0,s.m)(Ue)||!Ue)de={next:Ue??void 0,error:ke??void 0,complete:st??void 0};else{let Ae;this&&U.v.useDeprecatedNextContext?(Ae=Object.create(Ue),Ae.unsubscribe=()=>this.unsubscribe(),de={next:Ue.next&&Ve(Ue.next,Ae),error:Ue.error&&Ve(Ue.error,Ae),complete:Ue.complete&&Ve(Ue.complete,Ae)}):de=Ue}this.destination=new Oe(de)}}function Me(je){U.v.useDeprecatedSynchronousErrorHandling?(0,ee.O)(je):(0,pe.h)(je)}function Ze(je,Ue){const{onStoppedNotification:ke}=U.v;ke&&ne.z.setTimeout(()=>ke(je,Ue))}const ut={closed:!0,next:ye.Z,error:function be(je){throw je},complete:ye.Z}},727:(It,_e,j)=>{"use strict";j.d(_e,{Lc:()=>De,w0:()=>ye,Nn:()=>ae});var s=j(576);const U=(0,j(3888).d)(Se=>function(ee){Se(this),this.message=ee?`${ee.length} errors occurred during unsubscription:\n${ee.map((oe,Je)=>`${Je+1}) ${oe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ee});var pe=j(8737);class ye{constructor(ne){this.initialTeardown=ne,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ne;if(!this.closed){this.closed=!0;const{_parentage:ee}=this;if(ee)if(this._parentage=null,Array.isArray(ee))for(const Ve of ee)Ve.remove(this);else ee.remove(this);const{initialTeardown:oe}=this;if((0,s.m)(oe))try{oe()}catch(Ve){ne=Ve instanceof U?Ve.errors:[Ve]}const{_finalizers:Je}=this;if(Je){this._finalizers=null;for(const Ve of Je)try{ve(Ve)}catch(Oe){ne=ne??[],Oe instanceof U?ne=[...ne,...Oe.errors]:ne.push(Oe)}}if(ne)throw new U(ne)}}add(ne){var ee;if(ne&&ne!==this)if(this.closed)ve(ne);else{if(ne instanceof ye){if(ne.closed||ne._hasParent(this))return;ne._addParent(this)}(this._finalizers=null!==(ee=this._finalizers)&&void 0!==ee?ee:[]).push(ne)}}_hasParent(ne){const{_parentage:ee}=this;return ee===ne||Array.isArray(ee)&&ee.includes(ne)}_addParent(ne){const{_parentage:ee}=this;this._parentage=Array.isArray(ee)?(ee.push(ne),ee):ee?[ee,ne]:ne}_removeParent(ne){const{_parentage:ee}=this;ee===ne?this._parentage=null:Array.isArray(ee)&&(0,pe.P)(ee,ne)}remove(ne){const{_finalizers:ee}=this;ee&&(0,pe.P)(ee,ne),ne instanceof ye&&ne._removeParent(this)}}ye.EMPTY=(()=>{const Se=new ye;return Se.closed=!0,Se})();const De=ye.EMPTY;function ae(Se){return Se instanceof ye||Se&&"closed"in Se&&(0,s.m)(Se.remove)&&(0,s.m)(Se.add)&&(0,s.m)(Se.unsubscribe)}function ve(Se){(0,s.m)(Se)?Se():Se.unsubscribe()}},2416:(It,_e,j)=>{"use strict";j.d(_e,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(It,_e,j)=>{"use strict";j.d(_e,{E:()=>L});const L=new(j(9751).y)(ye=>ye.complete())},8996:(It,_e,j)=>{"use strict";j.d(_e,{D:()=>Ue});var s=j(8421),L=j(5363),U=j(9468),De=j(9751),ve=j(2202),Se=j(576),ne=j(9672);function oe(ke,st){if(!ke)throw new Error("Iterable cannot be null");return new De.y(de=>{(0,ne.f)(de,st,()=>{const Ae=ke[Symbol.asyncIterator]();(0,ne.f)(de,st,()=>{Ae.next().then(Ee=>{Ee.done?de.complete():de.next(Ee.value)})},0,!0)})})}var Je=j(3670),Ve=j(8239),Oe=j(1144),rt=j(6495),Me=j(2206),be=j(4532),Ze=j(3260);function Ue(ke,st){return st?function je(ke,st){if(null!=ke){if((0,Je.c)(ke))return function pe(ke,st){return(0,s.Xf)(ke).pipe((0,U.R)(st),(0,L.Q)(st))}(ke,st);if((0,Oe.z)(ke))return function ae(ke,st){return new De.y(de=>{let Ae=0;return st.schedule(function(){Ae===ke.length?de.complete():(de.next(ke[Ae++]),de.closed||this.schedule())})})}(ke,st);if((0,Ve.t)(ke))return function ye(ke,st){return(0,s.Xf)(ke).pipe((0,U.R)(st),(0,L.Q)(st))}(ke,st);if((0,Me.D)(ke))return oe(ke,st);if((0,rt.T)(ke))return function ee(ke,st){return new De.y(de=>{let Ae;return(0,ne.f)(de,st,()=>{Ae=ke[ve.h](),(0,ne.f)(de,st,()=>{let Ee,re;try{({value:Ee,done:re}=Ae.next())}catch(ce){return void de.error(ce)}re?de.complete():de.next(Ee)},0,!0)}),()=>(0,Se.m)(Ae?.return)&&Ae.return()})}(ke,st);if((0,Ze.L)(ke))return function ut(ke,st){return oe((0,Ze.Q)(ke),st)}(ke,st)}throw(0,be.z)(ke)}(ke,st):(0,s.Xf)(ke)}},8421:(It,_e,j)=>{"use strict";j.d(_e,{Xf:()=>Je});var s=j(655),L=j(1144),U=j(8239),pe=j(9751),ye=j(3670),De=j(2206),ae=j(4532),ve=j(6495),Se=j(3260),ne=j(576),ee=j(7849),oe=j(8822);function Je(je){if(je instanceof pe.y)return je;if(null!=je){if((0,ye.c)(je))return function Ve(je){return new pe.y(Ue=>{const ke=je[oe.L]();if((0,ne.m)(ke.subscribe))return ke.subscribe(Ue);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(je);if((0,L.z)(je))return function Oe(je){return new pe.y(Ue=>{for(let ke=0;ke<je.length&&!Ue.closed;ke++)Ue.next(je[ke]);Ue.complete()})}(je);if((0,U.t)(je))return function rt(je){return new pe.y(Ue=>{je.then(ke=>{Ue.closed||(Ue.next(ke),Ue.complete())},ke=>Ue.error(ke)).then(null,ee.h)})}(je);if((0,De.D)(je))return be(je);if((0,ve.T)(je))return function Me(je){return new pe.y(Ue=>{for(const ke of je)if(Ue.next(ke),Ue.closed)return;Ue.complete()})}(je);if((0,Se.L)(je))return function Ze(je){return be((0,Se.Q)(je))}(je)}throw(0,ae.z)(je)}function be(je){return new pe.y(Ue=>{(function ut(je,Ue){var ke,st,de,Ae;return(0,s.mG)(this,void 0,void 0,function*(){try{for(ke=(0,s.KL)(je);!(st=yield ke.next()).done;)if(Ue.next(st.value),Ue.closed)return}catch(Ee){de={error:Ee}}finally{try{st&&!st.done&&(Ae=ke.return)&&(yield Ae.call(ke))}finally{if(de)throw de.error}}Ue.complete()})})(je,Ue).catch(ke=>Ue.error(ke))})}},6451:(It,_e,j)=>{"use strict";j.d(_e,{T:()=>De});var s=j(8189),L=j(8421),U=j(515),pe=j(3269),ye=j(8996);function De(...ae){const ve=(0,pe.yG)(ae),Se=(0,pe._6)(ae,1/0),ne=ae;return ne.length?1===ne.length?(0,L.Xf)(ne[0]):(0,s.J)(Se)((0,ye.D)(ne,ve)):U.E}},5403:(It,_e,j)=>{"use strict";j.d(_e,{x:()=>L});var s=j(930);function L(pe,ye,De,ae,ve){return new U(pe,ye,De,ae,ve)}class U extends s.Lv{constructor(ye,De,ae,ve,Se,ne){super(ye),this.onFinalize=Se,this.shouldUnsubscribe=ne,this._next=De?function(ee){try{De(ee)}catch(oe){ye.error(oe)}}:super._next,this._error=ve?function(ee){try{ve(ee)}catch(oe){ye.error(oe)}finally{this.unsubscribe()}}:super._error,this._complete=ae?function(){try{ae()}catch(ee){ye.error(ee)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ye;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:De}=this;super.unsubscribe(),!De&&(null===(ye=this.onFinalize)||void 0===ye||ye.call(this))}}}},4004:(It,_e,j)=>{"use strict";j.d(_e,{U:()=>U});var s=j(4482),L=j(5403);function U(pe,ye){return(0,s.e)((De,ae)=>{let ve=0;De.subscribe((0,L.x)(ae,Se=>{ae.next(pe.call(ye,Se,ve++))}))})}},8189:(It,_e,j)=>{"use strict";j.d(_e,{J:()=>U});var s=j(5577),L=j(4671);function U(pe=1/0){return(0,s.z)(L.y,pe)}},5577:(It,_e,j)=>{"use strict";j.d(_e,{z:()=>ve});var s=j(4004),L=j(8421),U=j(4482),pe=j(9672),ye=j(5403),ae=j(576);function ve(Se,ne,ee=1/0){return(0,ae.m)(ne)?ve((oe,Je)=>(0,s.U)((Ve,Oe)=>ne(oe,Ve,Je,Oe))((0,L.Xf)(Se(oe,Je))),ee):("number"==typeof ne&&(ee=ne),(0,U.e)((oe,Je)=>function De(Se,ne,ee,oe,Je,Ve,Oe,rt){const Me=[];let be=0,Ze=0,ut=!1;const je=()=>{ut&&!Me.length&&!be&&ne.complete()},Ue=st=>be<oe?ke(st):Me.push(st),ke=st=>{Ve&&ne.next(st),be++;let de=!1;(0,L.Xf)(ee(st,Ze++)).subscribe((0,ye.x)(ne,Ae=>{Je?.(Ae),Ve?Ue(Ae):ne.next(Ae)},()=>{de=!0},void 0,()=>{if(de)try{for(be--;Me.length&&be<oe;){const Ae=Me.shift();Oe?(0,pe.f)(ne,Oe,()=>ke(Ae)):ke(Ae)}je()}catch(Ae){ne.error(Ae)}}))};return Se.subscribe((0,ye.x)(ne,Ue,()=>{ut=!0,je()})),()=>{rt?.()}}(oe,Je,Se,ee)))}},5363:(It,_e,j)=>{"use strict";j.d(_e,{Q:()=>pe});var s=j(9672),L=j(4482),U=j(5403);function pe(ye,De=0){return(0,L.e)((ae,ve)=>{ae.subscribe((0,U.x)(ve,Se=>(0,s.f)(ve,ye,()=>ve.next(Se),De),()=>(0,s.f)(ve,ye,()=>ve.complete(),De),Se=>(0,s.f)(ve,ye,()=>ve.error(Se),De)))})}},3099:(It,_e,j)=>{"use strict";j.d(_e,{B:()=>ye});var s=j(8421),L=j(7579),U=j(930),pe=j(4482);function ye(ae={}){const{connector:ve=(()=>new L.x),resetOnError:Se=!0,resetOnComplete:ne=!0,resetOnRefCountZero:ee=!0}=ae;return oe=>{let Je,Ve,Oe,rt=0,Me=!1,be=!1;const Ze=()=>{Ve?.unsubscribe(),Ve=void 0},ut=()=>{Ze(),Je=Oe=void 0,Me=be=!1},je=()=>{const Ue=Je;ut(),Ue?.unsubscribe()};return(0,pe.e)((Ue,ke)=>{rt++,!be&&!Me&&Ze();const st=Oe=Oe??ve();ke.add(()=>{rt--,0===rt&&!be&&!Me&&(Ve=De(je,ee))}),st.subscribe(ke),!Je&&rt>0&&(Je=new U.Hp({next:de=>st.next(de),error:de=>{be=!0,Ze(),Ve=De(ut,Se,de),st.error(de)},complete:()=>{Me=!0,Ze(),Ve=De(ut,ne),st.complete()}}),(0,s.Xf)(Ue).subscribe(Je))})(oe)}}function De(ae,ve,...Se){if(!0===ve)return void ae();if(!1===ve)return;const ne=new U.Hp({next:()=>{ne.unsubscribe(),ae()}});return ve(...Se).subscribe(ne)}},9468:(It,_e,j)=>{"use strict";j.d(_e,{R:()=>L});var s=j(4482);function L(U,pe=0){return(0,s.e)((ye,De)=>{De.add(U.schedule(()=>ye.subscribe(De),pe))})}},8505:(It,_e,j)=>{"use strict";j.d(_e,{b:()=>ye});var s=j(576),L=j(4482),U=j(5403),pe=j(4671);function ye(De,ae,ve){const Se=(0,s.m)(De)||ae||ve?{next:De,error:ae,complete:ve}:De;return Se?(0,L.e)((ne,ee)=>{var oe;null===(oe=Se.subscribe)||void 0===oe||oe.call(Se);let Je=!0;ne.subscribe((0,U.x)(ee,Ve=>{var Oe;null===(Oe=Se.next)||void 0===Oe||Oe.call(Se,Ve),ee.next(Ve)},()=>{var Ve;Je=!1,null===(Ve=Se.complete)||void 0===Ve||Ve.call(Se),ee.complete()},Ve=>{var Oe;Je=!1,null===(Oe=Se.error)||void 0===Oe||Oe.call(Se,Ve),ee.error(Ve)},()=>{var Ve,Oe;Je&&(null===(Ve=Se.unsubscribe)||void 0===Ve||Ve.call(Se)),null===(Oe=Se.finalize)||void 0===Oe||Oe.call(Se)}))}):pe.y}},4408:(It,_e,j)=>{"use strict";j.d(_e,{o:()=>ye});var s=j(727);class L extends s.w0{constructor(ae,ve){super()}schedule(ae,ve=0){return this}}const U={setInterval(De,ae,...ve){const{delegate:Se}=U;return Se?.setInterval?Se.setInterval(De,ae,...ve):setInterval(De,ae,...ve)},clearInterval(De){const{delegate:ae}=U;return(ae?.clearInterval||clearInterval)(De)},delegate:void 0};var pe=j(8737);class ye extends L{constructor(ae,ve){super(ae,ve),this.scheduler=ae,this.work=ve,this.pending=!1}schedule(ae,ve=0){var Se;if(this.closed)return this;this.state=ae;const ne=this.id,ee=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId(ee,ne,ve)),this.pending=!0,this.delay=ve,this.id=null!==(Se=this.id)&&void 0!==Se?Se:this.requestAsyncId(ee,this.id,ve),this}requestAsyncId(ae,ve,Se=0){return U.setInterval(ae.flush.bind(ae,this),Se)}recycleAsyncId(ae,ve,Se=0){if(null!=Se&&this.delay===Se&&!1===this.pending)return ve;null!=ve&&U.clearInterval(ve)}execute(ae,ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Se=this._execute(ae,ve);if(Se)return Se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,ve){let ne,Se=!1;try{this.work(ae)}catch(ee){Se=!0,ne=ee||new Error("Scheduled action threw falsy error")}if(Se)return this.unsubscribe(),ne}unsubscribe(){if(!this.closed){const{id:ae,scheduler:ve}=this,{actions:Se}=ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,pe.P)(Se,this),null!=ae&&(this.id=this.recycleAsyncId(ve,ae,null)),this.delay=null,super.unsubscribe()}}}},7565:(It,_e,j)=>{"use strict";j.d(_e,{v:()=>U});var s=j(6063);class L{constructor(ye,De=L.now){this.schedulerActionCtor=ye,this.now=De}schedule(ye,De=0,ae){return new this.schedulerActionCtor(this,ye).schedule(ae,De)}}L.now=s.l.now;class U extends L{constructor(ye,De=L.now){super(ye,De),this.actions=[],this._active=!1}flush(ye){const{actions:De}=this;if(this._active)return void De.push(ye);let ae;this._active=!0;do{if(ae=ye.execute(ye.state,ye.delay))break}while(ye=De.shift());if(this._active=!1,ae){for(;ye=De.shift();)ye.unsubscribe();throw ae}}}},4986:(It,_e,j)=>{"use strict";j.d(_e,{P:()=>pe,z:()=>U});var s=j(4408);const U=new(j(7565).v)(s.o),pe=U},6063:(It,_e,j)=>{"use strict";j.d(_e,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(It,_e,j)=>{"use strict";j.d(_e,{z:()=>s});const s={setTimeout(L,U,...pe){const{delegate:ye}=s;return ye?.setTimeout?ye.setTimeout(L,U,...pe):setTimeout(L,U,...pe)},clearTimeout(L){const{delegate:U}=s;return(U?.clearTimeout||clearTimeout)(L)},delegate:void 0}},2202:(It,_e,j)=>{"use strict";j.d(_e,{h:()=>L});const L=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(It,_e,j)=>{"use strict";j.d(_e,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(It,_e,j)=>{"use strict";j.d(_e,{_6:()=>De,jO:()=>pe,yG:()=>ye});var s=j(576),L=j(3532);function U(ae){return ae[ae.length-1]}function pe(ae){return(0,s.m)(U(ae))?ae.pop():void 0}function ye(ae){return(0,L.K)(U(ae))?ae.pop():void 0}function De(ae,ve){return"number"==typeof U(ae)?ae.pop():ve}},8737:(It,_e,j)=>{"use strict";function s(L,U){if(L){const pe=L.indexOf(U);0<=pe&&L.splice(pe,1)}}j.d(_e,{P:()=>s})},3888:(It,_e,j)=>{"use strict";function s(L){const pe=L(ye=>{Error.call(ye),ye.stack=(new Error).stack});return pe.prototype=Object.create(Error.prototype),pe.prototype.constructor=pe,pe}j.d(_e,{d:()=>s})},2806:(It,_e,j)=>{"use strict";j.d(_e,{O:()=>pe,x:()=>U});var s=j(2416);let L=null;function U(ye){if(s.v.useDeprecatedSynchronousErrorHandling){const De=!L;if(De&&(L={errorThrown:!1,error:null}),ye(),De){const{errorThrown:ae,error:ve}=L;if(L=null,ae)throw ve}}else ye()}function pe(ye){s.v.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=ye)}},9672:(It,_e,j)=>{"use strict";function s(L,U,pe,ye=0,De=!1){const ae=U.schedule(function(){pe(),De?L.add(this.schedule(null,ye)):this.unsubscribe()},ye);if(L.add(ae),!De)return ae}j.d(_e,{f:()=>s})},4671:(It,_e,j)=>{"use strict";function s(L){return L}j.d(_e,{y:()=>s})},1144:(It,_e,j)=>{"use strict";j.d(_e,{z:()=>s});const s=L=>L&&"number"==typeof L.length&&"function"!=typeof L},2206:(It,_e,j)=>{"use strict";j.d(_e,{D:()=>L});var s=j(576);function L(U){return Symbol.asyncIterator&&(0,s.m)(U?.[Symbol.asyncIterator])}},576:(It,_e,j)=>{"use strict";function s(L){return"function"==typeof L}j.d(_e,{m:()=>s})},3670:(It,_e,j)=>{"use strict";j.d(_e,{c:()=>U});var s=j(8822),L=j(576);function U(pe){return(0,L.m)(pe[s.L])}},6495:(It,_e,j)=>{"use strict";j.d(_e,{T:()=>U});var s=j(2202),L=j(576);function U(pe){return(0,L.m)(pe?.[s.h])}},8239:(It,_e,j)=>{"use strict";j.d(_e,{t:()=>L});var s=j(576);function L(U){return(0,s.m)(U?.then)}},3260:(It,_e,j)=>{"use strict";j.d(_e,{L:()=>pe,Q:()=>U});var s=j(655),L=j(576);function U(ye){return(0,s.FC)(this,arguments,function*(){const ae=ye.getReader();try{for(;;){const{value:ve,done:Se}=yield(0,s.qq)(ae.read());if(Se)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(ve)}}finally{ae.releaseLock()}})}function pe(ye){return(0,L.m)(ye?.getReader)}},3532:(It,_e,j)=>{"use strict";j.d(_e,{K:()=>L});var s=j(576);function L(U){return U&&(0,s.m)(U.schedule)}},4482:(It,_e,j)=>{"use strict";j.d(_e,{A:()=>L,e:()=>U});var s=j(576);function L(pe){return(0,s.m)(pe?.lift)}function U(pe){return ye=>{if(L(ye))return ye.lift(function(De){try{return pe(De,this)}catch(ae){this.error(ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(It,_e,j)=>{"use strict";function s(){}j.d(_e,{Z:()=>s})},9635:(It,_e,j)=>{"use strict";j.d(_e,{U:()=>U,z:()=>L});var s=j(4671);function L(...pe){return U(pe)}function U(pe){return 0===pe.length?s.y:1===pe.length?pe[0]:function(De){return pe.reduce((ae,ve)=>ve(ae),De)}}},7849:(It,_e,j)=>{"use strict";j.d(_e,{h:()=>U});var s=j(2416),L=j(3410);function U(pe){L.z.setTimeout(()=>{const{onUnhandledError:ye}=s.v;if(!ye)throw pe;ye(pe)})}},4532:(It,_e,j)=>{"use strict";function s(L){return new TypeError(`You provided ${null!==L&&"object"==typeof L?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d(_e,{z:()=>s})},5226:function(It){It.exports=function(){"use strict";var _e={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const s=D=>{const S={};for(const R in D)S[D[R]]="swal2-"+D[R];return S},L=s(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),U=s(["success","warning","info","question","error"]),pe="SweetAlert2:",De=D=>D.charAt(0).toUpperCase()+D.slice(1),ae=D=>{console.warn(`${pe} ${"object"==typeof D?D.join(" "):D}`)},ve=D=>{console.error(`${pe} ${D}`)},Se=[],ee=(D,S)=>{(D=>{Se.includes(D)||(Se.push(D),ae(D))})(`"${D}" is deprecated and will be removed in the next major release. Please use "${S}" instead.`)},oe=D=>"function"==typeof D?D():D,Je=D=>D&&"function"==typeof D.toPromise,Ve=D=>Je(D)?D.toPromise():Promise.resolve(D),Oe=D=>D&&Promise.resolve(D)===D,rt=()=>document.body.querySelector(`.${L.container}`),Me=D=>{const S=rt();return S?S.querySelector(D):null},be=D=>Me(`.${D}`),Ze=()=>be(L.popup),ut=()=>be(L.icon),Ue=()=>be(L.title),ke=()=>be(L["html-container"]),st=()=>be(L.image),de=()=>be(L["progress-steps"]),Ae=()=>be(L["validation-message"]),Ee=()=>Me(`.${L.actions} .${L.confirm}`),re=()=>Me(`.${L.actions} .${L.deny}`),we=()=>Me(`.${L.loader}`),fe=()=>Me(`.${L.actions} .${L.cancel}`),We=()=>be(L.actions),Qe=()=>be(L.footer),Ct=()=>be(L["timer-progress-bar"]),An=()=>be(L.close),lt=()=>{const D=Array.from(Ze().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((R,K)=>{const Te=parseInt(R.getAttribute("tabindex")),At=parseInt(K.getAttribute("tabindex"));return Te>At?1:Te<At?-1:0}),S=Array.from(Ze().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(R=>"-1"!==R.getAttribute("tabindex"));return(D=>{const S=[];for(let R=0;R<D.length;R++)-1===S.indexOf(D[R])&&S.push(D[R]);return S})(D.concat(S)).filter(R=>dn(R))},Rn=()=>Nt(document.body,L.shown)&&!Nt(document.body,L["toast-shown"])&&!Nt(document.body,L["no-backdrop"]),Fn=()=>Ze()&&Nt(Ze(),L.toast),un={previousBodyPadding:null},Bt=(D,S)=>{if(D.textContent="",S){const K=(new DOMParser).parseFromString(S,"text/html");Array.from(K.querySelector("head").childNodes).forEach(Te=>{D.appendChild(Te)}),Array.from(K.querySelector("body").childNodes).forEach(Te=>{Te instanceof HTMLVideoElement||Te instanceof HTMLAudioElement?D.appendChild(Te.cloneNode(!0)):D.appendChild(Te)})}},Nt=(D,S)=>{if(!S)return!1;const R=S.split(/\s+/);for(let K=0;K<R.length;K++)if(!D.classList.contains(R[K]))return!1;return!0},pi=(D,S,R)=>{if(((D,S)=>{Array.from(D.classList).forEach(R=>{!Object.values(L).includes(R)&&!Object.values(U).includes(R)&&!Object.values(S.showClass).includes(R)&&D.classList.remove(R)})})(D,S),S.customClass&&S.customClass[R]){if("string"!=typeof S.customClass[R]&&!S.customClass[R].forEach)return void ae(`Invalid type of customClass.${R}! Expected string or iterable object, got "${typeof S.customClass[R]}"`);en(D,S.customClass[R])}},Zi=(D,S)=>{if(!S)return null;switch(S){case"select":case"textarea":case"file":return D.querySelector(`.${L.popup} > .${L[S]}`);case"checkbox":return D.querySelector(`.${L.popup} > .${L.checkbox} input`);case"radio":return D.querySelector(`.${L.popup} > .${L.radio} input:checked`)||D.querySelector(`.${L.popup} > .${L.radio} input:first-child`);case"range":return D.querySelector(`.${L.popup} > .${L.range} input`);default:return D.querySelector(`.${L.popup} > .${L.input}`)}},Xn=D=>{if(D.focus(),"file"!==D.type){const S=D.value;D.value="",D.value=S}},Yr=(D,S,R)=>{!D||!S||("string"==typeof S&&(S=S.split(/\s+/).filter(Boolean)),S.forEach(K=>{Array.isArray(D)?D.forEach(Te=>{R?Te.classList.add(K):Te.classList.remove(K)}):R?D.classList.add(K):D.classList.remove(K)}))},en=(D,S)=>{Yr(D,S,!0)},ei=(D,S)=>{Yr(D,S,!1)},Ln=(D,S)=>{const R=Array.from(D.children);for(let K=0;K<R.length;K++){const Te=R[K];if(Te instanceof HTMLElement&&Nt(Te,S))return Te}},Wi=(D,S,R)=>{R===`${parseInt(R)}`&&(R=parseInt(R)),R||0===parseInt(R)?D.style[S]="number"==typeof R?`${R}px`:R:D.style.removeProperty(S)},Zn=function(D){D.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},nt=D=>{D.style.display="none"},bi=(D,S,R,K)=>{const Te=D.querySelector(S);Te&&(Te.style[R]=K)},ti=function(D,S){S?Zn(D,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):nt(D)},dn=D=>!(!D||!(D.offsetWidth||D.offsetHeight||D.getClientRects().length)),Ls=D=>D.scrollHeight>D.clientHeight,zn=D=>{const S=window.getComputedStyle(D),R=parseFloat(S.getPropertyValue("animation-duration")||"0"),K=parseFloat(S.getPropertyValue("transition-duration")||"0");return R>0||K>0},jn=function(D){let S=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const R=Ct();dn(R)&&(S&&(R.style.transition="none",R.style.width="100%"),setTimeout(()=>{R.style.transition=`width ${D/1e3}s linear`,R.style.width="0%"},10))},Xe={},ur=D=>new Promise(S=>{if(!D)return S();const R=window.scrollX,K=window.scrollY;Xe.restoreFocusTimeout=setTimeout(()=>{Xe.previousActiveElement instanceof HTMLElement?(Xe.previousActiveElement.focus(),Xe.previousActiveElement=null):document.body&&document.body.focus(),S()},100),window.scrollTo(R,K)}),gi=()=>typeof window>"u"||typeof document>"u",er=`\n <div aria-labelledby="${L.title}" aria-describedby="${L["html-container"]}" class="${L.popup}" tabindex="-1">\n   <button type="button" class="${L.close}"></button>\n   <ul class="${L["progress-steps"]}"></ul>\n   <div class="${L.icon}"></div>\n   <img class="${L.image}" />\n   <h2 class="${L.title}" id="${L.title}"></h2>\n   <div class="${L["html-container"]}" id="${L["html-container"]}"></div>\n   <input class="${L.input}" />\n   <input type="file" class="${L.file}" />\n   <div class="${L.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${L.select}"></select>\n   <div class="${L.radio}"></div>\n   <label for="${L.checkbox}" class="${L.checkbox}">\n     <input type="checkbox" />\n     <span class="${L.label}"></span>\n   </label>\n   <textarea class="${L.textarea}"></textarea>\n   <div class="${L["validation-message"]}" id="${L["validation-message"]}"></div>\n   <div class="${L.actions}">\n     <div class="${L.loader}"></div>\n     <button type="button" class="${L.confirm}"></button>\n     <button type="button" class="${L.deny}"></button>\n     <button type="button" class="${L.cancel}"></button>\n   </div>\n   <div class="${L.footer}"></div>\n   <div class="${L["timer-progress-bar-container"]}">\n     <div class="${L["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),mi=()=>{Xe.currentInstance.resetValidationMessage()},Qn=D=>{const S=(()=>{const D=rt();return!!D&&(D.remove(),ei([document.documentElement,document.body],[L["no-backdrop"],L["toast-shown"],L["has-column"]]),!0)})();if(gi())return void ve("SweetAlert2 requires document to initialize");const R=document.createElement("div");R.className=L.container,S&&en(R,L["no-transition"]),Bt(R,er);const K=(D=>"string"==typeof D?document.querySelector(D):D)(D.target);K.appendChild(R),(D=>{const S=Ze();S.setAttribute("role",D.toast?"alert":"dialog"),S.setAttribute("aria-live",D.toast?"polite":"assertive"),D.toast||S.setAttribute("aria-modal","true")})(D),(D=>{"rtl"===window.getComputedStyle(D).direction&&en(rt(),L.rtl)})(K),(()=>{const D=Ze(),S=Ln(D,L.input),R=Ln(D,L.file),K=D.querySelector(`.${L.range} input`),Te=D.querySelector(`.${L.range} output`),At=Ln(D,L.select),sn=D.querySelector(`.${L.checkbox} input`),Kr=Ln(D,L.textarea);S.oninput=mi,R.onchange=mi,At.onchange=mi,sn.onchange=mi,Kr.oninput=mi,K.oninput=()=>{mi(),Te.value=K.value},K.onchange=()=>{mi(),Te.value=K.value}})()},pt=(D,S)=>{D instanceof HTMLElement?S.appendChild(D):"object"==typeof D?Pe(D,S):D&&Bt(S,D)},Pe=(D,S)=>{D.jquery?mt(S,D):Bt(S,D.toString())},mt=(D,S)=>{if(D.textContent="",0 in S)for(let R=0;R in S;R++)D.appendChild(S[R].cloneNode(!0));else D.appendChild(S.cloneNode(!0))},Tt=(()=>{if(gi())return!1;const D=document.createElement("div"),S={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const R in S)if(Object.prototype.hasOwnProperty.call(S,R)&&typeof D.style[R]<"u")return S[R];return!1})(),_n=(D,S)=>{const R=We(),K=we();S.showConfirmButton||S.showDenyButton||S.showCancelButton?Zn(R):nt(R),pi(R,S,"actions"),function te(D,S,R){const K=Ee(),Te=re(),At=fe();ie(K,"confirm",R),ie(Te,"deny",R),ie(At,"cancel",R),function Q(D,S,R,K){K.buttonsStyling?(en([D,S,R],L.styled),K.confirmButtonColor&&(D.style.backgroundColor=K.confirmButtonColor,en(D,L["default-outline"])),K.denyButtonColor&&(S.style.backgroundColor=K.denyButtonColor,en(S,L["default-outline"])),K.cancelButtonColor&&(R.style.backgroundColor=K.cancelButtonColor,en(R,L["default-outline"]))):ei([D,S,R],L.styled)}(K,Te,At,R),R.reverseButtons&&(R.toast?(D.insertBefore(At,K),D.insertBefore(Te,K)):(D.insertBefore(At,S),D.insertBefore(Te,S),D.insertBefore(K,S)))}(R,K,S),Bt(K,S.loaderHtml),pi(K,S,"loader")};function ie(D,S,R){ti(D,R[`show${De(S)}Button`],"inline-block"),Bt(D,R[`${S}ButtonText`]),D.setAttribute("aria-label",R[`${S}ButtonAriaLabel`]),D.className=L[S],pi(D,R,`${S}Button`),en(D,R[`${S}ButtonClass`])}const V=(D,S)=>{const R=rt();!R||(function W(D,S){"string"==typeof S?D.style.background=S:S||en([document.documentElement,document.body],L["no-backdrop"])}(R,S.backdrop),function he(D,S){S in L?en(D,L[S]):(ae('The "position" parameter is not valid, defaulting to "center"'),en(D,L.center))}(R,S.position),function Ge(D,S){if(S&&"string"==typeof S){const R=`grow-${S}`;R in L&&en(D,L[R])}}(R,S.grow),pi(R,S,"container"))};const _t=["input","file","range","select","radio","checkbox","textarea"],Ne=D=>{if(!wi[D.input])return void ve(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${D.input}"`);const S=rs(D.input),R=wi[D.input](S,D);Zn(S),setTimeout(()=>{Xn(R)})},Zt=(D,S)=>{const R=Zi(Ze(),D);if(R){(D=>{for(let S=0;S<D.attributes.length;S++){const R=D.attributes[S].name;["type","value","style"].includes(R)||D.removeAttribute(R)}})(R);for(const K in S)R.setAttribute(K,S[K])}},Bn=D=>{const S=rs(D.input);"object"==typeof D.customClass&&en(S,D.customClass.input)},Wt=(D,S)=>{(!D.placeholder||S.inputPlaceholder)&&(D.placeholder=S.inputPlaceholder)},In=(D,S,R)=>{if(R.inputLabel){D.id=L.input;const K=document.createElement("label"),Te=L["input-label"];K.setAttribute("for",D.id),K.className=Te,"object"==typeof R.customClass&&en(K,R.customClass.inputLabel),K.innerText=R.inputLabel,S.insertAdjacentElement("beforebegin",K)}},rs=D=>Ln(Ze(),L[D]||L.input),Vn=(D,S)=>{["string","number"].includes(typeof S)?D.value=`${S}`:Oe(S)||ae(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof S}"`)},wi={};wi.text=wi.email=wi.password=wi.number=wi.tel=wi.url=(D,S)=>(Vn(D,S.inputValue),In(D,D,S),Wt(D,S),D.type=S.input,D),wi.file=(D,S)=>(In(D,D,S),Wt(D,S),D),wi.range=(D,S)=>{const R=D.querySelector("input"),K=D.querySelector("output");return Vn(R,S.inputValue),R.type=S.input,Vn(K,S.inputValue),In(R,D,S),D},wi.select=(D,S)=>{if(D.textContent="",S.inputPlaceholder){const R=document.createElement("option");Bt(R,S.inputPlaceholder),R.value="",R.disabled=!0,R.selected=!0,D.appendChild(R)}return In(D,D,S),D},wi.radio=D=>(D.textContent="",D),wi.checkbox=(D,S)=>{const R=Zi(Ze(),"checkbox");R.value="1",R.id=L.checkbox,R.checked=Boolean(S.inputValue);const K=D.querySelector("span");return Bt(K,S.inputPlaceholder),R},wi.textarea=(D,S)=>{Vn(D,S.inputValue),Wt(D,S),In(D,D,S);return setTimeout(()=>{if("MutationObserver"in window){const K=parseInt(window.getComputedStyle(Ze()).width);new MutationObserver(()=>{const At=D.offsetWidth+(K=>parseInt(window.getComputedStyle(K).marginLeft)+parseInt(window.getComputedStyle(K).marginRight))(D);Ze().style.width=At>K?`${At}px`:null}).observe(D,{attributes:!0,attributeFilter:["style"]})}}),D};const zo=(D,S)=>{const R=ke();pi(R,S,"htmlContainer"),S.html?(pt(S.html,R),Zn(R,"block")):S.text?(R.textContent=S.text,Zn(R,"block")):nt(R),((D,S)=>{const R=Ze(),K=_e.innerParams.get(D),Te=!K||S.input!==K.input;_t.forEach(At=>{const sn=Ln(R,L[At]);Zt(At,S.inputAttributes),sn.className=L[At],Te&&nt(sn)}),S.input&&(Te&&Ne(S),Bn(S))})(D,S)},Bs=(D,S)=>{for(const R in U)S.icon!==R&&ei(D,U[R]);en(D,U[S.icon]),mr(D,S),yl(),pi(D,S,"icon")},yl=()=>{const D=Ze(),S=window.getComputedStyle(D).getPropertyValue("background-color"),R=D.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let K=0;K<R.length;K++)R[K].style.backgroundColor=S},Vs=(D,S)=>{let K,R=D.innerHTML;S.iconHtml?K=_r(S.iconHtml):"success"===S.icon?(K='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',R=R.replace(/ style=".*?"/g,"")):K="error"===S.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':_r({question:"?",warning:"!",info:"i"}[S.icon]),R.trim()!==K.trim()&&Bt(D,K)},mr=(D,S)=>{if(S.iconColor){D.style.color=S.iconColor,D.style.borderColor=S.iconColor;for(const R of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])bi(D,R,"backgroundColor",S.iconColor);bi(D,".swal2-success-ring","borderColor",S.iconColor)}},_r=D=>`<div class="${L["icon-content"]}">${D}</div>`,hn=(D,S)=>{D.className=`${L.popup} ${dn(D)?S.showClass.popup:""}`,S.toast?(en([document.documentElement,document.body],L["toast-shown"]),en(D,L.toast)):en(D,L.modal),pi(D,S,"popup"),"string"==typeof S.customClass&&en(D,S.customClass),S.icon&&en(D,L[`icon-${S.icon}`])},wa=D=>{const S=document.createElement("li");return en(S,L["progress-step"]),Bt(S,D),S},Ca=D=>{const S=document.createElement("li");return en(S,L["progress-step-line"]),D.progressStepsDistance&&Wi(S,"width",D.progressStepsDistance),S},Nn=(D,S)=>{((D,S)=>{const R=rt(),K=Ze();S.toast?(Wi(R,"width",S.width),K.style.width="100%",K.insertBefore(we(),ut())):Wi(K,"width",S.width),Wi(K,"padding",S.padding),S.color&&(K.style.color=S.color),S.background&&(K.style.background=S.background),nt(Ae()),hn(K,S)})(0,S),V(0,S),((D,S)=>{const R=de();S.progressSteps&&0!==S.progressSteps.length?(Zn(R),R.textContent="",S.currentProgressStep>=S.progressSteps.length&&ae("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),S.progressSteps.forEach((K,Te)=>{const At=wa(K);if(R.appendChild(At),Te===S.currentProgressStep&&en(At,L["active-progress-step"]),Te!==S.progressSteps.length-1){const sn=Ca(S);R.appendChild(sn)}})):nt(R)})(0,S),((D,S)=>{const R=_e.innerParams.get(D),K=ut();R&&S.icon===R.icon?(Vs(K,S),Bs(K,S)):S.icon||S.iconHtml?S.icon&&-1===Object.keys(U).indexOf(S.icon)?(ve(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${S.icon}"`),nt(K)):(Zn(K),Vs(K,S),Bs(K,S),en(K,S.showClass.icon)):nt(K)})(D,S),((D,S)=>{const R=st();S.imageUrl?(Zn(R,""),R.setAttribute("src",S.imageUrl),R.setAttribute("alt",S.imageAlt),Wi(R,"width",S.imageWidth),Wi(R,"height",S.imageHeight),R.className=L.image,pi(R,S,"image")):nt(R)})(0,S),((D,S)=>{const R=Ue();ti(R,S.title||S.titleText,"block"),S.title&&pt(S.title,R),S.titleText&&(R.innerText=S.titleText),pi(R,S,"title")})(0,S),((D,S)=>{const R=An();Bt(R,S.closeButtonHtml),pi(R,S,"closeButton"),ti(R,S.showCloseButton),R.setAttribute("aria-label",S.closeButtonAriaLabel)})(0,S),zo(D,S),_n(0,S),((D,S)=>{const R=Qe();ti(R,S.footer),S.footer&&pt(S.footer,R),pi(R,S,"footer")})(0,S),"function"==typeof S.didRender&&S.didRender(Ze())};function Us(){const D=_e.innerParams.get(this);if(!D)return;const S=_e.domCache.get(this);nt(S.loader),Fn()?D.icon&&Zn(ut()):ws(S),ei([S.popup,S.actions],L.loading),S.popup.removeAttribute("aria-busy"),S.popup.removeAttribute("data-loading"),S.confirmButton.disabled=!1,S.denyButton.disabled=!1,S.cancelButton.disabled=!1}const ws=D=>{const S=D.popup.getElementsByClassName(D.loader.getAttribute("data-button-to-replace"));S.length?Zn(S[0],"inline-block"):!dn(Ee())&&!dn(re())&&!dn(fe())&&nt(D.actions)};const Di=()=>Ee()&&Ee().click(),Nr=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),co=D=>{D.keydownTarget&&D.keydownHandlerAdded&&(D.keydownTarget.removeEventListener("keydown",D.keydownHandler,{capture:D.keydownListenerCapture}),D.keydownHandlerAdded=!1)},Ea=(D,S,R)=>{const K=lt();if(K.length)return(S+=R)===K.length?S=0:-1===S&&(S=K.length-1),void K[S].focus();Ze().focus()},ad=["ArrowRight","ArrowDown"],uo=["ArrowLeft","ArrowUp"],jo=(D,S,R)=>{const K=_e.innerParams.get(D);!K||S.isComposing||229===S.keyCode||(K.stopKeydownPropagation&&S.stopPropagation(),"Enter"===S.key?ho(D,S,K):"Tab"===S.key?Fr(S,K):[...ad,...uo].includes(S.key)?hh(S.key):"Escape"===S.key&&Cs(S,K,R))},ho=(D,S,R)=>{if(oe(R.allowEnterKey)&&S.target&&D.getInput()&&S.target instanceof HTMLElement&&S.target.outerHTML===D.getInput().outerHTML){if(["textarea","file"].includes(R.input))return;Di(),S.preventDefault()}},Fr=(D,S)=>{const R=D.target,K=lt();let Te=-1;for(let At=0;At<K.length;At++)if(R===K[At]){Te=At;break}Ea(0,Te,D.shiftKey?-1:1),D.stopPropagation(),D.preventDefault()},hh=D=>{const S=Ee(),R=re(),K=fe();if(document.activeElement instanceof HTMLElement&&![S,R,K].includes(document.activeElement))return;const Te=ad.includes(D)?"nextElementSibling":"previousElementSibling";let At=document.activeElement;for(let sn=0;sn<We().children.length;sn++){if(At=At[Te],!At)return;if(At instanceof HTMLButtonElement&&dn(At))break}At instanceof HTMLButtonElement&&At.focus()},Cs=(D,S,R)=>{oe(S.allowEscapeKey)&&(D.preventDefault(),R(Nr.esc))};var Al={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const ld=()=>{Array.from(document.body.children).forEach(S=>{S.hasAttribute("data-previous-aria-hidden")?(S.setAttribute("aria-hidden",S.getAttribute("data-previous-aria-hidden")),S.removeAttribute("data-previous-aria-hidden")):S.removeAttribute("aria-hidden")})},Go=()=>{const D=navigator.userAgent,S=!!D.match(/iPad/i)||!!D.match(/iPhone/i),R=!!D.match(/WebKit/i);S&&R&&!D.match(/CriOS/i)&&Ze().scrollHeight>window.innerHeight-44&&(rt().style.paddingBottom="44px")},ou=()=>{const D=rt();let S;D.ontouchstart=R=>{S=fh(R)},D.ontouchmove=R=>{S&&(R.preventDefault(),R.stopPropagation())}},fh=D=>{const S=D.target,R=rt();return!ph(D)&&!lc(D)&&(S===R||!Ls(R)&&S instanceof HTMLElement&&"INPUT"!==S.tagName&&"TEXTAREA"!==S.tagName&&!(Ls(ke())&&ke().contains(S)))},ph=D=>D.touches&&D.touches.length&&"stylus"===D.touches[0].touchType,lc=D=>D.touches&&D.touches.length>1,au=()=>{null===un.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(un.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${un.previousBodyPadding+(()=>{const D=document.createElement("div");D.className=L["scrollbar-measure"],document.body.appendChild(D);const S=D.getBoundingClientRect().width-D.clientWidth;return document.body.removeChild(D),S})()}px`)};function Hs(D,S,R,K){Fn()?po(D,K):(ur(R).then(()=>po(D,K)),co(Xe)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(S.setAttribute("style","display:none !important"),S.removeAttribute("class"),S.innerHTML=""):S.remove(),Rn()&&(null!==un.previousBodyPadding&&(document.body.style.paddingRight=`${un.previousBodyPadding}px`,un.previousBodyPadding=null),(()=>{if(Nt(document.body,L.iosfix)){const D=parseInt(document.body.style.top,10);ei(document.body,L.iosfix),document.body.style.top="",document.body.scrollTop=-1*D}})(),ld()),function lp(){ei([document.documentElement,document.body],[L.shown,L["height-auto"],L["no-backdrop"],L["toast-shown"]])}()}function fo(D){D=bl(D);const S=Al.swalPromiseResolve.get(this),R=Zo(this);this.isAwaitingPromise()?D.isDismissed||(Wo(this),S(D)):R&&S(D)}const Zo=D=>{const S=Ze();if(!S)return!1;const R=_e.innerParams.get(D);if(!R||Nt(S,R.hideClass.popup))return!1;ei(S,R.showClass.popup),en(S,R.hideClass.popup);const K=rt();return ei(K,R.showClass.backdrop),en(K,R.hideClass.backdrop),cc(D,S,R),!0};const Wo=D=>{D.isAwaitingPromise()&&(_e.awaitingPromise.delete(D),_e.innerParams.get(D)||D._destroy())},bl=D=>typeof D>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},D),cc=(D,S,R)=>{const K=rt(),Te=Tt&&zn(S);"function"==typeof R.willClose&&R.willClose(S),Te?cu(D,S,K,R.returnFocus,R.didClose):Hs(D,K,R.returnFocus,R.didClose)},cu=(D,S,R,K,Te)=>{Xe.swalCloseEventFinishedCallback=Hs.bind(null,D,R,K,Te),S.addEventListener(Tt,function(At){At.target===S&&(Xe.swalCloseEventFinishedCallback(),delete Xe.swalCloseEventFinishedCallback)})},po=(D,S)=>{setTimeout(()=>{"function"==typeof S&&S.bind(D.params)(),D._destroy()})};function Mi(D,S,R){const K=_e.domCache.get(D);S.forEach(Te=>{K[Te].disabled=R})}function vr(D,S){if(D)if("radio"===D.type){const K=D.parentNode.parentNode.querySelectorAll("input");for(let Te=0;Te<K.length;Te++)K[Te].disabled=S}else D.disabled=S}const js={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},li=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],uu={},cd=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Lr=D=>Object.prototype.hasOwnProperty.call(js,D),Vi=D=>-1!==li.indexOf(D),$o=D=>uu[D],mo=D=>{Lr(D)||ae(`Unknown parameter "${D}"`)},os=D=>{cd.includes(D)&&ae(`The parameter "${D}" is incompatible with toasts`)},Sn=D=>{$o(D)&&ee(D,$o(D))};const dc=D=>{const S={};return Object.keys(D).forEach(R=>{Vi(R)?S[R]=D[R]:ae(`Invalid parameter to update: ${R}`)}),S};const Ia=D=>{ci(D),delete D.params,delete Xe.keydownHandler,delete Xe.keydownTarget,delete Xe.currentInstance},ci=D=>{D.isAwaitingPromise()?(zt(_e,D),_e.awaitingPromise.set(D,!0)):(zt(Al,D),zt(_e,D))},zt=(D,S)=>{for(const R in D)D[R].delete(S)};var Ko=Object.freeze({__proto__:null,hideLoading:Us,disableLoading:Us,getInput:function bn(D){const S=_e.innerParams.get(D||this),R=_e.domCache.get(D||this);return R?Zi(R.popup,S.input):null},close:fo,isAwaitingPromise:function Yi(){return!!_e.awaitingPromise.get(this)},rejectPromise:function zs(D){const S=Al.swalPromiseReject.get(this);Wo(this),S&&S(D)},handleAwaitingPromise:Wo,closePopup:fo,closeModal:fo,closeToast:fo,enableButtons:function Es(){Mi(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function Ar(){Mi(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function go(){vr(this.getInput(),!1)},disableInput:function tr(){vr(this.getInput(),!0)},showValidationMessage:function Yo(D){const S=_e.domCache.get(this),R=_e.innerParams.get(this);Bt(S.validationMessage,D),S.validationMessage.className=L["validation-message"],R.customClass&&R.customClass.validationMessage&&en(S.validationMessage,R.customClass.validationMessage),Zn(S.validationMessage);const K=this.getInput();K&&(K.setAttribute("aria-invalid",!0),K.setAttribute("aria-describedby",L["validation-message"]),Xn(K),en(K,L.inputerror))},resetValidationMessage:function gh(){const D=_e.domCache.get(this);D.validationMessage&&nt(D.validationMessage);const S=this.getInput();S&&(S.removeAttribute("aria-invalid"),S.removeAttribute("aria-describedby"),ei(S,L.inputerror))},update:function Gs(D){const S=Ze(),R=_e.innerParams.get(this);if(!S||Nt(S,R.hideClass.popup))return void ae("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const K=dc(D),Te=Object.assign({},R,K);Nn(this,Te),_e.innerParams.set(this,Te),Object.defineProperties(this,{params:{value:Object.assign({},this.params,D),writable:!1,enumerable:!0}})},_destroy:function Br(){const D=_e.domCache.get(this),S=_e.innerParams.get(this);S?(D.popup&&Xe.swalCloseEventFinishedCallback&&(Xe.swalCloseEventFinishedCallback(),delete Xe.swalCloseEventFinishedCallback),"function"==typeof S.didDestroy&&S.didDestroy(),Ia(this)):ci(this)}});const Sa=D=>{let S=Ze();S||new ui,S=Ze();const R=we();Fn()?nt(ut()):Ta(S,D),Zn(R),S.setAttribute("data-loading","true"),S.setAttribute("aria-busy","true"),S.focus()},Ta=(D,S)=>{const R=We(),K=we();!S&&dn(Ee())&&(S=Ee()),Zn(R),S&&(nt(S),K.setAttribute("data-button-to-replace",S.className)),K.parentNode.insertBefore(K,S),en([D,R],L.loading)},_o=D=>D.checked?1:0,Ma=D=>D.checked?D.value:null,Qo=D=>D.files.length?null!==D.getAttribute("multiple")?D.files:D.files[0]:null,He=(D,S)=>{const R=Ze(),K=Te=>{ud[S.input](R,qs(Te),S)};Je(S.inputOptions)||Oe(S.inputOptions)?(Sa(Ee()),Ve(S.inputOptions).then(Te=>{D.hideLoading(),K(Te)})):"object"==typeof S.inputOptions?K(S.inputOptions):ve("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof S.inputOptions)},pn=(D,S)=>{const R=D.getInput();nt(R),Ve(S.inputValue).then(K=>{R.value="number"===S.input?`${parseFloat(K)||0}`:`${K}`,Zn(R),R.focus(),D.hideLoading()}).catch(K=>{ve(`Error in inputValue promise: ${K}`),R.value="",Zn(R),R.focus(),D.hideLoading()})},ud={select:(D,S,R)=>{const K=Ln(D,L.select),Te=(At,sn,Kr)=>{const qn=document.createElement("option");qn.value=Kr,Bt(qn,sn),qn.selected=Ii(Kr,R.inputValue),At.appendChild(qn)};S.forEach(At=>{const sn=At[0],Kr=At[1];if(Array.isArray(Kr)){const qn=document.createElement("optgroup");qn.label=sn,qn.disabled=!1,K.appendChild(qn),Kr.forEach(yo=>Te(qn,yo[1],yo[0]))}else Te(K,Kr,sn)}),K.focus()},radio:(D,S,R)=>{const K=Ln(D,L.radio);S.forEach(At=>{const sn=At[0],Kr=At[1],qn=document.createElement("input"),yo=document.createElement("label");qn.type="radio",qn.name=L.radio,qn.value=sn,Ii(sn,R.inputValue)&&(qn.checked=!0);const Qr=document.createElement("span");Bt(Qr,Kr),Qr.className=L.label,yo.appendChild(qn),yo.appendChild(Qr),K.appendChild(yo)});const Te=K.querySelectorAll("input");Te.length&&Te[0].focus()}},qs=D=>{const S=[];return typeof Map<"u"&&D instanceof Map?D.forEach((R,K)=>{let Te=R;"object"==typeof Te&&(Te=qs(Te)),S.push([K,Te])}):Object.keys(D).forEach(R=>{let K=D[R];"object"==typeof K&&(K=qs(K)),S.push([R,K])}),S},Ii=(D,S)=>S&&S.toString()===D.toString(),ka=(D,S)=>{const R=_e.innerParams.get(D);if(!R.input)return void ve(`The "input" parameter is needed to be set when using returnInputValueOn${De(S)}`);const K=((D,S)=>{const R=D.getInput();if(!R)return null;switch(S.input){case"checkbox":return _o(R);case"radio":return Ma(R);case"file":return Qo(R);default:return S.inputAutoTrim?R.value.trim():R.value}})(D,R);R.inputValidator?Xo(D,K,S):D.getInput().checkValidity()?"deny"===S?hc(D,K):Ds(D,K):(D.enableButtons(),D.showValidationMessage(R.validationMessage))},Xo=(D,S,R)=>{const K=_e.innerParams.get(D);D.disableInput(),Promise.resolve().then(()=>Ve(K.inputValidator(S,K.validationMessage))).then(At=>{D.enableButtons(),D.enableInput(),At?D.showValidationMessage(At):"deny"===R?hc(D,S):Ds(D,S)})},hc=(D,S)=>{const R=_e.innerParams.get(D||void 0);R.showLoaderOnDeny&&Sa(re()),R.preDeny?(_e.awaitingPromise.set(D||void 0,!0),Promise.resolve().then(()=>Ve(R.preDeny(S,R.validationMessage))).then(Te=>{!1===Te?(D.hideLoading(),Wo(D)):D.close({isDenied:!0,value:typeof Te>"u"?S:Te})}).catch(Te=>dd(D||void 0,Te))):D.close({isDenied:!0,value:S})},ea=(D,S)=>{D.close({isConfirmed:!0,value:S})},dd=(D,S)=>{D.rejectPromise(S)},Ds=(D,S)=>{const R=_e.innerParams.get(D||void 0);R.showLoaderOnConfirm&&Sa(),R.preConfirm?(D.resetValidationMessage(),_e.awaitingPromise.set(D||void 0,!0),Promise.resolve().then(()=>Ve(R.preConfirm(S,R.validationMessage))).then(Te=>{dn(Ae())||!1===Te?(D.hideLoading(),Wo(D)):ea(D,typeof Te>"u"?S:Te)}).catch(Te=>dd(D||void 0,Te))):ea(D,S)},as=(D,S,R)=>{S.popup.onclick=()=>{const K=_e.innerParams.get(D);K&&(Oa(K)||K.timer||K.input)||R(Nr.close)}},Oa=D=>D.showConfirmButton||D.showDenyButton||D.showCancelButton||D.showCloseButton;let Zs=!1;const Is=D=>{D.popup.onmousedown=()=>{D.container.onmouseup=function(S){D.container.onmouseup=void 0,S.target===D.container&&(Zs=!0)}}},hu=D=>{D.container.onmousedown=()=>{D.popup.onmouseup=function(S){D.popup.onmouseup=void 0,(S.target===D.popup||D.popup.contains(S.target))&&(Zs=!0)}}},fc=(D,S,R)=>{S.container.onclick=K=>{const Te=_e.innerParams.get(D);Zs?Zs=!1:K.target===S.container&&oe(Te.allowOutsideClick)&&R(Nr.backdrop)}},pu=D=>D instanceof Element||(D=>"object"==typeof D&&D.jquery)(D);const na=()=>{if(Xe.timeout)return(()=>{const D=Ct(),S=parseInt(window.getComputedStyle(D).width);D.style.removeProperty("transition"),D.style.width="100%";const K=S/parseInt(window.getComputedStyle(D).width)*100;D.style.removeProperty("transition"),D.style.width=`${K}%`})(),Xe.timeout.stop()},mc=()=>{if(Xe.timeout){const D=Xe.timeout.start();return jn(D),D}};let gu=!1;const Cl={};const Ys=D=>{for(let S=D.target;S&&S!==document;S=S.parentNode)for(const R in Cl){const K=S.getAttribute(R);if(K)return void Cl[R].fire({template:K})}};var mu=Object.freeze({__proto__:null,isValidParameter:Lr,isUpdatableParameter:Vi,isDeprecatedParameter:$o,argsToParams:D=>{const S={};return"object"!=typeof D[0]||pu(D[0])?["title","html","icon"].forEach((R,K)=>{const Te=D[K];"string"==typeof Te||pu(Te)?S[R]=Te:void 0!==Te&&ve(`Unexpected type of ${R}! Expected "string" or "Element", got ${typeof Te}`)}):Object.assign(S,D[0]),S},getContainer:rt,getPopup:Ze,getTitle:Ue,getHtmlContainer:ke,getImage:st,getIcon:ut,getIconContent:()=>be(L["icon-content"]),getInputLabel:()=>be(L["input-label"]),getCloseButton:An,getActions:We,getConfirmButton:Ee,getDenyButton:re,getCancelButton:fe,getLoader:we,getFooter:Qe,getTimerProgressBar:Ct,getFocusableElements:lt,getValidationMessage:Ae,getProgressSteps:de,isLoading:()=>Ze().hasAttribute("data-loading"),isVisible:()=>dn(Ze()),clickConfirm:Di,clickDeny:()=>re()&&re().click(),clickCancel:()=>fe()&&fe().click(),fire:function pc(){const D=this;for(var S=arguments.length,R=new Array(S),K=0;K<S;K++)R[K]=arguments[K];return new D(...R)},mixin:function Ra(D){return class S extends(this){_main(K,Te){return super._main(K,Object.assign({},D,Te))}}},showLoading:Sa,enableLoading:Sa,getTimerLeft:()=>Xe.timeout&&Xe.timeout.getTimerLeft(),stopTimer:na,resumeTimer:mc,toggleTimer:()=>{const D=Xe.timeout;return D&&(D.running?na():mc())},increaseTimer:D=>{if(Xe.timeout){const S=Xe.timeout.increase(D);return jn(S,!0),S}},isTimerRunning:()=>Xe.timeout&&Xe.timeout.isRunning(),bindClickHandler:function Ws(){Cl[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,gu||(document.body.addEventListener("click",Ys),gu=!0)}});class ni{constructor(S,R){this.callback=S,this.remaining=R,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(S){const R=this.running;return R&&this.stop(),this.remaining+=S,R&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const ls=["swal-title","swal-html","swal-footer"],_c=D=>{const S={};return Array.from(D.querySelectorAll("swal-param")).forEach(K=>{Vr(K,["name","value"]);const Te=K.getAttribute("name"),At=K.getAttribute("value");S[Te]="boolean"==typeof js[Te]?"false"!==At:"object"==typeof js[Te]?JSON.parse(At):At}),S},yc=D=>{const S={};return Array.from(D.querySelectorAll("swal-function-param")).forEach(K=>{const Te=K.getAttribute("name"),At=K.getAttribute("value");S[Te]=new Function(`return ${At}`)()}),S},_u=D=>{const S={};return Array.from(D.querySelectorAll("swal-button")).forEach(K=>{Vr(K,["type","color","aria-label"]);const Te=K.getAttribute("type");S[`${Te}ButtonText`]=K.innerHTML,S[`show${De(Te)}Button`]=!0,K.hasAttribute("color")&&(S[`${Te}ButtonColor`]=K.getAttribute("color")),K.hasAttribute("aria-label")&&(S[`${Te}ButtonAriaLabel`]=K.getAttribute("aria-label"))}),S},vc=D=>{const S={},R=D.querySelector("swal-image");return R&&(Vr(R,["src","width","height","alt"]),R.hasAttribute("src")&&(S.imageUrl=R.getAttribute("src")),R.hasAttribute("width")&&(S.imageWidth=R.getAttribute("width")),R.hasAttribute("height")&&(S.imageHeight=R.getAttribute("height")),R.hasAttribute("alt")&&(S.imageAlt=R.getAttribute("alt"))),S},Ac=D=>{const S={},R=D.querySelector("swal-icon");return R&&(Vr(R,["type","color"]),R.hasAttribute("type")&&(S.icon=R.getAttribute("type")),R.hasAttribute("color")&&(S.iconColor=R.getAttribute("color")),S.iconHtml=R.innerHTML),S},bc=D=>{const S={},R=D.querySelector("swal-input");R&&(Vr(R,["type","label","placeholder","value"]),S.input=R.getAttribute("type")||"text",R.hasAttribute("label")&&(S.inputLabel=R.getAttribute("label")),R.hasAttribute("placeholder")&&(S.inputPlaceholder=R.getAttribute("placeholder")),R.hasAttribute("value")&&(S.inputValue=R.getAttribute("value")));const K=Array.from(D.querySelectorAll("swal-input-option"));return K.length&&(S.inputOptions={},K.forEach(Te=>{Vr(Te,["value"]);const At=Te.getAttribute("value");S.inputOptions[At]=Te.innerHTML})),S},El=(D,S)=>{const R={};for(const K in S){const Te=S[K],At=D.querySelector(Te);At&&(Vr(At,[]),R[Te.replace(/^swal-/,"")]=At.innerHTML.trim())}return R},ra=D=>{const S=ls.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(D.children).forEach(R=>{const K=R.tagName.toLowerCase();S.includes(K)||ae(`Unrecognized element <${K}>`)})},Vr=(D,S)=>{Array.from(D.attributes).forEach(R=>{-1===S.indexOf(R.name)&&ae([`Unrecognized attribute "${R.name}" on <${D.tagName.toLowerCase()}>.`,S.length?`Allowed attributes are: ${S.join(", ")}`:"To set the value, use HTML within the element."])})},sa=D=>{const S=rt(),R=Ze();"function"==typeof D.willOpen&&D.willOpen(R);const Te=window.getComputedStyle(document.body).overflowY;Ec(S,R,D),setTimeout(()=>{$r(S,R)},10),Rn()&&(Ur(S,D.scrollbarPadding,Te),Array.from(document.body.children).forEach(S=>{S===rt()||S.contains(rt())||(S.hasAttribute("aria-hidden")&&S.setAttribute("data-previous-aria-hidden",S.getAttribute("aria-hidden")),S.setAttribute("aria-hidden","true"))})),!Fn()&&!Xe.previousActiveElement&&(Xe.previousActiveElement=document.activeElement),"function"==typeof D.didOpen&&setTimeout(()=>D.didOpen(R)),ei(S,L["no-transition"])},Cc=D=>{const S=Ze();if(D.target!==S)return;const R=rt();S.removeEventListener(Tt,Cc),R.style.overflowY="auto"},$r=(D,S)=>{Tt&&zn(S)?(D.style.overflowY="hidden",S.addEventListener(Tt,Cc)):D.style.overflowY="auto"},Ur=(D,S,R)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!Nt(document.body,L.iosfix)){const S=document.body.scrollTop;document.body.style.top=-1*S+"px",en(document.body,L.iosfix),ou(),Go()}})(),S&&"hidden"!==R&&au(),setTimeout(()=>{D.scrollTop=0})},Ec=(D,S,R)=>{en(D,R.showClass.backdrop),S.style.setProperty("opacity","0","important"),Zn(S,"grid"),setTimeout(()=>{en(S,R.showClass.popup),S.style.removeProperty("opacity")},10),en([document.documentElement,document.body],L.shown),R.heightAuto&&R.backdrop&&!R.toast&&en([document.documentElement,document.body],L["height-auto"])};var Dc={email:(D,S)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(D)?Promise.resolve():Promise.resolve(S||"Invalid email address"),url:(D,S)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(D)?Promise.resolve():Promise.resolve(S||"Invalid URL")};function Il(D){(function _i(D){D.inputValidator||Object.keys(Dc).forEach(S=>{D.input===S&&(D.inputValidator=Dc[S])})})(D),D.showLoaderOnConfirm&&!D.preConfirm&&ae("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Dl(D){(!D.target||"string"==typeof D.target&&!document.querySelector(D.target)||"string"!=typeof D.target&&!D.target.appendChild)&&(ae('Target parameter is not valid, defaulting to "body"'),D.target="body")}(D),"string"==typeof D.title&&(D.title=D.title.split("\n").join("<br />")),Qn(D)}let br;class oa{constructor(){if(typeof window>"u")return;br=this;for(var S=arguments.length,R=new Array(S),K=0;K<S;K++)R[K]=arguments[K];const Te=Object.freeze(this.constructor.argsToParams(R));Object.defineProperties(this,{params:{value:Te,writable:!1,enumerable:!0,configurable:!0}});const At=br._main(br.params);_e.promise.set(this,At)}_main(S){let R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(D=>{!1===D.backdrop&&D.allowOutsideClick&&ae('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const S in D)mo(S),D.toast&&os(S),Sn(S)})(Object.assign({},R,S)),Xe.currentInstance&&(Xe.currentInstance._destroy(),Rn()&&ld()),Xe.currentInstance=br;const K=Ss(S,R);Il(K),Object.freeze(K),Xe.timeout&&(Xe.timeout.stop(),delete Xe.timeout),clearTimeout(Xe.restoreFocusTimeout);const Te=Fa(br);return Nn(br,K),_e.innerParams.set(br,K),Na(br,Te,K)}then(S){return _e.promise.get(this).then(S)}finally(S){return _e.promise.get(this).finally(S)}}const Na=(D,S,R)=>new Promise((K,Te)=>{const At=sn=>{D.close({isDismissed:!0,dismiss:sn})};Al.swalPromiseResolve.set(D,K),Al.swalPromiseReject.set(D,Te),S.confirmButton.onclick=()=>{(D=>{const S=_e.innerParams.get(D);D.disableButtons(),S.input?ka(D,"confirm"):Ds(D,!0)})(D)},S.denyButton.onclick=()=>{(D=>{const S=_e.innerParams.get(D);D.disableButtons(),S.returnInputValueOnDeny?ka(D,"deny"):hc(D,!1)})(D)},S.cancelButton.onclick=()=>{((D,S)=>{D.disableButtons(),S(Nr.cancel)})(D,At)},S.closeButton.onclick=()=>{At(Nr.close)},((D,S,R)=>{_e.innerParams.get(D).toast?as(D,S,R):(Is(S),hu(S),fc(D,S,R))})(D,S,At),((D,S,R,K)=>{co(S),R.toast||(S.keydownHandler=Te=>jo(D,Te,K),S.keydownTarget=R.keydownListenerCapture?window:Ze(),S.keydownListenerCapture=R.keydownListenerCapture,S.keydownTarget.addEventListener("keydown",S.keydownHandler,{capture:S.keydownListenerCapture}),S.keydownHandlerAdded=!0)})(D,Xe,R,At),((D,S)=>{"select"===S.input||"radio"===S.input?He(D,S):["text","email","number","tel","textarea"].includes(S.input)&&(Je(S.inputValue)||Oe(S.inputValue))&&(Sa(Ee()),pn(D,S))})(D,R),sa(R),Ic(Xe,R,At),La(S,R),setTimeout(()=>{S.container.scrollTop=0})}),Ss=(D,S)=>{const R=(D=>{const S="string"==typeof D.template?document.querySelector(D.template):D.template;if(!S)return{};const R=S.content;return ra(R),Object.assign(_c(R),yc(R),_u(R),vc(R),Ac(R),bc(R),El(R,ls))})(D),K=Object.assign({},js,S,R,D);return K.showClass=Object.assign({},js.showClass,K.showClass),K.hideClass=Object.assign({},js.hideClass,K.hideClass),K},Fa=D=>{const S={popup:Ze(),container:rt(),actions:We(),confirmButton:Ee(),denyButton:re(),cancelButton:fe(),loader:we(),closeButton:An(),validationMessage:Ae(),progressSteps:de()};return _e.domCache.set(D,S),S},Ic=(D,S,R)=>{const K=Ct();nt(K),S.timer&&(D.timeout=new ni(()=>{R("timer"),delete D.timeout},S.timer),S.timerProgressBar&&(Zn(K),pi(K,S,"timerProgressBar"),setTimeout(()=>{D.timeout&&D.timeout.running&&jn(S.timer)})))},La=(D,S)=>{if(!S.toast){if(!oe(S.allowEnterKey))return void fd();yu(D,S)||Ea(0,-1,1)}},yu=(D,S)=>S.focusDeny&&dn(D.denyButton)?(D.denyButton.focus(),!0):S.focusCancel&&dn(D.cancelButton)?(D.cancelButton.focus(),!0):!(!S.focusConfirm||!dn(D.confirmButton)||(D.confirmButton.focus(),0)),fd=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const D=new Date,S=localStorage.getItem("swal-initiation");S?(D.getTime()-Date.parse(S))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const R=document.createElement("audio");R.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",R.loop=!0,document.body.appendChild(R),setTimeout(()=>{R.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${D}`)}Object.assign(oa.prototype,Ko),Object.assign(oa,mu),Object.keys(Ko).forEach(D=>{oa[D]=function(){if(br)return br[D](...arguments)}}),oa.DismissReason=Nr,oa.version="11.6.15";const ui=oa;return ui.default=ui,ui}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(_e,j){var s=_e.createElement("style");if(_e.getElementsByTagName("head")[0].appendChild(s),s.styleSheet)s.styleSheet.disabled||(s.styleSheet.cssText=j);else try{s.innerHTML=j}catch{s.innerText=j}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},655:(It,_e,j)=>{"use strict";function pe(re,ce){var we={};for(var fe in re)Object.prototype.hasOwnProperty.call(re,fe)&&ce.indexOf(fe)<0&&(we[fe]=re[fe]);if(null!=re&&"function"==typeof Object.getOwnPropertySymbols){var We=0;for(fe=Object.getOwnPropertySymbols(re);We<fe.length;We++)ce.indexOf(fe[We])<0&&Object.prototype.propertyIsEnumerable.call(re,fe[We])&&(we[fe[We]]=re[fe[We]])}return we}function ve(re,ce,we,fe){return new(we||(we=Promise))(function(Qe,Ct){function An(Rn){try{lt(fe.next(Rn))}catch(Fn){Ct(Fn)}}function an(Rn){try{lt(fe.throw(Rn))}catch(Fn){Ct(Fn)}}function lt(Rn){Rn.done?Qe(Rn.value):function We(Qe){return Qe instanceof we?Qe:new we(function(Ct){Ct(Qe)})}(Rn.value).then(An,an)}lt((fe=fe.apply(re,ce||[])).next())})}function Me(re){return this instanceof Me?(this.v=re,this):new Me(re)}function be(re,ce,we){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var We,fe=we.apply(re,ce||[]),Qe=[];return We={},Ct("next"),Ct("throw"),Ct("return"),We[Symbol.asyncIterator]=function(){return this},We;function Ct(Dn){fe[Dn]&&(We[Dn]=function(un){return new Promise(function(Bt,Nt){Qe.push([Dn,un,Bt,Nt])>1||An(Dn,un)})})}function An(Dn,un){try{!function an(Dn){Dn.value instanceof Me?Promise.resolve(Dn.value.v).then(lt,Rn):Fn(Qe[0][2],Dn)}(fe[Dn](un))}catch(Bt){Fn(Qe[0][3],Bt)}}function lt(Dn){An("next",Dn)}function Rn(Dn){An("throw",Dn)}function Fn(Dn,un){Dn(un),Qe.shift(),Qe.length&&An(Qe[0][0],Qe[0][1])}}function ut(re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var we,ce=re[Symbol.asyncIterator];return ce?ce.call(re):(re=function oe(re){var ce="function"==typeof Symbol&&Symbol.iterator,we=ce&&re[ce],fe=0;if(we)return we.call(re);if(re&&"number"==typeof re.length)return{next:function(){return re&&fe>=re.length&&(re=void 0),{value:re&&re[fe++],done:!re}}};throw new TypeError(ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(re),we={},fe("next"),fe("throw"),fe("return"),we[Symbol.asyncIterator]=function(){return this},we);function fe(Qe){we[Qe]=re[Qe]&&function(Ct){return new Promise(function(An,an){!function We(Qe,Ct,An,an){Promise.resolve(an).then(function(lt){Qe({value:lt,done:An})},Ct)}(An,an,(Ct=re[Qe](Ct)).done,Ct.value)})}}}j.d(_e,{FC:()=>be,KL:()=>ut,_T:()=>pe,mG:()=>ve,qq:()=>Me})},4650:(It,_e,j)=>{"use strict";j.d(_e,{$8M:()=>wu,$Z:()=>sD,AFp:()=>Ny,ALo:()=>Og,AaK:()=>ve,AsE:()=>Hb,BQk:()=>rg,CHM:()=>ud,CRH:()=>KI,CZH:()=>$g,CqO:()=>Ib,D6c:()=>tm,DdM:()=>Ey,EJc:()=>Fy,EiD:()=>Du,EpF:()=>sg,F$t:()=>Mb,F4k:()=>Db,FYo:()=>mM,FiY:()=>$e,G48:()=>Hy,Gf:()=>Lw,GfV:()=>DE,GkF:()=>ny,Gpc:()=>ee,Hsn:()=>kb,Ikx:()=>lI,JOm:()=>zl,JVY:()=>Jm,Jf7:()=>Nh,KtG:()=>qs,L6k:()=>rA,LAX:()=>oA,LFG:()=>nn,LSH:()=>t_,Lbi:()=>pS,Lck:()=>tk,MAs:()=>Gc,MGl:()=>kd,MMx:()=>gw,NdJ:()=>ry,O4$:()=>_c,OlP:()=>ri,Oqu:()=>Ub,PXZ:()=>xr,Q6J:()=>Eb,QGY:()=>iy,QP$:()=>Ge,QbO:()=>gS,Qsj:()=>BF,R0b:()=>ma,RDi:()=>Km,Rgc:()=>Pg,SBq:()=>Cd,Sil:()=>_S,Suo:()=>Bw,TTD:()=>zs,TgZ:()=>tg,Udp:()=>Pd,VKq:()=>Sr,WFA:()=>Sb,WLB:()=>qr,X6Q:()=>ft,XFs:()=>nt,Xpm:()=>Pe,Xts:()=>uA,Y36:()=>zh,YKP:()=>pw,YNc:()=>Cb,Yjl:()=>$,Yz7:()=>un,Z0I:()=>pi,ZZ4:()=>c0,_Bn:()=>FI,_UZ:()=>ty,_Vd:()=>Su,_c5:()=>Hu,_uU:()=>QD,aQg:()=>Kc,c2e:()=>Kw,cJS:()=>Nt,cg1:()=>Wb,d8E:()=>uy,dDg:()=>xk,dqk:()=>qt,eBb:()=>sA,eFA:()=>bS,ekj:()=>ef,eoX:()=>tt,evT:()=>IA,f3M:()=>x,g9A:()=>fS,h0i:()=>Nu,hGG:()=>em,hij:()=>_g,iGM:()=>Fw,ifc:()=>Xe,ip1:()=>bf,jDz:()=>by,kEZ:()=>kg,kL8:()=>dI,kYT:()=>te,kcU:()=>_u,lG2:()=>ie,lcZ:()=>xw,lqb:()=>Hl,lri:()=>Zc,mCW:()=>y,n5z:()=>aa,oAB:()=>_n,oJD:()=>e_,oxw:()=>oy,pB0:()=>Dh,q3G:()=>yi,q4F:()=>IE,qLn:()=>kp,qOj:()=>Td,qZA:()=>ng,qzn:()=>la,rWj:()=>Uy,s9C:()=>og,sBO:()=>zy,sIi:()=>X_,s_b:()=>Fu,soG:()=>Qg,tb:()=>Cf,tp0:()=>Yt,uIk:()=>$p,uOi:()=>Qa,vHH:()=>Oe,vpe:()=>$l,wAp:()=>Ht,xp6:()=>eD,ynx:()=>ig,z2F:()=>vi,z3N:()=>Do,zSh:()=>s_,zs3:()=>xn});var s=j(7579),L=j(727),U=j(9751),pe=j(6451),ye=j(3099);function De(a){for(let l in a)if(a[l]===De)return l;throw Error("Could not find renamed property on target object.")}function ae(a,l){for(const u in l)l.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=l[u])}function ve(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(ve).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function Se(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const ne=De({__forward_ref__:De});function ee(a){return a.__forward_ref__=ee,a.toString=function(){return ve(this())},a}function oe(a){return Je(a)?a():a}function Je(a){return"function"==typeof a&&a.hasOwnProperty(ne)&&a.__forward_ref__===ee}class Oe extends Error{constructor(l,u){super(function rt(a,l){return`NG0${Math.abs(a)}${l?": "+l.trim():""}`}(l,u)),this.code=l}}function Me(a){return"string"==typeof a?a:null==a?"":String(a)}function Ue(a,l){throw new Oe(-201,!1)}function an(a,l){null==a&&function lt(a,l,u,h){throw new Error(`ASSERTION ERROR: ${a}`+(null==h?"":` [Expected=> ${u} ${h} ${l} <=Actual]`))}(l,a,null,"!=")}function un(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Nt(a){return{providers:a.providers||[],imports:a.imports||[]}}function qi(a){return Zi(a,ei)||Zi(a,Wi)}function pi(a){return null!==qi(a)}function Zi(a,l){return a.hasOwnProperty(l)?a[l]:null}function en(a){return a&&(a.hasOwnProperty(Ln)||a.hasOwnProperty(Zn))?a[Ln]:null}const ei=De({\u0275prov:De}),Ln=De({\u0275inj:De}),Wi=De({ngInjectableDef:De}),Zn=De({ngInjectorDef:De});var nt=(()=>((nt=nt||{})[nt.Default=0]="Default",nt[nt.Host=1]="Host",nt[nt.Self=2]="Self",nt[nt.SkipSelf=4]="SkipSelf",nt[nt.Optional=8]="Optional",nt))();let bi;function dn(a){const l=bi;return bi=a,l}function Bi(a,l,u){const h=qi(a);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&nt.Optional?null:void 0!==l?l:void Ue(ve(a))}function zn(a){return{toString:a}.toString()}var jn=(()=>((jn=jn||{})[jn.OnPush=0]="OnPush",jn[jn.Default=1]="Default",jn))(),Xe=(()=>{return(a=Xe||(Xe={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",Xe;var a})();const qt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),er={},Ut=[],mi=De({\u0275cmp:De}),Jt=De({\u0275dir:De}),gr=De({\u0275pipe:De}),gn=De({\u0275mod:De}),Ni=De({\u0275fac:De}),Qn=De({__NG_ELEMENT_ID__:De});let pt=0;function Pe(a){return zn(()=>{const u=!0===a.standalone,h={},f={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===jn.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&a.dependencies||null,getStandaloneInjector:null,selectors:a.selectors||Ut,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Xe.Emulated,id:"c"+pt++,styles:a.styles||Ut,_:null,setInput:null,schemas:a.schemas||null,tView:null},g=a.dependencies,v=a.features;return f.inputs=Q(a.inputs,h),f.outputs=Q(a.outputs),v&&v.forEach(C=>C(f)),f.directiveDefs=g?()=>("function"==typeof g?g():g).map(Tt).filter(Rt):null,f.pipeDefs=g?()=>("function"==typeof g?g():g).map(he).filter(Rt):null,f})}function Tt(a){return V(a)||W(a)}function Rt(a){return null!==a}function _n(a){return zn(()=>({type:a.type,bootstrap:a.bootstrap||Ut,declarations:a.declarations||Ut,imports:a.imports||Ut,exports:a.exports||Ut,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function te(a,l){return zn(()=>{const u=_t(a,!0);u.declarations=l.declarations||Ut,u.imports=l.imports||Ut,u.exports=l.exports||Ut})}function Q(a,l){if(null==a)return er;const u={};for(const h in a)if(a.hasOwnProperty(h)){let f=a[h],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),u[f]=h,l&&(l[f]=g)}return u}const ie=Pe;function $(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function V(a){return a[mi]||null}function W(a){return a[Jt]||null}function he(a){return a[gr]||null}function Ge(a){const l=V(a)||W(a)||he(a);return null!==l&&l.standalone}function _t(a,l){const u=a[gn]||null;if(!u&&!0===l)throw new Error(`Type ${ve(a)} does not have '\u0275mod' property.`);return u}function Di(a){return Array.isArray(a)&&"object"==typeof a[1]}function Pr(a){return Array.isArray(a)&&!0===a[1]}function ss(a){return 0!=(8&a.flags)}function Nr(a){return 2==(2&a.flags)}function co(a){return 1==(1&a.flags)}function yr(a){return null!==a.template}function Ea(a){return 0!=(256&a[2])}function Yi(a,l){return a.hasOwnProperty(Ni)?a[Ni]:null}class Zo{constructor(l,u,h){this.previousValue=l,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function zs(){return Wo}function Wo(a){return a.type.prototype.ngOnChanges&&(a.setInput=cc),bl}function bl(){const a=po(this),l=a?.current;if(l){const u=a.previous;if(u===er)a.previous=l;else for(let h in l)u[h]=l[h];a.current=null,this.ngOnChanges(l)}}function cc(a,l,u,h){const f=po(a)||function Mi(a,l){return a[cu]=l}(a,{previous:er,current:null}),g=f.current||(f.current={}),v=f.previous,C=this.declaredInputs[u],T=v[C];g[C]=new Zo(T&&T.currentValue,l,v===er),a[h]=l}zs.ngInherit=!0;const cu="__ngSimpleChanges__";function po(a){return a[cu]||null}function li(a){for(;Array.isArray(a);)a=a[0];return a}function Lr(a,l){return li(l[a])}function Vi(a,l){return li(l[a.index])}function mo(a,l){return a.data[l]}function os(a,l){return a[l]}function Sn(a,l){const u=l[a];return Di(u)?u:u[0]}function Gs(a){return 64==(64&a[2])}function Br(a,l){return null==l?null:a[l]}function Ia(a){a[18]=0}function ci(a,l){a[5]+=l;let u=a,h=a[3];for(;null!==h&&(1===l&&1===u[5]||-1===l&&0===u[5]);)h[5]+=l,u=h,h=h[3]}const zt={lFrame:Pa(null),bindingsEnabled:!0};function _o(){return zt.bindingsEnabled}function He(){return zt.lFrame.lView}function pn(){return zt.lFrame.tView}function ud(a){return zt.lFrame.contextLView=a,a[8]}function qs(a){return zt.lFrame.contextLView=null,a}function Ii(){let a=Jo();for(;null!==a&&64===a.type;)a=a.parent;return a}function Jo(){return zt.lFrame.currentTNode}function dr(a,l){const u=zt.lFrame;u.currentTNode=a,u.isParent=l}function ka(){return zt.lFrame.isParent}function Xo(){zt.lFrame.isParent=!1}function ki(){const a=zt.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function Zs(){return zt.lFrame.bindingIndex++}function Is(a){const l=zt.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,u}function fu(a,l){const u=zt.lFrame;u.bindingIndex=u.bindingRootIndex=a,ta(l)}function ta(a){zt.lFrame.currentDirectiveIndex=a}function pc(a){const l=zt.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function Ra(){return zt.lFrame.currentQueryIndex}function gc(a){zt.lFrame.currentQueryIndex=a}function na(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function mc(a,l,u){if(u&nt.SkipSelf){let f=l,g=a;for(;!(f=f.parent,null!==f||u&nt.Host||(f=na(g),null===f||(g=g[15],10&f.type))););if(null===f)return!1;l=f,a=g}const h=zt.lFrame=hd();return h.currentTNode=l,h.lView=a,!0}function ia(a){const l=hd(),u=a[1];zt.lFrame=l,l.currentTNode=u.firstChild,l.lView=a,l.tView=u,l.contextLView=a,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function hd(){const a=zt.lFrame,l=null===a?null:a.child;return null===l?Pa(a):l}function Pa(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function gu(){const a=zt.lFrame;return zt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Cl=gu;function Ws(){const a=gu();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function ni(){return zt.lFrame.selectedIndex}function ls(a){zt.lFrame.selectedIndex=a}function ii(){const a=zt.lFrame;return mo(a.tView,a.selectedIndex)}function _c(){zt.lFrame.currentNamespace="svg"}function _u(){!function vc(){zt.lFrame.currentNamespace=null}()}function El(a,l){for(let u=l.directiveStart,h=l.directiveEnd;u<h;u++){const g=a.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:T,ngAfterViewChecked:k,ngOnDestroy:F}=g;v&&(a.contentHooks||(a.contentHooks=[])).push(-u,v),C&&((a.contentHooks||(a.contentHooks=[])).push(u,C),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,C)),T&&(a.viewHooks||(a.viewHooks=[])).push(-u,T),k&&((a.viewHooks||(a.viewHooks=[])).push(u,k),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,k)),null!=F&&(a.destroyHooks||(a.destroyHooks=[])).push(u,F)}}function ra(a,l,u){sa(a,l,3,u)}function Vr(a,l,u,h){(3&a[2])===u&&sa(a,l,u,h)}function wc(a,l){let u=a[2];(3&u)===l&&(u&=2047,u+=1,a[2]=u)}function sa(a,l,u,h){const g=h??-1,v=l.length-1;let C=0;for(let T=void 0!==h?65535&a[18]:0;T<v;T++)if("number"==typeof l[T+1]){if(C=l[T],null!=h&&C>=h)break}else l[T]<0&&(a[18]+=65536),(C<g||-1==g)&&(Cc(a,u,l,T),a[18]=(4294901760&a[18])+T+2),T++}function Cc(a,l,u,h){const f=u[h]<0,g=u[h+1],C=a[f?-u[h]:u[h]];if(f){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{g.call(C)}finally{}}}else try{g.call(C)}finally{}}class Ur{constructor(l,u,h){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function Ss(a,l,u){let h=0;for(;h<u.length;){const f=u[h];if("number"==typeof f){if(0!==f)break;h++;const g=u[h++],v=u[h++],C=u[h++];a.setAttribute(l,v,C,g)}else{const g=f,v=u[++h];Ic(g)?a.setProperty(l,g,v):a.setAttribute(l,g,v),h++}}return h}function Fa(a){return 3===a||4===a||6===a}function Ic(a){return 64===a.charCodeAt(0)}function La(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let u=-1;for(let h=0;h<l.length;h++){const f=l[h];"number"==typeof f?u=f:0===u||yu(a,u,f,null,-1===u||2===u?l[++h]:null)}}return a}function yu(a,l,u,h,f){let g=0,v=a.length;if(-1===l)v=-1;else for(;g<a.length;){const C=a[g++];if("number"==typeof C){if(C===l){v=-1;break}if(C>l){v=g-1;break}}}for(;g<a.length;){const C=a[g];if("number"==typeof C)break;if(C===u){if(null===h)return void(null!==f&&(a[g+1]=f));if(h===a[g+1])return void(a[g+2]=f)}g++,null!==h&&g++,null!==f&&g++}-1!==v&&(a.splice(v,0,l),g=v+1),a.splice(g++,0,u),null!==h&&a.splice(g++,0,h),null!==f&&a.splice(g++,0,f)}function fd(a){return-1!==a}function ui(a){return 32767&a}function S(a,l){let u=function D(a){return a>>16}(a),h=l;for(;u>0;)h=h[15],u--;return h}let R=!0;function K(a){const l=R;return R=a,l}let Kr=0;const qn={};function Qr(a,l){const u=vu(a,l);if(-1!==u)return u;const h=l[1];h.firstCreatePass&&(a.injectorIndex=l.length,pd(h.data,a),pd(l,null),pd(h.blueprint,null));const f=Sc(a,l),g=a.injectorIndex;if(fd(f)){const v=ui(f),C=S(f,l),T=C[1].data;for(let k=0;k<8;k++)l[g+k]=C[v+k]|T[v+k]}return l[g+8]=f,g}function pd(a,l){a.push(0,0,0,0,0,0,0,0,l)}function vu(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function Sc(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,h=null,f=l;for(;null!==f;){if(h=Ol(f),null===h)return-1;if(u++,f=f[15],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return-1}function Ba(a,l,u){!function yo(a,l,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(Qn)&&(h=u[Qn]),null==h&&(h=u[Qn]=Kr++);const f=255&h;l.data[a+(f>>5)]|=1<<f}(a,l,u)}function Sl(a,l,u){if(u&nt.Optional||void 0!==a)return a;Ue()}function Va(a,l,u,h){if(u&nt.Optional&&void 0===h&&(h=null),0==(u&(nt.Self|nt.Host))){const f=a[9],g=dn(void 0);try{return f?f.get(l,h,u&nt.Optional):Bi(l,h,u&nt.Optional)}finally{dn(g)}}return Sl(h,0,u)}function Tl(a,l,u,h=nt.Default,f){if(null!==a){if(1024&l[2]){const v=function up(a,l,u,h,f){let g=a,v=l;for(;null!==g&&null!==v&&1024&v[2]&&!(256&v[2]);){const C=mh(g,v,u,h|nt.Self,qn);if(C!==qn)return C;let T=g.parent;if(!T){const k=v[21];if(k){const F=k.get(u,qn,h);if(F!==qn)return F}T=Ol(v),v=v[15]}g=T}return f}(a,l,u,h,qn);if(v!==qn)return v}const g=mh(a,l,u,h,qn);if(g!==qn)return g}return Va(l,u,h,f)}function mh(a,l,u,h,f){const g=function cp(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(Qn)?a[Qn]:void 0;return"number"==typeof l?l>=0?255&l:gd:l}(u);if("function"==typeof g){if(!mc(l,a,h))return h&nt.Host?Sl(f,0,h):Va(l,u,h,f);try{const v=g(h);if(null!=v||h&nt.Optional)return v;Ue()}finally{Cl()}}else if("number"==typeof g){let v=null,C=vu(a,l),T=-1,k=h&nt.Host?l[16][6]:null;for((-1===C||h&nt.SkipSelf)&&(T=-1===C?Sc(a,l):l[C+8],-1!==T&&bu(h,!1)?(v=l[1],C=ui(T),l=S(T,l)):C=-1);-1!==C;){const F=l[1];if(xl(g,C,F.data)){const q=Au(C,l,u,v,h,k);if(q!==qn)return q}T=l[C+8],-1!==T&&bu(h,l[1].data[C+8]===k)&&xl(g,C,l)?(v=F,C=ui(T),l=S(T,l)):C=-1}}return f}function Au(a,l,u,h,f,g){const v=l[1],C=v.data[a+8],F=xc(C,v,u,null==h?Nr(C)&&R:h!=v&&0!=(3&C.type),f&nt.Host&&g===C);return null!==F?Ts(l,v,F,C):qn}function xc(a,l,u,h,f){const g=a.providerIndexes,v=l.data,C=1048575&g,T=a.directiveStart,F=g>>20,J=f?C+F:a.directiveEnd;for(let ge=h?C:C+F;ge<J;ge++){const Re=v[ge];if(ge<T&&u===Re||ge>=T&&Re.type===u)return ge}if(f){const ge=v[T];if(ge&&yr(ge)&&ge.type===u)return T}return null}function Ts(a,l,u,h){let f=a[u];const g=l.data;if(function Ec(a){return a instanceof Ur}(f)){const v=f;v.resolving&&function Ze(a,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new Oe(-200,`Circular dependency in DI detected for ${a}${u}`)}(function be(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Me(a)}(g[u]));const C=K(v.canSeeViewProviders);v.resolving=!0;const T=v.injectImpl?dn(v.injectImpl):null;mc(a,h,nt.Default);try{f=a[u]=v.factory(void 0,g,a,h),l.firstCreatePass&&u>=h.directiveStart&&function bc(a,l,u){const{ngOnChanges:h,ngOnInit:f,ngDoCheck:g}=l.type.prototype;if(h){const v=Wo(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,v)}f&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,f),g&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,g))}(u,g[u],l)}finally{null!==T&&dn(T),K(C),v.resolving=!1,Cl()}}return f}function xl(a,l,u){return!!(u[l+(a>>5)]&1<<a)}function bu(a,l){return!(a&nt.Self||a&nt.Host&&l)}class Ml{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,h){return Tl(this._tNode,this._lView,l,h,u)}}function gd(){return new Ml(Ii(),He())}function aa(a){return zn(()=>{const l=a.prototype.constructor,u=l[Ni]||kl(l),h=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==h;){const g=f[Ni]||kl(f);if(g&&g!==u)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function kl(a){return Je(a)?()=>{const l=kl(oe(a));return l&&l()}:Yi(a)}function Ol(a){const l=a[1],u=l.type;return 2===u?l.declTNode:1===u?a[6]:null}function wu(a){return function Tc(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const u=a.attrs;if(u){const h=u.length;let f=0;for(;f<h;){const g=u[f];if(Fa(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<h&&"string"==typeof u[f];)f++;else{if(g===l)return u[f+1];f+=2}}}return null}(Ii(),a)}const Rl="__parameters__";function Nl(a,l,u){return zn(()=>{const h=function md(a){return function(...u){if(a){const h=a(...u);for(const f in h)this[f]=h[f]}}}(l);function f(...g){if(this instanceof f)return h.apply(this,g),this;const v=new f(...g);return C.annotation=v,C;function C(T,k,F){const q=T.hasOwnProperty(Rl)?T[Rl]:Object.defineProperty(T,Rl,{value:[]})[Rl];for(;q.length<=F;)q.push(null);return(q[F]=q[F]||[]).push(v),T}}return u&&(f.prototype=Object.create(u.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class ri{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=un({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function tn(a,l){void 0===l&&(l=a);for(let u=0;u<a.length;u++){let h=a[u];Array.isArray(h)?(l===a&&(l=a.slice(0,u)),tn(h,l)):l!==a&&l.push(h)}return l}function Ao(a,l){a.forEach(u=>Array.isArray(u)?Ao(u,l):l(u))}function Ha(a,l,u){l>=a.length?a.push(u):a.splice(l,0,u)}function si(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function za(a,l){const u=[];for(let h=0;h<a;h++)u.push(l);return u}function ot(a,l,u){let h=Qs(a,l);return h>=0?a[1|h]=u:(h=~h,function fp(a,l,u,h){let f=a.length;if(f==l)a.push(u,h);else if(1===f)a.push(h,a[0]),a[0]=u;else{for(f--,a.push(a[f-1],a[f]);f>l;)a[f]=a[f-2],f--;a[l]=u,a[l+1]=h}}(a,h,l,u)),h}function Mc(a,l){const u=Qs(a,l);if(u>=0)return a[1|u]}function Qs(a,l){return function Oc(a,l,u){let h=0,f=a.length>>u;for(;f!==h;){const g=h+(f-h>>1),v=a[g<<u];if(l===v)return g<<u;v>l?f=g:h=g+1}return~(f<<u)}(a,l,1)}const bo={},yd="__NG_DI_FLAG__",ir="ngTempTokenPath",wo=/\n/gm,Si="__source";let Za;function Js(a){const l=Za;return Za=a,l}function Ti(a,l=nt.Default){if(void 0===Za)throw new Oe(-203,!1);return null===Za?Bi(a,void 0,l):Za.get(a,l&nt.Optional?null:void 0,l)}function nn(a,l=nt.Default){return(function ti(){return bi}()||Ti)(oe(a),l)}function x(a,l=nt.Default){return"number"!=typeof l&&(l=0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)),nn(a,l)}function M(a){const l=[];for(let u=0;u<a.length;u++){const h=oe(a[u]);if(Array.isArray(h)){if(0===h.length)throw new Oe(900,!1);let f,g=nt.Default;for(let v=0;v<h.length;v++){const C=h[v],T=Y(C);"number"==typeof T?-1===T?f=C.token:g|=T:f=C}l.push(nn(f,g))}else l.push(nn(h))}return l}function N(a,l){return a[yd]=l,a.prototype[yd]=l,a}function Y(a){return a[yd]}const $e=N(Nl("Optional"),8),Yt=N(Nl("SkipSelf"),4);let yp,vd,Ch;function Km(a){yp=a}function $a(a){return function wh(){if(void 0===vd&&(vd=null,qt.trustedTypes))try{vd=qt.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return vd}()?.createHTML(a)||a}function Ka(){if(void 0===Ch&&(Ch=null,qt.trustedTypes))try{Ch=qt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Ch}function Qm(a){return Ka()?.createHTML(a)||a}function Cu(a){return Ka()?.createScriptURL(a)||a}class Fc{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Eu extends Fc{getTypeName(){return"HTML"}}class bd extends Fc{getTypeName(){return"Style"}}class Ap extends Fc{getTypeName(){return"Script"}}class Eh extends Fc{getTypeName(){return"URL"}}class bp extends Fc{getTypeName(){return"ResourceURL"}}function Do(a){return a instanceof Fc?a.changingThisBreaksApplicationSecurity:a}function la(a,l){const u=function wp(a){return a instanceof Fc&&a.getTypeName()||null}(a);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}function Jm(a){return new Eu(a)}function rA(a){return new bd(a)}function sA(a){return new Ap(a)}function oA(a){return new Eh(a)}function Dh(a){return new bp(a)}class aA{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString($a(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch{return null}}}class uE{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const h=this.inertDocument.createElement("body");u.appendChild(h)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=$a(l),u;const h=this.inertDocument.createElement("body");return h.innerHTML=$a(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(l){const u=l.attributes;for(let f=u.length-1;0<f;f--){const v=u.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&l.removeAttribute(v)}let h=l.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const m=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function y(a){return(a=String(a)).match(m)?a:"unsafe:"+a}function E(a){const l={};for(const u of a.split(","))l[u]=!0;return l}function P(...a){const l={};for(const u of a)for(const h in u)u.hasOwnProperty(h)&&(l[h]=!0);return l}const H=E("area,br,col,hr,img,wbr"),ue=E("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Be=E("rp,rt"),Wn=P(H,P(ue,E("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),P(Be,E("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),P(Be,ue)),zr=E("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Sh=P(zr,E("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),E("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Th=E("script,style,template");class Lc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let f=this.checkClobberedElement(u,u.nextSibling);if(f){u=f;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!Wn.hasOwnProperty(u))return this.sanitizedSomething=!0,!Th.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=l.attributes;for(let f=0;f<h.length;f++){const g=h.item(f),v=g.name,C=v.toLowerCase();if(!Sh.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let T=g.value;zr[C]&&(T=y(T)),this.buf.push(" ",v,'="',xh(T),'"')}return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();Wn.hasOwnProperty(u)&&!H.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(xh(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const Xm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ep=/([^\#-~ |!])/g;function xh(a){return a.replace(/&/g,"&amp;").replace(Xm,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(Ep,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let wd;function Du(a,l){let u=null;try{wd=wd||function Cp(a){const l=new uE(a);return function w(){try{return!!(new window.DOMParser).parseFromString($a(""),"text/html")}catch{return!1}}()?new aA(l):l}(a);let h=l?String(l):"";u=wd.getInertBodyElement(h);let f=5,g=h;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,h=g,g=u.innerHTML,u=wd.getInertBodyElement(h)}while(h!==g);return $a((new Lc).sanitizeChildren(Vl(u)||u))}finally{if(u){const h=Vl(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Vl(a){return"content"in a&&function lA(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var yi=(()=>((yi=yi||{})[yi.NONE=0]="NONE",yi[yi.HTML=1]="HTML",yi[yi.STYLE=2]="STYLE",yi[yi.SCRIPT=3]="SCRIPT",yi[yi.URL=4]="URL",yi[yi.RESOURCE_URL=5]="RESOURCE_URL",yi))();function e_(a){const l=Dp();return l?Qm(l.sanitize(yi.HTML,a)||""):la(a,"HTML")?Qm(Do(a)):Du(function bh(){return void 0!==yp?yp:typeof document<"u"?document:void 0}(),Me(a))}function t_(a){const l=Dp();return l?l.sanitize(yi.URL,a)||"":la(a,"URL")?Do(a):y(Me(a))}function Qa(a){const l=Dp();if(l)return Cu(l.sanitize(yi.RESOURCE_URL,a)||"");if(la(a,"ResourceURL"))return Cu(Do(a));throw new Oe(904,!1)}function Dp(){const a=He();return a&&a[12]}const uA=new ri("ENVIRONMENT_INITIALIZER"),fE=new ri("INJECTOR",-1),pE=new ri("INJECTOR_DEF_TYPES");class gE{get(l,u=bo){if(u===bo){const h=new Error(`NullInjectorError: No provider for ${ve(l)}!`);throw h.name="NullInjectorError",h}return u}}function hM(...a){return{\u0275providers:mE(0,a)}}function mE(a,...l){const u=[],h=new Set;let f;return Ao(l,g=>{const v=g;i_(v,u,[],h)&&(f||(f=[]),f.push(v))}),void 0!==f&&_E(f,u),u}function _E(a,l){for(let u=0;u<a.length;u++){const{providers:f}=a[u];Ao(f,g=>{l.push(g)})}}function i_(a,l,u,h){if(!(a=oe(a)))return!1;let f=null,g=en(a);const v=!g&&V(a);if(g||v){if(v&&!v.standalone)return!1;f=a}else{const T=a.ngModule;if(g=en(T),!g)return!1;f=T}const C=h.has(f);if(v){if(C)return!1;if(h.add(f),v.dependencies){const T="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const k of T)i_(k,l,u,h)}}else{if(!g)return!1;{if(null!=g.imports&&!C){let k;h.add(f);try{Ao(g.imports,F=>{i_(F,l,u,h)&&(k||(k=[]),k.push(F))})}finally{}void 0!==k&&_E(k,l)}if(!C){const k=Yi(f)||(()=>new f);l.push({provide:f,useFactory:k,deps:Ut},{provide:pE,useValue:f,multi:!0},{provide:uA,useValue:()=>nn(f),multi:!0})}const T=g.providers;null==T||C||Ao(T,F=>{l.push(F)})}}return f!==a&&void 0!==a.providers}const yE=De({provide:String,useValue:De});function Ip(a){return null!==a&&"object"==typeof a&&yE in a}function ca(a){return"function"==typeof a}const s_=new ri("Set Injector scope."),o_={},ua={};let a_;function l_(){return void 0===a_&&(a_=new gE),a_}class Hl{}class dA extends Hl{constructor(l,u,h,f){super(),this.parent=u,this.source=h,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,u_(l,v=>this.processProvider(v)),this.records.set(fE,Mh(void 0,this)),f.has("environment")&&this.records.set(Hl,Mh(void 0,this));const g=this.records.get(s_);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(pE.multi,Ut,nt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const u=Js(this),h=dn(void 0);try{return l()}finally{Js(u),dn(h)}}get(l,u=bo,h=nt.Default){this.assertNotDestroyed();const f=Js(this),g=dn(void 0);try{if(!(h&nt.SkipSelf)){let C=this.records.get(l);if(void 0===C){const T=function pM(a){return"function"==typeof a||"object"==typeof a&&a instanceof ri}(l)&&qi(l);C=T&&this.injectableDefInScope(T)?Mh(Sp(l),o_):null,this.records.set(l,C)}if(null!=C)return this.hydrate(l,C)}return(h&nt.Self?l_():this.parent).get(l,u=h&nt.Optional&&u===bo?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[ir]=v[ir]||[]).unshift(ve(l)),f)throw v;return function le(a,l,u,h){const f=a[ir];throw l[Si]&&f.unshift(l[Si]),a.message=function me(a,l,u,h=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let f=ve(l);if(Array.isArray(l))f=l.map(ve).join(" -> ");else if("object"==typeof l){let g=[];for(let v in l)if(l.hasOwnProperty(v)){let C=l[v];g.push(v+":"+("string"==typeof C?JSON.stringify(C):ve(C)))}f=`{${g.join(", ")}}`}return`${u}${h?"("+h+")":""}[${f}]: ${a.replace(wo,"\n  ")}`}("\n"+a.message,f,u,h),a.ngTokenPath=f,a[ir]=null,a}(v,l,"R3InjectorError",this.source)}throw v}finally{dn(g),Js(f)}}resolveInjectorInitializers(){const l=Js(this),u=dn(void 0);try{const h=this.get(uA.multi,Ut,nt.Self);for(const f of h)f()}finally{Js(l),dn(u)}}toString(){const l=[],u=this.records;for(const h of u.keys())l.push(ve(h));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Oe(205,!1)}processProvider(l){let u=ca(l=oe(l))?l:oe(l&&l.provide);const h=function hA(a){return Ip(a)?Mh(void 0,a.useValue):Mh(c_(a),o_)}(l);if(ca(l)||!0!==l.multi)this.records.get(u);else{let f=this.records.get(u);f||(f=Mh(void 0,o_,!0),f.factory=()=>M(f.multi),this.records.set(u,f)),u=l,f.multi.push(l)}this.records.set(u,h)}hydrate(l,u){return u.value===o_&&(u.value=ua,u.value=u.factory()),"object"==typeof u.value&&u.value&&function fM(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=oe(l.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function Sp(a){const l=qi(a),u=null!==l?l.factory:Yi(a);if(null!==u)return u;if(a instanceof ri)throw new Oe(204,!1);if(a instanceof Function)return function AE(a){const l=a.length;if(l>0)throw za(l,"?"),new Oe(204,!1);const u=function Xn(a){const l=a&&(a[ei]||a[Wi]);if(l){const u=function Yr(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new Oe(204,!1)}function c_(a,l,u){let h;if(ca(a)){const f=oe(a);return Yi(f)||Sp(f)}if(Ip(a))h=()=>oe(a.useValue);else if(function Ul(a){return!(!a||!a.useFactory)}(a))h=()=>a.useFactory(...M(a.deps||[]));else if(function r_(a){return!(!a||!a.useExisting)}(a))h=()=>nn(oe(a.useExisting));else{const f=oe(a&&(a.useClass||a.provide));if(!function Tp(a){return!!a.deps}(a))return Yi(f)||Sp(f);h=()=>new f(...M(a.deps))}return h}function Mh(a,l,u=!1){return{factory:a,value:l,multi:u?[]:void 0}}function fA(a){return!!a.\u0275providers}function u_(a,l){for(const u of a)Array.isArray(u)?u_(u,l):fA(u)?u_(u.\u0275providers,l):l(u)}class pA{}class h_{resolveComponentFactory(l){throw function wE(a){const l=Error(`No component factory found for ${ve(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let Su=(()=>{class a{}return a.NULL=new h_,a})();function gM(){return kh(Ii(),He())}function kh(a,l){return new Cd(Vi(a,l))}let Cd=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=gM,a})();function EE(a){return a instanceof Cd?a.nativeElement:a}class mM{}let BF=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function VF(){const a=He(),u=Sn(Ii().index,a);return(Di(u)?u:a)[11]}(),a})(),gA=(()=>{class a{}return a.\u0275prov=un({token:a,providedIn:"root",factory:()=>null}),a})();class DE{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const IE=new DE("14.2.10"),mA={};function wA(a){return a.ngOriginalError}class kp{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l);this._console.error("ERROR",l),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&wA(l);for(;u&&wA(u);)u=wA(u);return u||null}}const CA=new Map;let CM=0;const y_="__ngContext__";function jr(a,l){Di(l)?(a[y_]=l[20],function DM(a){CA.set(a[20],a)}(l)):a[y_]=l}function Nh(a){return a.ownerDocument.defaultView}function IA(a){return a.ownerDocument}function Bc(a){return a instanceof Function?a():a}var zl=(()=>((zl=zl||{})[zl.Important=1]="Important",zl[zl.DashCase=2]="DashCase",zl))();function xA(a,l){return undefined(a,l)}function Lh(a){const l=a[3];return Pr(l)?l[3]:l}function b_(a){return LE(a[13])}function w_(a){return LE(a[4])}function LE(a){for(;null!==a&&!Pr(a);)a=a[4];return a}function Bh(a,l,u,h,f){if(null!=h){let g,v=!1;Pr(h)?g=h:Di(h)&&(v=!0,h=h[0]);const C=li(h);0===a&&null!==u?null==f?GE(l,u,C):jl(l,u,C,f||null,!0):1===a&&null!==u?jl(l,u,C,f||null,!0):2===a?function VM(a,l,u){const h=D_(a,l);h&&function BM(a,l,u,h){a.removeChild(l,u,h)}(a,h,l,u)}(l,C,v):3===a&&l.destroyNode(C),null!=g&&function $F(a,l,u,h,f){const g=u[7];g!==li(u)&&Bh(l,a,h,g,f);for(let C=10;C<u.length;C++){const T=u[C];Ed(T[1],T,a,l,h,g)}}(l,a,g,u,f)}}function C_(a,l,u){return a.createElement(l,u)}function HE(a,l){const u=a[9],h=u.indexOf(l),f=l[3];512&l[2]&&(l[2]&=-513,ci(f,-1)),u.splice(h,1)}function RA(a,l){if(a.length<=10)return;const u=10+l,h=a[u];if(h){const f=h[17];null!==f&&f!==a&&HE(f,h),l>0&&(a[u-1][4]=h[4]);const g=si(a,10+l);!function OA(a,l){Ed(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(h[1],h);const v=g[19];null!==v&&v.detachView(g[1]),h[3]=null,h[4]=null,h[2]&=-65}return h}function Rp(a,l){if(!(128&l[2])){const u=l[11];u.destroyNode&&Ed(a,l,u,3,null,null),function WF(a){let l=a[13];if(!l)return E_(a[1],a);for(;l;){let u=null;if(Di(l))u=l[13];else{const h=l[10];h&&(u=h)}if(!u){for(;l&&!l[4]&&l!==a;)Di(l)&&E_(l[1],l),l=l[3];null===l&&(l=a),Di(l)&&E_(l[1],l),u=l&&l[4]}l=u}}(l)}}function E_(a,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function NA(a,l){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let h=0;h<u.length;h+=2){const f=l[u[h]];if(!(f instanceof Ur)){const g=u[h+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const C=f[g[v]],T=g[v+1];try{T.call(C)}finally{}}else try{g.call(f)}finally{}}}}(a,l),function PA(a,l){const u=a.cleanup,h=l[7];let f=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const v=u[g+1],C="function"==typeof v?v(l):li(l[v]),T=h[f=u[g+2]],k=u[g+3];"boolean"==typeof k?C.removeEventListener(u[g],T,k):k>=0?h[f=k]():h[f=-k].unsubscribe(),g+=2}else{const v=h[f=u[g+1]];u[g].call(v)}if(null!==h){for(let g=f+1;g<h.length;g++)(0,h[g])();l[7]=null}}(a,l),1===l[1].type&&l[11].destroy();const u=l[17];if(null!==u&&Pr(l[3])){u!==l[3]&&HE(u,l);const h=l[19];null!==h&&h.detachView(a)}!function IM(a){CA.delete(a[20])}(l)}}function zE(a,l,u){return function jE(a,l,u){let h=l;for(;null!==h&&40&h.type;)h=(l=h).parent;if(null===h)return u[0];if(2&h.flags){const f=a.data[h.directiveStart].encapsulation;if(f===Xe.None||f===Xe.Emulated)return null}return Vi(h,u)}(a,l.parent,u)}function jl(a,l,u,h,f){a.insertBefore(l,u,h,f)}function GE(a,l,u){a.appendChild(l,u)}function qE(a,l,u,h,f){null!==h?jl(a,l,u,h,f):GE(a,l,u)}function D_(a,l){return a.parentNode(l)}function hi(a,l,u){return FA(a,l,u)}let FA=function WE(a,l,u){return 40&a.type?Vi(a,u):null};function I_(a,l,u,h){const f=zE(a,h,l),g=l[11],C=hi(h.parent||l[6],h,l);if(null!=f)if(Array.isArray(u))for(let T=0;T<u.length;T++)qE(g,f,u[T],C,!1);else qE(g,f,u,C,!1)}function S_(a,l){if(null!==l){const u=l.type;if(3&u)return Vi(l,a);if(4&u)return YE(-1,a[l.index]);if(8&u){const h=l.child;if(null!==h)return S_(a,h);{const f=a[l.index];return Pr(f)?YE(-1,f):li(f)}}if(32&u)return xA(l,a)()||li(a[l.index]);{const h=LA(a,l);return null!==h?Array.isArray(h)?h[0]:S_(Lh(a[16]),h):S_(a,l.next)}}return null}function LA(a,l){return null!==l?a[16][6].projection[l.projection]:null}function YE(a,l){const u=10+a+1;if(u<l.length){const h=l[u],f=h[1].firstChild;if(null!==f)return S_(h,f)}return l[7]}function BA(a,l,u,h,f,g,v){for(;null!=u;){const C=h[u.index],T=u.type;if(v&&0===l&&(C&&jr(li(C),h),u.flags|=4),64!=(64&u.flags))if(8&T)BA(a,l,u.child,h,f,g,!1),Bh(l,a,f,C,g);else if(32&T){const k=xA(u,h);let F;for(;F=k();)Bh(l,a,f,F,g);Bh(l,a,f,C,g)}else 16&T?Pp(a,l,h,u,f,g):Bh(l,a,f,C,g);u=v?u.projectionNext:u.next}}function Ed(a,l,u,h,f,g){BA(u,h,a.firstChild,l,f,g,!1)}function Pp(a,l,u,h,f,g){const v=u[16],T=v[6].projection[h.projection];if(Array.isArray(T))for(let k=0;k<T.length;k++)Bh(l,a,f,T[k],g);else BA(a,l,T,v[3],f,g,!0)}function Dd(a,l,u){a.setAttribute(l,"style",u)}function Np(a,l,u){""===u?a.removeAttribute(l,"class"):a.setAttribute(l,"class",u)}function UM(a,l,u){let h=a.length;for(;;){const f=a.indexOf(l,u);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const g=l.length;if(f+g===h||a.charCodeAt(f+g)<=32)return f}u=f+1}}const VA="ng-template";function UA(a,l,u){let h=0;for(;h<a.length;){let f=a[h++];if(u&&"class"===f){if(f=a[h],-1!==UM(f.toLowerCase(),l,0))return!0}else if(1===f){for(;h<a.length&&"string"==typeof(f=a[h++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function QE(a){return 4===a.type&&a.value!==VA}function zM(a,l,u){return l===(4!==a.type||u?a.value:VA)}function jM(a,l,u){let h=4;const f=a.attrs||[],g=function KF(a){for(let l=0;l<a.length;l++)if(Fa(a[l]))return l;return a.length}(f);let v=!1;for(let C=0;C<l.length;C++){const T=l[C];if("number"!=typeof T){if(!v)if(4&h){if(h=2|1&h,""!==T&&!zM(a,T,u)||""===T&&1===l.length){if(ha(h))return!1;v=!0}}else{const k=8&h?T:l[++C];if(8&h&&null!==a.attrs){if(!UA(a.attrs,k,u)){if(ha(h))return!1;v=!0}continue}const q=GM(8&h?"class":T,f,QE(a),u);if(-1===q){if(ha(h))return!1;v=!0;continue}if(""!==k){let J;J=q>g?"":f[q+1].toLowerCase();const ge=8&h?J:null;if(ge&&-1!==UM(ge,k,0)||2&h&&k!==J){if(ha(h))return!1;v=!0}}}}else{if(!v&&!ha(h)&&!ha(T))return!1;if(v&&ha(T))continue;v=!1,h=T|1&h}}return ha(h)||v}function ha(a){return 0==(1&a)}function GM(a,l,u,h){if(null===l)return-1;let f=0;if(h||!u){let g=!1;for(;f<l.length;){const v=l[f];if(v===a)return f;if(3===v||6===v)g=!0;else{if(1===v||2===v){let C=l[++f];for(;"string"==typeof C;)C=l[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=g?1:2}return-1}return function JE(a,l){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const h=a[u];if("number"==typeof h)return-1;if(h===l)return u;u++}return-1}(l,a)}function qM(a,l,u=!1){for(let h=0;h<l.length;h++)if(jM(a,l[h],u))return!0;return!1}function ZM(a,l){e:for(let u=0;u<l.length;u++){const h=l[u];if(a.length===h.length){for(let f=0;f<a.length;f++)if(a[f]!==h[f])continue e;return!0}}return!1}function XE(a,l){return a?":not("+l.trim()+")":l}function Uh(a){let l=a[0],u=1,h=2,f="",g=!1;for(;u<a.length;){let v=a[u];if("string"==typeof v)if(2&h){const C=a[++u];f+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&h?f+="."+v:4&h&&(f+=" "+v);else""!==f&&!ha(v)&&(l+=XE(g,f),f=""),h=v,g=g||!ha(h);u++}return""!==f&&(l+=XE(g,f)),l}const fn={};function eD(a){tD(pn(),He(),ni()+a,!1)}function tD(a,l,u,h){if(!h)if(3==(3&l[2])){const g=a.preOrderCheckHooks;null!==g&&ra(l,g,u)}else{const g=a.preOrderHooks;null!==g&&Vr(l,g,0,u)}ls(u)}function jA(a,l=null,u=null,h){const f=M_(a,l,u,h);return f.resolveInjectorInitializers(),f}function M_(a,l=null,u=null,h,f=new Set){const g=[u||Ut,hM(a)];return h=h||("object"==typeof a?void 0:ve(a)),new dA(g,l||l_(),h||null,f)}let xn=(()=>{class a{static create(u,h){if(Array.isArray(u))return jA({name:""},h,u,"");{const f=u.name??"";return jA({name:f},u.parent,u.providers,f)}}}return a.THROW_IF_NOT_FOUND=bo,a.NULL=new gE,a.\u0275prov=un({token:a,providedIn:"any",factory:()=>nn(fE)}),a.__NG_ELEMENT_ID__=-1,a})();function zh(a,l=nt.Default){const u=He();return null===u?nn(a,l):Tl(Ii(),u,oe(a),l)}function sD(){throw new Error("invalid")}function Lp(a,l){return a<<17|l<<2}function tl(a){return a>>17&32767}function YA(a){return 2|a}function Ui(a){return(131068&a)>>2}function jh(a,l){return-131069&a|l<<2}function Bp(a){return 1|a}function _D(a,l){const u=a.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const f=u[h],g=u[h+1];if(-1!==g){const v=a.data[g];gc(f),v.contentQueries(2,l[g],g)}}}function Z_(a,l,u,h,f,g,v,C,T,k,F){const q=l.blueprint.slice();return q[0]=f,q[2]=76|h,(null!==F||a&&1024&a[2])&&(q[2]|=1024),Ia(q),q[3]=q[15]=a,q[8]=u,q[10]=v||a&&a[10],q[11]=C||a&&a[11],q[12]=T||a&&a[12]||null,q[9]=k||a&&a[9]||null,q[6]=g,q[20]=function EM(){return CM++}(),q[21]=F,q[16]=2==l.type?a[16]:q,q}function Gh(a,l,u,h,f){let g=a.data[l];if(null===g)g=function ib(a,l,u,h,f){const g=Jo(),v=ka(),T=a.data[l]=function bD(a,l,u,h,f,g){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,u,l,h,f);return null===a.firstChild&&(a.firstChild=T),null!==g&&(v?null==g.child&&null!==T.parent&&(g.child=T):null===g.next&&(g.next=T)),T}(a,l,u,h,f),function hu(){return zt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=u,g.value=h,g.attrs=f;const v=function wl(){const a=zt.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return dr(g,!0),g}function qh(a,l,u,h){if(0===u)return-1;const f=l.length;for(let g=0;g<u;g++)l.push(h),a.blueprint.push(h),a.data.push(null);return f}function rb(a,l,u){ia(l);try{const h=a.viewQuery;null!==h&&mb(1,h,u);const f=a.template;null!==f&&sb(a,l,f,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&_D(a,l),a.staticViewQueries&&mb(2,a.viewQuery,u);const g=a.components;null!==g&&function f1(a,l){for(let u=0;u<l.length;u++)pb(a,l[u])}(l,g)}catch(h){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),h}finally{l[2]&=-5,Ws()}}function Sd(a,l,u,h){const f=l[2];if(128!=(128&f)){ia(l);try{Ia(l),function Oa(a){return zt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&sb(a,l,u,2,h);const v=3==(3&f);if(v){const k=a.preOrderCheckHooks;null!==k&&ra(l,k,null)}else{const k=a.preOrderHooks;null!==k&&Vr(l,k,0,null),wc(l,0)}if(function v1(a){for(let l=b_(a);null!==l;l=w_(l)){if(!l[2])continue;const u=l[9];for(let h=0;h<u.length;h++){const f=u[h],g=f[3];0==(512&f[2])&&ci(g,1),f[2]|=512}}}(l),function $_(a){for(let l=b_(a);null!==l;l=w_(l))for(let u=10;u<l.length;u++){const h=l[u],f=h[1];Gs(h)&&Sd(f,h,f.template,h[8])}}(l),null!==a.contentQueries&&_D(a,l),v){const k=a.contentCheckHooks;null!==k&&ra(l,k)}else{const k=a.contentHooks;null!==k&&Vr(l,k,1),wc(l,1)}!function d1(a,l){const u=a.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const f=u[h];if(f<0)ls(~f);else{const g=f,v=u[++h],C=u[++h];fu(v,g),C(2,l[g])}}}finally{ls(-1)}}(a,l);const C=a.components;null!==C&&function h1(a,l){for(let u=0;u<l.length;u++)fb(a,l[u])}(l,C);const T=a.viewQuery;if(null!==T&&mb(2,T,h),v){const k=a.viewCheckHooks;null!==k&&ra(l,k)}else{const k=a.viewHooks;null!==k&&Vr(l,k,2),wc(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,ci(l[3],-1))}finally{Ws()}}}function sb(a,l,u,h,f){const g=ni(),v=2&h;try{ls(-1),v&&l.length>22&&tD(a,l,22,!1),u(h,f)}finally{ls(g)}}function ob(a,l,u){if(ss(l)){const f=l.directiveEnd;for(let g=l.directiveStart;g<f;g++){const v=a.data[g];v.contentQueries&&v.contentQueries(1,u[g],g)}}}function Up(a,l,u){!_o()||(function Hp(a,l,u,h){const f=u.directiveStart,g=u.directiveEnd;a.firstCreatePass||Qr(u,l),jr(h,l);const v=u.initialInputs;for(let C=f;C<g;C++){const T=a.data[C],k=yr(T);k&&gL(l,u,T);const F=Ts(l,a,C,u);jr(F,l),null!==v&&mL(0,C-f,F,T,0,v),k&&(Sn(u.index,l)[8]=F)}}(a,l,u,Vi(u,l)),128==(128&u.flags)&&function hL(a,l,u){const h=u.directiveStart,f=u.directiveEnd,g=u.index,v=function pu(){return zt.lFrame.currentDirectiveIndex}();try{ls(g);for(let C=h;C<f;C++){const T=a.data[C],k=l[C];ta(C),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&Y_(T,k)}}finally{ls(-1),ta(v)}}(a,l,u))}function ab(a,l,u=Vi){const h=l.localNames;if(null!==h){let f=l.index+1;for(let g=0;g<h.length;g+=2){const v=h[g+1],C=-1===v?u(l,a):a[v];a[f++]=C}}}function yD(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=lb(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function lb(a,l,u,h,f,g,v,C,T,k){const F=22+h,q=F+f,J=function vD(a,l){const u=[];for(let h=0;h<l;h++)u.push(h<a?null:fn);return u}(F,q),ge="function"==typeof k?k():k;return J[1]={type:a,blueprint:J,template:u,queries:null,viewQuery:C,declTNode:l,data:J.slice().fill(null,F),bindingStartIndex:F,expandoStartIndex:q,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:T,consts:ge,incompleteFirstPass:!1}}function cb(a,l,u,h){const f=ql(l);null===u?f.push(h):(f.push(u),a.firstCreatePass&&_b(a).push(h,f.length-1))}function g1(a,l,u){for(let h in a)if(a.hasOwnProperty(h)){const f=a[h];(u=null===u?{}:u).hasOwnProperty(h)?u[h].push(l,f):u[h]=[l,f]}return u}function wD(a,l){const h=l.directiveEnd,f=a.data,g=l.attrs,v=[];let C=null,T=null;for(let k=l.directiveStart;k<h;k++){const F=f[k],q=F.inputs,J=null===g||QE(l)?null:_L(q,g);v.push(J),C=g1(q,k,C),T=g1(F.outputs,k,T)}null!==C&&(C.hasOwnProperty("class")&&(l.flags|=16),C.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=v,l.inputs=C,l.outputs=T}function fa(a,l,u,h,f,g,v,C){const T=Vi(l,u);let F,k=l.inputs;!C&&null!=k&&(F=k[h])?(TD(a,u,F,h,f),Nr(l)&&W_(u,l.index)):3&l.type&&(h=function cL(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(h),f=null!=v?v(f,l.value||"",h):f,g.setProperty(T,h,f))}function W_(a,l){const u=Sn(l,a);16&u[2]||(u[2]|=32)}function ub(a,l,u,h){let f=!1;if(_o()){const g=function fL(a,l,u){const h=a.directiveRegistry;let f=null;if(h)for(let g=0;g<h.length;g++){const v=h[g];qM(u,v.selectors,!1)&&(f||(f=[]),Ba(Qr(u,l),a,v.type),yr(v)?(ED(a,u),f.unshift(v)):f.push(v))}return f}(a,l,u),v=null===h?null:{"":-1};if(null!==g){f=!0,DD(u,a.data.length,g.length);for(let F=0;F<g.length;F++){const q=g[F];q.providersResolver&&q.providersResolver(q)}let C=!1,T=!1,k=qh(a,l,g.length,null);for(let F=0;F<g.length;F++){const q=g[F];u.mergedAttrs=La(u.mergedAttrs,q.hostAttrs),_1(a,u,l,k,q),m1(k,q,v),null!==q.contentQueries&&(u.flags|=8),(null!==q.hostBindings||null!==q.hostAttrs||0!==q.hostVars)&&(u.flags|=128);const J=q.type.prototype;!C&&(J.ngOnChanges||J.ngOnInit||J.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),C=!0),!T&&(J.ngOnChanges||J.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),T=!0),k++}wD(a,u)}v&&function pL(a,l,u){if(l){const h=a.localNames=[];for(let f=0;f<l.length;f+=2){const g=u[l[f+1]];if(null==g)throw new Oe(-301,!1);h.push(l[f],g)}}}(u,h,v)}return u.mergedAttrs=La(u.mergedAttrs,u.attrs),f}function db(a,l,u,h,f,g){const v=g.hostBindings;if(v){let C=a.hostBindingOpCodes;null===C&&(C=a.hostBindingOpCodes=[]);const T=~l.index;(function hb(a){let l=a.length;for(;l>0;){const u=a[--l];if("number"==typeof u&&u<0)return u}return 0})(C)!=T&&C.push(T),C.push(h,f,v)}}function Y_(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function ED(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function m1(a,l,u){if(u){if(l.exportAs)for(let h=0;h<l.exportAs.length;h++)u[l.exportAs[h]]=a;yr(l)&&(u[""]=a)}}function DD(a,l,u){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+u,a.providerIndexes=l}function _1(a,l,u,h,f){a.data[h]=f;const g=f.factory||(f.factory=Yi(f.type)),v=new Ur(g,yr(f),zh);a.blueprint[h]=v,u[h]=v,db(a,l,0,h,qh(a,u,f.hostVars,fn),f)}function gL(a,l,u){const h=Vi(l,a),f=yD(u),g=a[10],v=Zh(a,Z_(a,f,null,u.onPush?32:16,h,l,g,g.createRenderer(h,u),null,null,null));a[l.index]=v}function Gl(a,l,u,h,f,g){const v=Vi(a,l);!function ID(a,l,u,h,f,g,v){if(null==g)a.removeAttribute(l,f,u);else{const C=null==v?Me(g):v(g,h||"",f);a.setAttribute(l,f,C,u)}}(l[11],v,g,a.value,u,h,f)}function mL(a,l,u,h,f,g){const v=g[l];if(null!==v){const C=h.setInput;for(let T=0;T<v.length;){const k=v[T++],F=v[T++],q=v[T++];null!==C?h.setInput(u,q,k,F):u[F]=q}}}function _L(a,l){let u=null,h=0;for(;h<l.length;){const f=l[h];if(0!==f)if(5!==f){if("number"==typeof f)break;a.hasOwnProperty(f)&&(null===u&&(u=[]),u.push(f,a[f],l[h+1])),h+=2}else h+=2;else h+=4}return u}function y1(a,l,u,h){return new Array(a,!0,!1,l,null,0,h,u,null,null)}function fb(a,l){const u=Sn(l,a);if(Gs(u)){const h=u[1];48&u[2]?Sd(h,u,h.template,u[8]):u[5]>0&&zp(u)}}function zp(a){for(let h=b_(a);null!==h;h=w_(h))for(let f=10;f<h.length;f++){const g=h[f];if(Gs(g))if(512&g[2]){const v=g[1];Sd(v,g,v.template,g[8])}else g[5]>0&&zp(g)}const u=a[1].components;if(null!==u)for(let h=0;h<u.length;h++){const f=Sn(u[h],a);Gs(f)&&f[5]>0&&zp(f)}}function pb(a,l){const u=Sn(l,a),h=u[1];(function gb(a,l){for(let u=l.length;u<a.blueprint.length;u++)l.push(a.blueprint[u])})(h,u),rb(h,u,u[8])}function Zh(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function jp(a){for(;a;){a[2]|=32;const l=Lh(a);if(Ea(a)&&!l)return a;a=l}return null}function Wh(a,l,u,h=!0){const f=l[10];f.begin&&f.begin();try{Sd(a,l,a.template,u)}catch(v){throw h&&nl(l,v),v}finally{f.end&&f.end()}}function mb(a,l,u){gc(0),l(a,u)}function ql(a){return a[7]||(a[7]=[])}function _b(a){return a.cleanup||(a.cleanup=[])}function yb(a,l,u){return(null===a||yr(a))&&(u=function uu(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(u[l.index])),u[11]}function nl(a,l){const u=a[9],h=u?u.get(kp,null):null;h&&h.handleError(l)}function TD(a,l,u,h,f){for(let g=0;g<u.length;){const v=u[g++],C=u[g++],T=l[v],k=a.data[v];null!==k.setInput?k.setInput(T,f,h,C):T[C]=f}}function Hc(a,l,u){const h=Lr(l,a);!function BE(a,l,u){a.setValue(l,u)}(a[11],h,u)}function K_(a,l,u){let h=u?a.styles:null,f=u?a.classes:null,g=0;if(null!==l)for(let v=0;v<l.length;v++){const C=l[v];"number"==typeof C?g=C:1==g?f=Se(f,C):2==g&&(h=Se(h,C+": "+l[++v]+";"))}u?a.styles=h:a.stylesWithoutHost=h,u?a.classes=f:a.classesWithoutHost=f}function Q_(a,l,u,h,f=!1){for(;null!==u;){const g=l[u.index];if(null!==g&&h.push(li(g)),Pr(g))for(let C=10;C<g.length;C++){const T=g[C],k=T[1].firstChild;null!==k&&Q_(T[1],T,k,h)}const v=u.type;if(8&v)Q_(a,l,u.child,h);else if(32&v){const C=xA(u,l);let T;for(;T=C();)h.push(T)}else if(16&v){const C=LA(l,u);if(Array.isArray(C))h.push(...C);else{const T=Lh(l[16]);Q_(T[1],T,C,h,!0)}}u=f?u.projectionNext:u.next}return h}class Gp{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return Q_(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Pr(l)){const u=l[8],h=u?u.indexOf(this):-1;h>-1&&(RA(l,h),si(u,h))}this._attachedToViewContainer=!1}Rp(this._lView[1],this._lView)}onDestroy(l){cb(this._lView[1],this._lView,null,l)}markForCheck(){jp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Wh(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Oe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function UE(a,l){Ed(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Oe(902,!1);this._appRef=l}}class xD extends Gp{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;Wh(l[1],l,l[8],!1)}checkNoChanges(){}get context(){return null}}class Yh extends Su{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=V(l);return new qp(u,this.ngModule)}}function zc(a){const l=[];for(let u in a)a.hasOwnProperty(u)&&l.push({propName:a[u],templateName:u});return l}class A1{constructor(l,u){this.injector=l,this.parentInjector=u}get(l,u,h){const f=this.injector.get(l,mA,h);return f!==mA||u===mA?f:this.parentInjector.get(l,u,h)}}class qp extends pA{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function WM(a){return a.map(Uh).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return zc(this.componentDef.inputs)}get outputs(){return zc(this.componentDef.outputs)}create(l,u,h,f){let g=(f=f||this.ngModule)instanceof Hl?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new A1(l,g):l,C=v.get(mM,null);if(null===C)throw new Oe(407,!1);const T=v.get(gA,null),k=C.createRenderer(null,this.componentDef),F=this.componentDef.selectors[0][0]||"div",q=h?function AD(a,l,u){return a.selectRootElement(l,u===Xe.ShadowDom)}(k,h,this.componentDef.encapsulation):C_(k,F,function yL(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(F)),J=this.componentDef.onPush?288:272,ge=lb(0,null,null,1,0,null,null,null,null,null),Re=Z_(null,ge,null,J,null,null,C,k,T,v,null);let et,ht;ia(Re);try{const bt=function Zp(a,l,u,h,f,g){const v=u[1];u[22]=a;const T=Gh(v,22,2,"#host",null),k=T.mergedAttrs=l.hostAttrs;null!==k&&(K_(T,k,!0),null!==a&&(Ss(f,a,k),null!==T.classes&&Np(f,a,T.classes),null!==T.styles&&Dd(f,a,T.styles)));const F=h.createRenderer(a,l),q=Z_(u,yD(l),null,l.onPush?32:16,u[22],T,h,F,g||null,null,null);return v.firstCreatePass&&(Ba(Qr(T,u),v,l.type),ED(v,T),DD(T,u.length,1)),Zh(u,q),u[22]=q}(q,this.componentDef,Re,C,k);if(q)if(h)Ss(k,q,["ng-version",IE.full]);else{const{attrs:Lt,classes:ze}=function YM(a){const l=[],u=[];let h=1,f=2;for(;h<a.length;){let g=a[h];if("string"==typeof g)2===f?""!==g&&l.push(g,a[++h]):8===f&&u.push(g);else{if(!ha(f))break;f=g}h++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);Lt&&Ss(k,q,Lt),ze&&ze.length>0&&Np(k,q,ze.join(" "))}if(ht=mo(ge,22),void 0!==u){const Lt=ht.projection=[];for(let ze=0;ze<this.ngContentSelectors.length;ze++){const Kt=u[ze];Lt.push(null!=Kt?Array.from(Kt):null)}}et=function fr(a,l,u,h){const f=u[1],g=function CD(a,l,u){const h=Ii();a.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),_1(a,h,l,qh(a,l,1,null),u),wD(a,h));const f=Ts(l,a,h.directiveStart,h);jr(f,l);const g=Vi(h,l);return g&&jr(g,l),f}(f,u,l);if(a[8]=u[8]=g,null!==h)for(const C of h)C(g,l);if(l.contentQueries){const C=Ii();l.contentQueries(1,g,C.directiveStart)}const v=Ii();return!f.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(ls(v.index),db(u[1],v,0,v.directiveStart,v.directiveEnd,l),Y_(l,g)),g}(bt,this.componentDef,Re,[vb]),rb(ge,Re,null)}finally{Ws()}return new kD(this.componentType,et,kh(ht,Re),Re,ht)}}class kD extends class bE{}{constructor(l,u,h,f,g){super(),this.location=h,this._rootLView=f,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new xD(f),this.componentType=l}setInput(l,u){const h=this._tNode.inputs;let f;if(null!==h&&(f=h[l])){const g=this._rootLView;TD(g[1],g,f,l,u),W_(g,this._tNode.index)}}get injector(){return new Ml(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function vb(){const a=Ii();El(He()[1],a)}function Td(a){let l=function J_(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const h=[a];for(;l;){let f;if(yr(a))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Oe(903,!1);f=l.\u0275dir}if(f){if(u){h.push(f);const v=a;v.inputs=Wp(a.inputs),v.declaredInputs=Wp(a.declaredInputs),v.outputs=Wp(a.outputs);const C=f.hostBindings;C&&Ab(a,C);const T=f.viewQuery,k=f.contentQueries;if(T&&$h(a,T),k&&RD(a,k),ae(a.inputs,f.inputs),ae(a.declaredInputs,f.declaredInputs),ae(a.outputs,f.outputs),yr(f)&&f.data.animation){const F=a.data;F.animation=(F.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let v=0;v<g.length;v++){const C=g[v];C&&C.ngInherit&&C(a),C===Td&&(u=!1)}}l=Object.getPrototypeOf(l)}!function OD(a){let l=0,u=null;for(let h=a.length-1;h>=0;h--){const f=a[h];f.hostVars=l+=f.hostVars,f.hostAttrs=La(f.hostAttrs,u=La(u,f.hostAttrs))}}(h)}function Wp(a){return a===er?{}:a===Ut?[]:a}function $h(a,l){const u=a.viewQuery;a.viewQuery=u?(h,f)=>{l(h,f),u(h,f)}:l}function RD(a,l){const u=a.contentQueries;a.contentQueries=u?(h,f,g)=>{l(h,f,g),u(h,f,g)}:l}function Ab(a,l){const u=a.hostBindings;a.hostBindings=u?(h,f)=>{l(h,f),u(h,f)}:l}let bb=null;function Kh(){if(!bb){const a=qt.Symbol;if(a&&a.iterator)bb=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const h=l[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(bb=h)}}}return bb}function X_(a){return!!PD(a)&&(Array.isArray(a)||!(a instanceof Map)&&Kh()in a)}function PD(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Zl(a,l,u){return a[l]=u}function Gr(a,l,u){return!Object.is(a[l],u)&&(a[l]=u,!0)}function jc(a,l,u,h){const f=Gr(a,l,u);return Gr(a,l+1,h)||f}function $p(a,l,u,h){const f=He();return Gr(f,Zs(),l)&&(pn(),Gl(ii(),f,a,l,u,h)),$p}function Kp(a,l,u,h){return Gr(a,Zs(),u)?l+Me(u)+h:fn}function Qp(a,l,u,h,f,g){const C=jc(a,function as(){return zt.lFrame.bindingIndex}(),u,f);return Is(2),C?l+Me(u)+h+Me(f)+g:fn}function Cb(a,l,u,h,f,g,v,C){const T=He(),k=pn(),F=a+22,q=k.firstCreatePass?function Ou(a,l,u,h,f,g,v,C,T){const k=l.consts,F=Gh(l,a,4,v||null,Br(k,C));ub(l,u,F,Br(k,T)),El(l,F);const q=F.tViews=lb(2,F,h,f,g,l.directiveRegistry,l.pipeRegistry,null,l.schemas,k);return null!==l.queries&&(l.queries.template(l,F),q.queries=l.queries.embeddedTView(F)),F}(F,k,T,l,u,h,f,g,v):k.data[F];dr(q,!1);const J=T[11].createComment("");I_(k,T,J,q),jr(J,T),Zh(T,T[F]=y1(J,T,J,q)),co(q)&&Up(k,T,q),null!=v&&ab(T,q,C)}function Gc(a){return os(function ea(){return zt.lFrame.contextLView}(),22+a)}function Eb(a,l,u){const h=He();return Gr(h,Zs(),l)&&fa(pn(),ii(),h,a,l,h[11],u,!1),Eb}function eg(a,l,u,h,f){const v=f?"class":"style";TD(a,u,l.inputs[v],v,h)}function tg(a,l,u,h){const f=He(),g=pn(),v=22+a,C=f[11],T=f[v]=C_(C,l,function Ac(){return zt.lFrame.currentNamespace}()),k=g.firstCreatePass?function VD(a,l,u,h,f,g,v){const C=l.consts,k=Gh(l,a,2,f,Br(C,g));return ub(l,u,k,Br(C,v)),null!==k.attrs&&K_(k,k.attrs,!1),null!==k.mergedAttrs&&K_(k,k.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,k),k}(v,g,f,0,l,u,h):g.data[v];dr(k,!0);const F=k.mergedAttrs;null!==F&&Ss(C,T,F);const q=k.classes;null!==q&&Np(C,T,q);const J=k.styles;return null!==J&&Dd(C,T,J),64!=(64&k.flags)&&I_(g,f,T,k),0===function Ta(){return zt.lFrame.elementDepthCount}()&&jr(T,f),function du(){zt.lFrame.elementDepthCount++}(),co(k)&&(Up(g,f,k),ob(g,k,f)),null!==h&&ab(f,k),tg}function ng(){let a=Ii();ka()?Xo():(a=a.parent,dr(a,!1));const l=a;!function xa(){zt.lFrame.elementDepthCount--}();const u=pn();return u.firstCreatePass&&(El(u,a),ss(a)&&u.queries.elementEnd(a)),null!=l.classesWithoutHost&&function Il(a){return 0!=(16&a.flags)}(l)&&eg(u,l,He(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function br(a){return 0!=(32&a.flags)}(l)&&eg(u,l,He(),l.stylesWithoutHost,!1),ng}function ty(a,l,u,h){return tg(a,l,u,h),ng(),ty}function ig(a,l,u){const h=He(),f=pn(),g=a+22,v=f.firstCreatePass?function UD(a,l,u,h,f){const g=l.consts,v=Br(g,h),C=Gh(l,a,8,"ng-container",v);return null!==v&&K_(C,v,!0),ub(l,u,C,Br(g,f)),null!==l.queries&&l.queries.elementStart(l,C),C}(g,f,h,l,u):f.data[g];dr(v,!0);const C=h[g]=h[11].createComment("");return I_(f,h,C,v),jr(C,h),co(v)&&(Up(f,h,v),ob(f,v,h)),null!=u&&ab(h,v),ig}function rg(){let a=Ii();const l=pn();return ka()?Xo():(a=a.parent,dr(a,!1)),l.firstCreatePass&&(El(l,a),ss(a)&&l.queries.elementEnd(a)),rg}function ny(a,l,u){return ig(a,l,u),rg(),ny}function sg(){return He()}function iy(a){return!!a&&"function"==typeof a.then}function Db(a){return!!a&&"function"==typeof a.subscribe}const Ib=Db;function ry(a,l,u,h){const f=He(),g=pn(),v=Ii();return Tb(g,f,f[11],v,a,l,0,h),ry}function Sb(a,l){const u=Ii(),h=He(),f=pn();return Tb(f,h,yb(pc(f.data),u,h),u,a,l),Sb}function Tb(a,l,u,h,f,g,v,C){const T=co(h),F=a.firstCreatePass&&_b(a),q=l[8],J=ql(l);let ge=!0;if(3&h.type||C){const ht=Vi(h,l),bt=C?C(ht):ht,Lt=J.length,ze=C?Yn=>C(li(Yn[h.index])):h.index;let Kt=null;if(!C&&T&&(Kt=function HD(a,l,u,h){const f=a.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const v=f[g];if(v===u&&f[g+1]===h){const C=l[7],T=f[g+2];return C.length>T?C[T]:null}"string"==typeof v&&(g+=2)}return null}(a,l,f,h.index)),null!==Kt)(Kt.__ngLastListenerFn__||Kt).__ngNextListenerFn__=g,Kt.__ngLastListenerFn__=g,ge=!1;else{g=xb(h,l,q,g,!1);const Yn=u.listen(bt,f,g);J.push(g,Yn),F&&F.push(f,ze,Lt,Lt+1)}}else g=xb(h,l,q,g,!1);const Re=h.outputs;let et;if(ge&&null!==Re&&(et=Re[f])){const ht=et.length;if(ht)for(let bt=0;bt<ht;bt+=2){const Cn=l[et[bt]][et[bt+1]].subscribe(g),Kd=J.length;J.push(g,Cn),F&&F.push(f,h.index,Kd,-(Kd+1))}}}function sy(a,l,u,h){try{return!1!==u(h)}catch(f){return nl(a,f),!1}}function xb(a,l,u,h,f){return function g(v){if(v===Function)return h;jp(2&a.flags?Sn(a.index,l):l);let T=sy(l,0,h,v),k=g.__ngNextListenerFn__;for(;k;)T=sy(l,0,k,v)&&T,k=k.__ngNextListenerFn__;return f&&!1===T&&(v.preventDefault(),v.returnValue=!1),T}}function oy(a=1){return function Ys(a){return(zt.lFrame.contextLView=function mu(a,l){for(;a>0;)l=l[15],a--;return l}(a,zt.lFrame.contextLView))[8]}(a)}function zD(a,l){let u=null;const h=function T_(a){const l=a.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(a);for(let f=0;f<l.length;f++){const g=l[f];if("*"!==g){if(null===h?qM(a,g,!0):ZM(h,g))return f}else u=f}return u}function Mb(a){const l=He()[16][6];if(!l.projection){const h=l.projection=za(a?a.length:1,null),f=h.slice();let g=l.child;for(;null!==g;){const v=a?zD(g,a):0;null!==v&&(f[v]?f[v].projectionNext=g:h[v]=g,f[v]=g),g=g.next}}}function kb(a,l=0,u){const h=He(),f=pn(),g=Gh(f,22+a,16,null,u||null);null===g.projection&&(g.projection=l),Xo(),64!=(64&g.flags)&&function $E(a,l,u){Pp(l[11],0,l,u,zE(a,u,l),hi(u.parent||l[6],u,l))}(f,h,g)}function og(a,l,u){return kd(a,"",l,"",u),og}function kd(a,l,u,h,f){const g=He(),v=Kp(g,l,u,h);return v!==fn&&fa(pn(),ii(),g,a,v,g[11],f,!1),kd}function ag(a,l,u,h,f){const g=a[u+1],v=null===l;let C=h?tl(g):Ui(g),T=!1;for(;0!==C&&(!1===T||v);){const F=a[C+1];S1(a[C],l)&&(T=!0,a[C+1]=h?Bp(F):YA(F)),C=h?tl(F):Ui(F)}T&&(a[u+1]=h?YA(g):Bp(g))}function S1(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&Qs(a,l)>=0}function Pd(a,l,u){return Io(a,l,u,!1),Pd}function ef(a,l){return Io(a,l,null,!0),ef}function Io(a,l,u,h){const f=He(),g=pn(),v=Is(2);g.firstUpdatePass&&function Bb(a,l,u,h){const f=a.data;if(null===f[u+1]){const g=f[ni()],v=function ug(a,l){return l>=a.expandoStartIndex}(a,u);(function mg(a,l){return 0!=(a.flags&(l?16:32))})(g,h)&&null===l&&!v&&(l=!1),l=function YD(a,l,u,h){const f=pc(a);let g=h?l.residualClasses:l.residualStyles;if(null===f)0===(h?l.classBindings:l.styleBindings)&&(u=dg(u=KD(null,a,l,u,h),l.attrs,h),g=null);else{const v=l.directiveStylingLast;if(-1===v||a[v]!==f)if(u=KD(f,a,l,u,h),null===g){let T=function $D(a,l,u){const h=u?l.classBindings:l.styleBindings;if(0!==Ui(h))return a[tl(h)]}(a,l,h);void 0!==T&&Array.isArray(T)&&(T=KD(null,a,l,T[1],h),T=dg(T,l.attrs,h),function So(a,l,u,h){a[tl(u?l.classBindings:l.styleBindings)]=h}(a,l,h,T))}else g=function SL(a,l,u){let h;const f=l.directiveEnd;for(let g=1+l.directiveStylingLast;g<f;g++)h=dg(h,a[g].hostAttrs,u);return dg(h,l.attrs,u)}(a,l,h)}return void 0!==g&&(h?l.residualClasses=g:l.residualStyles=g),u}(f,g,l,h),function Rd(a,l,u,h,f,g){let v=g?l.classBindings:l.styleBindings,C=tl(v),T=Ui(v);a[h]=u;let F,k=!1;if(Array.isArray(u)){const q=u;F=q[1],(null===F||Qs(q,F)>0)&&(k=!0)}else F=u;if(f)if(0!==T){const J=tl(a[C+1]);a[h+1]=Lp(J,C),0!==J&&(a[J+1]=jh(a[J+1],h)),a[C+1]=function r1(a,l){return 131071&a|l<<17}(a[C+1],h)}else a[h+1]=Lp(C,0),0!==C&&(a[C+1]=jh(a[C+1],h)),C=h;else a[h+1]=Lp(T,0),0===C?C=h:a[T+1]=jh(a[T+1],h),T=h;k&&(a[h+1]=YA(a[h+1])),ag(a,F,h,!0),ag(a,F,h,!1),function Fb(a,l,u,h,f){const g=f?a.residualClasses:a.residualStyles;null!=g&&"string"==typeof l&&Qs(g,l)>=0&&(u[h+1]=Bp(u[h+1]))}(l,F,a,h,g),v=Lp(C,T),g?l.classBindings=v:l.styleBindings=v}(f,g,l,u,v,h)}}(g,a,v,h),l!==fn&&Gr(f,v,l)&&function pg(a,l,u,h,f,g,v,C){if(!(3&l.type))return;const T=a.data,k=T[C+1];ay(function $A(a){return 1==(1&a)}(k)?gg(T,l,u,f,Ui(k),v):void 0)||(ay(g)||function aD(a){return 2==(2&a)}(k)&&(g=gg(T,null,u,f,C,v)),function KE(a,l,u,h,f){if(l)f?a.addClass(u,h):a.removeClass(u,h);else{let g=-1===h.indexOf("-")?void 0:zl.DashCase;null==f?a.removeStyle(u,h,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=zl.Important),a.setStyle(u,h,f,g))}}(h,v,Lr(ni(),u),f,g))}(g,g.data[ni()],f,f[11],a,f[v+1]=function Vb(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=ve(Do(a)))),a}(l,u),h,v)}function KD(a,l,u,h,f){let g=null;const v=u.directiveEnd;let C=u.directiveStylingLast;for(-1===C?C=u.directiveStart:C++;C<v&&(g=l[C],h=dg(h,g.hostAttrs,f),g!==a);)C++;return null!==a&&(u.directiveStylingLast=C),h}function dg(a,l,u){const h=u?1:2;let f=-1;if(null!==l)for(let g=0;g<l.length;g++){const v=l[g];"number"==typeof v?f=v:f===h&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),ot(a,v,!!u||l[++g]))}return void 0===a?null:a}function gg(a,l,u,h,f,g){const v=null===l;let C;for(;f>0;){const T=a[f],k=Array.isArray(T),F=k?T[1]:T,q=null===F;let J=u[f+1];J===fn&&(J=q?Ut:void 0);let ge=q?Mc(J,h):F===h?J:void 0;if(k&&!ay(ge)&&(ge=Mc(T,h)),ay(ge)&&(C=ge,v))return C;const Re=a[f+1];f=v?tl(Re):Ui(Re)}if(null!==l){let T=g?l.residualClasses:l.residualStyles;null!=T&&(C=Mc(T,h))}return C}function ay(a){return void 0!==a}function QD(a,l=""){const u=He(),h=pn(),f=a+22,g=h.firstCreatePass?Gh(h,f,1,l,null):h.data[f],v=u[f]=function kA(a,l){return a.createText(l)}(u[11],l);I_(h,u,v,g),dr(g,!1)}function Ub(a){return _g("",a,""),Ub}function _g(a,l,u){const h=He(),f=Kp(h,a,l,u);return f!==fn&&Hc(h,ni(),f),_g}function Hb(a,l,u,h,f){const g=He(),v=Qp(g,a,l,u,h,f);return v!==fn&&Hc(g,ni(),v),Hb}function lI(a,l,u){const h=He();return Gr(h,Zs(),l)&&fa(pn(),ii(),h,a,l,h[11],u,!0),lI}function uy(a,l,u){const h=He();if(Gr(h,Zs(),l)){const g=pn(),v=ii();fa(g,v,h,a,l,yb(pc(g.data),v,h),u,!0)}return uy}const Fd=void 0;var V1=["en",[["a","p"],["AM","PM"],Fd],[["AM","PM"],Fd,Fd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fd,"{1} 'at' {0}",Fd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function cI(a){const u=Math.floor(Math.abs(a)),h=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let Ld={};function Wb(a){const l=function H1(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=To(l);if(u)return u;const h=l.split("-")[0];if(u=To(h),u)return u;if("en"===h)return V1;throw new Oe(701,!1)}function dI(a){return Wb(a)[Ht.PluralCase]}function To(a){return a in Ld||(Ld[a]=qt.ng&&qt.ng.common&&qt.ng.common.locales&&qt.ng.common.locales[a]),Ld[a]}var Ht=(()=>((Ht=Ht||{})[Ht.LocaleId=0]="LocaleId",Ht[Ht.DayPeriodsFormat=1]="DayPeriodsFormat",Ht[Ht.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ht[Ht.DaysFormat=3]="DaysFormat",Ht[Ht.DaysStandalone=4]="DaysStandalone",Ht[Ht.MonthsFormat=5]="MonthsFormat",Ht[Ht.MonthsStandalone=6]="MonthsStandalone",Ht[Ht.Eras=7]="Eras",Ht[Ht.FirstDayOfWeek=8]="FirstDayOfWeek",Ht[Ht.WeekendRange=9]="WeekendRange",Ht[Ht.DateFormat=10]="DateFormat",Ht[Ht.TimeFormat=11]="TimeFormat",Ht[Ht.DateTimeFormat=12]="DateTimeFormat",Ht[Ht.NumberSymbols=13]="NumberSymbols",Ht[Ht.NumberFormats=14]="NumberFormats",Ht[Ht.CurrencyCode=15]="CurrencyCode",Ht[Ht.CurrencySymbol=16]="CurrencySymbol",Ht[Ht.CurrencyName=17]="CurrencyName",Ht[Ht.Currencies=18]="Currencies",Ht[Ht.Directionality=19]="Directionality",Ht[Ht.PluralCase=20]="PluralCase",Ht[Ht.ExtraData=21]="ExtraData",Ht))();const rf="en-US";let $b=rf;function yy(a,l,u,h,f){if(a=oe(a),Array.isArray(a))for(let g=0;g<a.length;g++)yy(a[g],l,u,h,f);else{const g=pn(),v=He();let C=ca(a)?a:oe(a.provide),T=c_(a);const k=Ii(),F=1048575&k.providerIndexes,q=k.directiveStart,J=k.providerIndexes>>20;if(ca(a)||!a.multi){const ge=new Ur(T,f,zh),Re=cf(C,l,f?F:F+J,q);-1===Re?(Ba(Qr(k,v),g,C),uw(g,a,l.length),l.push(C),k.directiveStart++,k.directiveEnd++,f&&(k.providerIndexes+=1048576),u.push(ge),v.push(ge)):(u[Re]=ge,v[Re]=ge)}else{const ge=cf(C,l,F+J,q),Re=cf(C,l,F,F+J),et=ge>=0&&u[ge],ht=Re>=0&&u[Re];if(f&&!ht||!f&&!et){Ba(Qr(k,v),g,C);const bt=function ek(a,l,u,h,f){const g=new Ur(a,u,zh);return g.multi=[],g.index=l,g.componentProviders=0,dw(g,f,h&&!u),g}(f?fw:hw,u.length,f,h,T);!f&&ht&&(u[Re].providerFactory=bt),uw(g,a,l.length,0),l.push(C),k.directiveStart++,k.directiveEnd++,f&&(k.providerIndexes+=1048576),u.push(bt),v.push(bt)}else uw(g,a,ge>-1?ge:Re,dw(u[f?Re:ge],T,!f&&h));!f&&h&&ht&&u[Re].componentProviders++}}}function uw(a,l,u,h){const f=ca(l),g=function vE(a){return!!a.useClass}(l);if(f||g){const T=(g?oe(l.useClass):l).prototype.ngOnDestroy;if(T){const k=a.destroyHooks||(a.destroyHooks=[]);if(!f&&l.multi){const F=k.indexOf(u);-1===F?k.push(u,[h,T]):k[F+1].push(h,T)}else k.push(u,T)}}}function dw(a,l,u){return u&&a.componentProviders++,a.multi.push(l)-1}function cf(a,l,u,h){for(let f=u;f<h;f++)if(l[f]===a)return f;return-1}function hw(a,l,u,h){return xg(this.multi,[])}function fw(a,l,u,h){const f=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=Ts(u,u[1],this.providerFactory.index,h);g=C.slice(0,v),xg(f,g);for(let T=v;T<C.length;T++)g.push(C[T])}else g=[],xg(f,g);return g}function xg(a,l){for(let u=0;u<a.length;u++)l.push((0,a[u])());return l}function FI(a,l=[]){return u=>{u.providersResolver=(h,f)=>function cw(a,l,u){const h=pn();if(h.firstCreatePass){const f=yr(a);yy(u,h.data,h.blueprint,f,!0),yy(l,h.data,h.blueprint,f,!1)}}(h,f?f(a):a,l)}}class Nu{}class pw{}function tk(a,l){return new LI(a,l??null)}class LI extends Nu{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Yh(this);const h=_t(l);this._bootstrapComponents=Bc(h.bootstrap),this._r3Injector=M_(l,u,[{provide:Nu,useValue:this},{provide:Su,useValue:this.componentFactoryResolver}],ve(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class Vd extends pw{constructor(l){super(),this.moduleType=l}create(l){return new LI(this.moduleType,l)}}class nk extends Nu{constructor(l,u,h){super(),this.componentFactoryResolver=new Yh(this),this.instance=null;const f=new dA([...l,{provide:Nu,useValue:this},{provide:Su,useValue:this.componentFactoryResolver}],u||l_(),h,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function gw(a,l,u=null){return new nk(a,l,u).injector}let Ay=(()=>{class a{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const h=mE(0,u.type),f=h.length>0?gw([h],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,f)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=un({token:a,providedIn:"environment",factory:()=>new a(nn(Hl))}),a})();function by(a){a.getStandaloneInjector=l=>l.get(Ay).getOrCreateStandaloneInjector(a)}function Ey(a,l,u){const h=ki()+a,f=He();return f[h]===fn?Zl(f,h,u?l.call(u):l()):function Qh(a,l){return a[l]}(f,h)}function Sr(a,l,u,h){return Dy(He(),ki(),a,l,u,h)}function qr(a,l,u,h,f){return function HI(a,l,u,h,f,g,v){const C=l+u;return jc(a,C,f,g)?Zl(a,C+2,v?h.call(v,f,g):h(f,g)):uf(a,C+2)}(He(),ki(),a,l,u,h,f)}function kg(a,l,u,h,f,g){return function Iy(a,l,u,h,f,g,v,C){const T=l+u;return function Yp(a,l,u,h,f){const g=jc(a,l,u,h);return Gr(a,l+2,f)||g}(a,T,f,g,v)?Zl(a,T+3,C?h.call(C,f,g,v):h(f,g,v)):uf(a,T+3)}(He(),ki(),a,l,u,h,f,g)}function uf(a,l){const u=a[l];return u===fn?void 0:u}function Dy(a,l,u,h,f,g){const v=l+u;return Gr(a,v,f)?Zl(a,v+1,g?h.call(g,f):h(f)):uf(a,v+1)}function Og(a,l){const u=pn();let h;const f=a+22;u.firstCreatePass?(h=function Tw(a,l){if(l)for(let u=l.length-1;u>=0;u--){const h=l[u];if(a===h.name)return h}}(l,u.pipeRegistry),u.data[f]=h,h.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(f,h.onDestroy)):h=u.data[f];const g=h.factory||(h.factory=Yi(h.type)),v=dn(zh);try{const C=K(!1),T=g();return K(C),function Dr(a,l,u,h){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),l[u]=h}(u,He(),f,T),T}finally{dn(v)}}function xw(a,l,u){const h=a+22,f=He(),g=os(f,h);return function df(a,l){return a[1].data[l].pure}(f,h)?Dy(f,ki(),l,g.transform,u,g):g.transform(u)}function Mw(a){return l=>{setTimeout(a,void 0,l)}}const $l=class Sy extends s.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,h){let f=l,g=u||(()=>null),v=h;if(l&&"object"==typeof l){const T=l;f=T.next?.bind(T),g=T.error?.bind(T),v=T.complete?.bind(T)}this.__isAsync&&(g=Mw(g),f&&(f=Mw(f)),v&&(v=Mw(v)));const C=super.subscribe({next:f,error:g,complete:v});return l instanceof L.w0&&l.add(C),C}};function hf(){return this._results[Kh()]()}class kw{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Kh(),h=kw.prototype;h[u]||(h[u]=hf)}get changes(){return this._changes||(this._changes=new $l)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const h=this;h.dirty=!1;const f=tn(l);(this._changesDetected=!function jt(a,l,u){if(a.length!==l.length)return!1;for(let h=0;h<a.length;h++){let f=a[h],g=l[h];if(u&&(f=u(f),g=u(g)),g!==f)return!1}return!0}(h._results,f,u))&&(h._results=f,h.length=f.length,h.last=f[this.length-1],h.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Pg=(()=>{class a{}return a.__NG_ELEMENT_ID__=Ty,a})();const Ud=Pg,ZI=class extends Ud{constructor(l,u,h){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(l,u){const h=this._declarationTContainer.tViews,f=Z_(this._declarationLView,h,l,16,null,h.declTNode,null,null,null,null,u||null);f[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(f[19]=v.createEmbeddedView(h)),rb(h,f,l),new Gp(f)}};function Ty(){return Ng(Ii(),He())}function Ng(a,l){return 4&a.type?new ZI(l,a,kh(a,l)):null}let Fu=(()=>{class a{}return a.__NG_ELEMENT_ID__=WI,a})();function WI(){return Rw(Ii(),He())}const Ps=Fu,Ow=class extends Ps{constructor(l,u,h){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=h}get element(){return kh(this._hostTNode,this._hostLView)}get injector(){return new Ml(this._hostTNode,this._hostLView)}get parentInjector(){const l=Sc(this._hostTNode,this._hostLView);if(fd(l)){const u=S(l,this._hostLView),h=ui(l);return new Ml(u[1].data[h+8],u)}return new Ml(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=ff(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,h){let f,g;"number"==typeof h?f=h:null!=h&&(f=h.index,g=h.injector);const v=l.createEmbeddedView(u||{},g);return this.insert(v,f),v}createComponent(l,u,h,f,g){const v=l&&!function Ks(a){return"function"==typeof a}(l);let C;if(v)C=u;else{const q=u||{};C=q.index,h=q.injector,f=q.projectableNodes,g=q.environmentInjector||q.ngModuleRef}const T=v?l:new qp(V(l)),k=h||this.parentInjector;if(!g&&null==T.ngModule){const J=(v?k:this.parentInjector).get(Hl,null);J&&(g=J)}const F=T.create(k,f,void 0,g);return this.insert(F.hostView,C),F}insert(l,u){const h=l._lView,f=h[1];if(function dc(a){return Pr(a[3])}(h)){const F=this.indexOf(l);if(-1!==F)this.detach(F);else{const q=h[3],J=new Ow(q,q[6],q[3]);J.detach(J.indexOf(l))}}const g=this._adjustIndex(u),v=this._lContainer;!function FM(a,l,u,h){const f=10+h,g=u.length;h>0&&(u[f-1][4]=l),h<g-10?(l[4]=u[f],Ha(u,10+h,l)):(u.push(l),l[4]=null),l[3]=u;const v=l[17];null!==v&&u!==v&&function LM(a,l){const u=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===u?a[9]=[l]:u.push(l)}(v,l);const C=l[19];null!==C&&C.insertView(a),l[2]|=64}(f,h,v,g);const C=YE(g,v),T=h[11],k=D_(T,v[7]);return null!==k&&function VE(a,l,u,h,f,g){h[0]=f,h[6]=l,Ed(a,h,u,1,f,g)}(f,v[6],T,h,k,C),l.attachToViewContainerRef(),Ha(pf(v),g,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=ff(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),h=RA(this._lContainer,u);h&&(si(pf(this._lContainer),u),Rp(h[1],h))}detach(l){const u=this._adjustIndex(l,-1),h=RA(this._lContainer,u);return h&&null!=si(pf(this._lContainer),u)?new Gp(h):null}_adjustIndex(l,u=0){return l??this.length+u}};function ff(a){return a[8]}function pf(a){return a[8]||(a[8]=[])}function Rw(a,l){let u;const h=l[a.index];if(Pr(h))u=h;else{let f;if(8&a.type)f=li(h);else{const g=l[11];f=g.createComment("");const v=Vi(a,l);jl(g,D_(g,v),f,function ZE(a,l){return a.nextSibling(l)}(g,v),!1)}l[a.index]=u=y1(h,l,f,a),Zh(l,u)}return new Ow(u,a,l)}class Hd{constructor(l){this.queryList=l,this.matches=null}clone(){return new Hd(this.queryList)}setDirty(){this.queryList.setDirty()}}class Fg{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const h=null!==l.contentQueries?l.contentQueries[0]:u.length,f=[];for(let g=0;g<h;g++){const v=u.getByIndex(g);f.push(this.queries[v.indexInDeclarationView].clone())}return new Fg(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==Lu(l,u).matches&&this.queries[u].setDirty()}}class xy{constructor(l,u,h=null){this.predicate=l,this.flags=u,this.read=h}}class Lg{constructor(l=[]){this.queries=l}elementStart(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let h=0;h<this.length;h++){const f=null!==u?u.length:0,g=this.getByIndex(h).embeddedTView(l,f);g&&(g.indexInDeclarationView=h,null!==u?u.push(g):u=[g])}return null!==u?new Lg(u):null}template(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class gf{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new gf(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=l.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let f=0;f<h.length;f++){const g=h[f];this.matchTNodeWithReadOption(l,u,Bg(u,g)),this.matchTNodeWithReadOption(l,u,xc(u,l,g,!1,!1))}else h===Pg?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,xc(u,l,h,!1,!1))}matchTNodeWithReadOption(l,u,h){if(null!==h){const f=this.metadata.read;if(null!==f)if(f===Cd||f===Fu||f===Pg&&4&u.type)this.addMatch(u.index,-2);else{const g=xc(u,l,f,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,h)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function Bg(a,l){const u=a.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===l)return u[h+1];return null}function uk(a,l,u,h){return-1===u?function $I(a,l){return 11&a.type?kh(a,l):4&a.type?Ng(a,l):null}(l,a):-2===u?function Nw(a,l,u){return u===Cd?kh(l,a):u===Pg?Ng(l,a):u===Fu?Rw(l,a):void 0}(a,l,h):Ts(a,a[1],u,l)}function Vg(a,l,u,h){const f=l[19].queries[h];if(null===f.matches){const g=a.data,v=u.matches,C=[];for(let T=0;T<v.length;T+=2){const k=v[T];C.push(k<0?null:uk(l,g[k],v[T+1],u.metadata.read))}f.matches=C}return f.matches}function Ug(a,l,u,h){const f=a.queries.getByIndex(u),g=f.matches;if(null!==g){const v=Vg(a,l,f,u);for(let C=0;C<g.length;C+=2){const T=g[C];if(T>0)h.push(v[C/2]);else{const k=g[C+1],F=l[-T];for(let q=10;q<F.length;q++){const J=F[q];J[17]===J[3]&&Ug(J[1],J,k,h)}if(null!==F[9]){const q=F[9];for(let J=0;J<q.length;J++){const ge=q[J];Ug(ge[1],ge,k,h)}}}}}return h}function Fw(a){const l=He(),u=pn(),h=Ra();gc(h+1);const f=Lu(u,h);if(a.dirty&&function uc(a){return 4==(4&a[2])}(l)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const g=f.crossesNgTemplate?Ug(u,l,h,[]):Vg(u,l,f,h);a.reset(g,EE),a.notifyOnChanges()}return!0}return!1}function Lw(a,l,u){const h=pn();h.firstCreatePass&&(zg(h,new xy(a,l,u),-1),2==(2&l)&&(h.staticViewQueries=!0)),Vw(h,He(),l)}function Bw(a,l,u,h){const f=pn();if(f.firstCreatePass){const g=Ii();zg(f,new xy(l,u,h),g.index),function jg(a,l){const u=a.contentQueries||(a.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,l)}(f,a),2==(2&u)&&(f.staticContentQueries=!0)}Vw(f,He(),u)}function KI(){return function Hg(a,l){return a[19].queries[l].queryList}(He(),Ra())}function Vw(a,l,u){const h=new kw(4==(4&u));cb(a,l,h,h.destroy),null===l[19]&&(l[19]=new Fg),l[19].queries.push(new Hd(h))}function zg(a,l,u){null===a.queries&&(a.queries=new Lg),a.queries.track(new gf(l,u))}function Lu(a,l){return a.queries.getByIndex(l)}function Yg(...a){}const bf=new ri("Application Initializer");let $g=(()=>{class a{constructor(u){this.appInits=u,this.resolve=Yg,this.reject=Yg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,f)=>{this.resolve=h,this.reject=f})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(iy(g))u.push(g);else if(Ib(g)){const v=new Promise((C,T)=>{g.subscribe({complete:C,error:T})});u.push(v)}}Promise.all(u).then(()=>{h()}).catch(f=>{this.reject(f)}),0===u.length&&h(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(nn(bf,8))},a.\u0275prov=un({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Ny=new ri("AppId",{providedIn:"root",factory:function Kg(){return`${wf()}${wf()}${wf()}`}});function wf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const fS=new ri("Platform Initializer"),pS=new ri("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Cf=new ri("appBootstrapListener"),gS=new ri("AnimationModuleType");let Kw=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=un({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const Qg=new ri("LocaleId",{providedIn:"root",factory:()=>x(Qg,nt.Optional|nt.SkipSelf)||function Qw(){return typeof $localize<"u"&&$localize.locale||rf}()}),Fy=new ri("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class mS{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let _S=(()=>{class a{compileModuleSync(u){return new Vd(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),g=Bc(_t(u).declarations).reduce((v,C)=>{const T=V(C);return T&&v.push(new qp(T)),v},[]);return new mS(h,g)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=un({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Ik=(()=>Promise.resolve(0))();function Xw(a){typeof Zone>"u"?Ik.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class ma{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $l(!1),this.onMicrotaskEmpty=new $l(!1),this.onStable=new $l(!1),this.onError=new $l(!1),typeof Zone>"u")throw new Oe(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!h&&u,f.shouldCoalesceRunChangeDetection=h,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function e0(){let a=qt.requestAnimationFrame,l=qt.cancelAnimationFrame;if(typeof Zone<"u"&&a&&l){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function Vy(a){const l=()=>{!function Tk(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(qt,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,t0(a),a.isCheckStableRunning=!0,By(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),t0(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,f,g,v,C)=>{try{return n0(a),u.invokeTask(f,g,v,C)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||a.shouldCoalesceRunChangeDetection)&&l(),Tr(a)}},onInvoke:(u,h,f,g,v,C,T)=>{try{return n0(a),u.invoke(f,g,v,C,T)}finally{a.shouldCoalesceRunChangeDetection&&l(),Tr(a)}},onHasTask:(u,h,f,g)=>{u.hasTask(f,g),h===f&&("microTask"==g.change?(a._hasPendingMicrotasks=g.microTask,t0(a),By(a)):"macroTask"==g.change&&(a.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,h,f,g)=>(u.handleError(f,g),a.runOutsideAngular(()=>a.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ma.isInAngularZone())throw new Oe(909,!1)}static assertNotInAngularZone(){if(ma.isInAngularZone())throw new Oe(909,!1)}run(l,u,h){return this._inner.run(l,u,h)}runTask(l,u,h,f){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+f,l,Sk,Yg,Yg);try{return g.runTask(v,u,h)}finally{g.cancelTask(v)}}runGuarded(l,u,h){return this._inner.runGuarded(l,u,h)}runOutsideAngular(l){return this._outer.run(l)}}const Sk={};function By(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function t0(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function n0(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function Tr(a){a._nesting--,By(a)}class Df{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $l,this.onMicrotaskEmpty=new $l,this.onStable=new $l,this.onError=new $l}run(l,u,h){return l.apply(u,h)}runGuarded(l,u,h){return l.apply(u,h)}runOutsideAngular(l){return l()}runTask(l,u,h,f){return l.apply(u,h)}}const Zc=new ri(""),Uy=new ri("");let Wc,xk=(()=>{class a{constructor(u,h,f){this._ngZone=u,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Wc||(function or(a){Wc=a}(f),f.addToWindow(h)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ma.assertNotInAngularZone(),Xw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Xw(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,f){let g=-1;h&&h>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:f})}whenStable(u,h,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,h,f){return[]}}return a.\u0275fac=function(u){return new(u||a)(nn(ma),nn(tt),nn(Uy))},a.\u0275prov=un({token:a,factory:a.\u0275fac}),a})(),tt=(()=>{class a{constructor(){this._applications=new Map}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return Wc?.findTestabilityInTree(this,u,h)??null}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=un({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),Ql=null;const Et=new ri("AllowMultipleToken"),$t=new ri("PlatformDestroyListeners");class xr{constructor(l,u){this.name=l,this.token=u}}function bS(a,l,u=[]){const h=`Platform: ${l}`,f=new ri(h);return(g=[])=>{let v=wS();if(!v||v.injector.get(Et,!1)){const C=[...u,...g,{provide:f,useValue:!0}];a?a(C):function vS(a){if(Ql&&!Ql.get(Et,!1))throw new Oe(400,!1);Ql=a;const l=a.get(CS);(function AS(a){const l=a.get(fS,null);l&&l.forEach(u=>u())})(a)}(function r0(a=[],l){return xn.create({name:l,providers:[{provide:s_,useValue:"platform"},{provide:$t,useValue:new Set([()=>Ql=null])},...a]})}(C,h))}return function kk(a){const l=wS();if(!l)throw new Oe(401,!1);return l}()}}function wS(){return Ql?.get(CS)??null}let CS=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const f=function cn(a,l){let u;return u="noop"===a?new Df:("zone.js"===a?void 0:a)||new ma(l),u}(h?.ngZone,function s0(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(h)),g=[{provide:ma,useValue:f}];return f.run(()=>{const v=xn.create({providers:g,parent:this.injector,name:u.moduleType.name}),C=u.create(v),T=C.injector.get(kp,null);if(!T)throw new Oe(402,!1);return f.runOutsideAngular(()=>{const k=f.onError.subscribe({next:F=>{T.handleError(F)}});C.onDestroy(()=>{Gt(this._modules,C),k.unsubscribe()})}),function Gd(a,l,u){try{const h=u();return iy(h)?h.catch(f=>{throw l.runOutsideAngular(()=>a.handleError(f)),f}):h}catch(h){throw l.runOutsideAngular(()=>a.handleError(h)),h}}(T,f,()=>{const k=C.injector.get($g);return k.runInitializers(),k.donePromise.then(()=>(function pI(a){an(a,"Expected localeId to be defined"),"string"==typeof a&&($b=a.toLowerCase().replace(/_/g,"-"))}(C.injector.get(Qg,rf)||rf),this._moduleDoBootstrap(C),C))})})}bootstrapModule(u,h=[]){const f=o0({},h);return function gt(a,l,u){const h=new Vd(u);return Promise.resolve(h)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(u){const h=u.injector.get(vi);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(f=>h.bootstrap(f));else{if(!u.instance.ngDoBootstrap)throw new Oe(403,!1);u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Oe(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const u=this._injector.get($t,null);u&&(u.forEach(h=>h()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(nn(xn))},a.\u0275prov=un({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function o0(a,l){return Array.isArray(l)?l.reduce(o0,a):{...a,...l}}let vi=(()=>{class a{constructor(u,h,f){this._zone=u,this._injector=h,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new U.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),v=new U.y(C=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{ma.assertNotInAngularZone(),Xw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{ma.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{T.unsubscribe(),k.unsubscribe()}});this.isStable=(0,pe.T)(g,v.pipe((0,ye.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,h){const f=u instanceof pA;if(!this._injector.get($g).done)throw!f&&Ge(u),new Oe(405,false);let v;v=f?u:this._injector.get(Su).resolveComponentFactory(u),this.componentTypes.push(v.componentType);const C=function Ye(a){return a.isBoundToModule}(v)?void 0:this._injector.get(Nu),k=v.create(xn.NULL,[],h||v.selector,C),F=k.location.nativeElement,q=k.injector.get(Zc,null);return q?.registerApplication(F),k.onDestroy(()=>{this.detachView(k.hostView),Gt(this.components,k),q?.unregisterApplication(F)}),this._loadComponent(k),k}tick(){if(this._runningTick)throw new Oe(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;Gt(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(Cf,[]).concat(this._bootstrapListeners).forEach(f=>f(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Gt(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new Oe(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(u){return new(u||a)(nn(ma),nn(Hl),nn(kp))},a.\u0275prov=un({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Gt(a,l){const u=a.indexOf(l);u>-1&&a.splice(u,1)}let ES=!0,Hi=!1;function ft(){return Hi=!0,ES}function Hy(){if(Hi)throw new Error("Cannot enable prod mode after platform setup.");ES=!1}let zy=(()=>{class a{}return a.__NG_ELEMENT_ID__=Ok,a})();function Ok(a){return function Jg(a,l,u){if(Nr(a)&&!u){const h=Sn(a.index,l);return new Gp(h,h)}return 47&a.type?new Gp(l[16],l):null}(Ii(),He(),16==(16&a))}class Uu{constructor(){}supports(l){return X_(l)}create(l){return new Qi(l)}}const MS=(a,l)=>l;class Qi{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||MS}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,h=this._removalsHead,f=0,g=null;for(;u||h;){const v=!h||u&&u.currentIndex<l0(h,f,g)?u:h,C=l0(v,f,g),T=v.currentIndex;if(v===h)f--,h=h._nextRemoved;else if(u=u._next,null==v.previousIndex)f++;else{g||(g=[]);const k=C-f,F=T-f;if(k!=F){for(let J=0;J<k;J++){const ge=J<g.length?g[J]:g[J]=0,Re=ge+J;F<=Re&&Re<k&&(g[J]=ge+1)}g[v.previousIndex]=F-k}}C!==T&&l(v,C,T)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!X_(l))throw new Oe(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,g,v,u=this._itHead,h=!1;if(Array.isArray(l)){this.length=l.length;for(let C=0;C<this.length;C++)g=l[C],v=this._trackByFn(C,g),null!==u&&Object.is(u.trackById,v)?(h&&(u=this._verifyReinsertion(u,g,v,C)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,v,C),h=!0),u=u._next}else f=0,function CL(a,l){if(Array.isArray(a))for(let u=0;u<a.length;u++)l(a[u]);else{const u=a[Kh()]();let h;for(;!(h=u.next()).done;)l(h.value)}}(l,C=>{v=this._trackByFn(f,C),null!==u&&Object.is(u.trackById,v)?(h&&(u=this._verifyReinsertion(u,C,v,f)),Object.is(u.item,C)||this._addIdentityChange(u,C)):(u=this._mismatch(u,C,v,f),h=!0),u=u._next,f++}),this.length=f;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,h,f){let g;return null===l?g=this._itTail:(g=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,g,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(h,f))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,g,f)):l=this._addAfter(new Gy(u,h),g,f),l}_verifyReinsertion(l,u,h,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==g?l=this._reinsertAfter(g,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,g=l._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(l,u,h),this._addToMoves(l,h),l}_moveAfter(l,u,h){return this._unlink(l),this._insertAfter(l,u,h),this._addToMoves(l,h),l}_addAfter(l,u,h){return this._insertAfter(l,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,h){const f=null===u?this._itHead:u._next;return l._next=f,l._prev=u,null===f?this._itTail=l:f._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new ai),this._linkedRecords.put(l),l.currentIndex=h,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,h=l._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ai),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class Gy{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ts{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,l))return h;return null}remove(l){const u=l._prevDup,h=l._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class ai{constructor(){this.map=new Map}put(l){const u=l.trackById;let h=this.map.get(u);h||(h=new ts,this.map.set(u,h)),h.add(l)}get(l,u){const f=this.map.get(l);return f?f.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function l0(a,l,u){const h=a.previousIndex;if(null===h)return h;let f=0;return u&&h<u.length&&(f=u[h]),h+l+f}class Zd{constructor(){}supports(l){return l instanceof Map||PD(l)}create(){return new Mo}}class Mo{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||PD(l)))throw new Oe(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(h,f)=>{if(u&&u.key===f)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(f,h);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const h=l._prev;return u._next=l,u._prev=h,l._prev=u,h&&(h._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,u);const g=f._prev,v=f._next;return g&&(g._next=v),v&&(v._prev=g),f._next=null,f._prev=null,f}const h=new Bk(l);return this._records.set(l,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(h=>u(l[h],h))}}class Bk{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function pr(){return new c0([new Uu])}let c0=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(null!=h){const f=h.factories.slice();u=u.concat(f)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||pr()),deps:[[a,new Yt,new $e]]}}find(u){const h=this.factories.find(f=>f.supports(u));if(null!=h)return h;throw new Oe(901,!1)}}return a.\u0275prov=un({token:a,providedIn:"root",factory:pr}),a})();function zi(){return new Kc([new Zd])}let Kc=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(h){const f=h.factories.slice();u=u.concat(f)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||zi()),deps:[[a,new Yt,new $e]]}}find(u){const h=this.factories.find(f=>f.supports(u));if(h)return h;throw new Oe(901,!1)}}return a.\u0275prov=un({token:a,providedIn:"root",factory:zi}),a})();const Hu=bS(null,"core",[]);let em=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(nn(vi))},a.\u0275mod=_n({type:a}),a.\u0275inj=Nt({}),a})();function tm(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},3942:(It,_e,j)=>{"use strict";j.d(_e,{Z:()=>Oe});var s=j(2090),L=j(4859),U=j(9681),pe=j(1877);class ye{constructor(Me,be){this._delegate=Me,this.firebase=be,(0,U._addComponent)(Me,new L.wA("app-compat",()=>this,"PUBLIC")),this.container=Me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Me){this._delegate.automaticDataCollectionEnabled=Me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Me=>{this._delegate.checkDestroyed(),Me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(Me,be=U._DEFAULT_ENTRY_NAME){var Ze;this._delegate.checkDestroyed();const ut=this._delegate.container.getProvider(Me);return!ut.isInitialized()&&"EXPLICIT"===(null===(Ze=ut.getComponent())||void 0===Ze?void 0:Ze.instantiationMode)&&ut.initialize(),ut.getImmediate({identifier:be})}_removeServiceInstance(Me,be=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Me).clearInstance(be)}_addComponent(Me){(0,U._addComponent)(this._delegate,Me)}_addOrOverwriteComponent(Me){(0,U._addOrOverwriteComponent)(this._delegate,Me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ae=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ne=function Se(){const rt=function ve(rt){const Me={},be={__esModule:!0,initializeApp:function je(de,Ae={}){const Ee=U.initializeApp(de,Ae);if((0,s.r3)(Me,Ee.name))return Me[Ee.name];const re=new rt(Ee,be);return Me[Ee.name]=re,re},app:ut,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function ke(de){const Ae=de.name,Ee=Ae.replace("-compat","");if(U._registerComponent(de)&&"PUBLIC"===de.type){const re=(ce=ut())=>{if("function"!=typeof ce[Ee])throw ae.create("invalid-app-argument",{appName:Ae});return ce[Ee]()};void 0!==de.serviceProps&&(0,s.ZB)(re,de.serviceProps),be[Ee]=re,rt.prototype[Ee]=function(...ce){return this._getService.bind(this,Ae).apply(this,de.multipleInstances?ce:[])}}return"PUBLIC"===de.type?be[Ee]:null},removeApp:function Ze(de){delete Me[de]},useAsService:function st(de,Ae){return"serverAuth"===Ae?null:Ae},modularAPIs:U}};function ut(de){if(!(0,s.r3)(Me,de=de||U._DEFAULT_ENTRY_NAME))throw ae.create("no-app",{appName:de});return Me[de]}return be.default=be,Object.defineProperty(be,"apps",{get:function Ue(){return Object.keys(Me).map(de=>Me[de])}}),ut.App=rt,be}(ye);return rt.INTERNAL=Object.assign(Object.assign({},rt.INTERNAL),{createFirebaseNamespace:Se,extendNamespace:function Me(be){(0,s.ZB)(rt,be)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),rt}(),ee=new pe.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){ee.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const rt=self.firebase.SDK_VERSION;rt&&rt.indexOf("LITE")>=0&&ee.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Oe=ne;!function Ve(rt){(0,U.registerVersion)("@firebase/app-compat","0.1.39",rt)}()},9681:(It,_e,j)=>{"use strict";j.r(_e),j.d(_e,{FirebaseError:()=>pe.ZR,SDK_VERSION:()=>en,_DEFAULT_ENTRY_NAME:()=>an,_addComponent:()=>Dn,_addOrOverwriteComponent:()=>un,_apps:()=>Rn,_clearComponents:()=>pi,_components:()=>Fn,_getProvider:()=>Nt,_registerComponent:()=>Bt,_removeServiceInstance:()=>qi,deleteApp:()=>Zn,getApp:()=>Ln,getApps:()=>Wi,initializeApp:()=>ei,onLog:()=>ti,registerVersion:()=>bi,setLogLevel:()=>dn});var s=j(5861),L=j(4859),U=j(1877),pe=j(2090),ye=j(8766);class De{constructor(Pe){this.container=Pe}getPlatformInfoString(){return this.container.getProviders().map(mt=>{if(function ae(pt){return"VERSION"===pt.getComponent()?.type}(mt)){const Tt=mt.getImmediate();return`${Tt.library}/${Tt.version}`}return null}).filter(mt=>mt).join(" ")}}const ve="@firebase/app",ne=new U.Yd("@firebase/app"),an="[DEFAULT]",lt={[ve]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Rn=new Map,Fn=new Map;function Dn(pt,Pe){try{pt.container.addComponent(Pe)}catch(mt){ne.debug(`Component ${Pe.name} failed to register with FirebaseApp ${pt.name}`,mt)}}function un(pt,Pe){pt.container.addOrOverwriteComponent(Pe)}function Bt(pt){const Pe=pt.name;if(Fn.has(Pe))return ne.debug(`There were multiple attempts to register component ${Pe}.`),!1;Fn.set(Pe,pt);for(const mt of Rn.values())Dn(mt,pt);return!0}function Nt(pt,Pe){const mt=pt.container.getProvider("heartbeat").getImmediate({optional:!0});return mt&&mt.triggerHeartbeat(),pt.container.getProvider(Pe)}function qi(pt,Pe,mt=an){Nt(pt,Pe).clearInstance(mt)}function pi(){Fn.clear()}const Xn=new pe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Yr{constructor(Pe,mt,Tt){this._isDeleted=!1,this._options=Object.assign({},Pe),this._config=Object.assign({},mt),this._name=mt.name,this._automaticDataCollectionEnabled=mt.automaticDataCollectionEnabled,this._container=Tt,this.container.addComponent(new L.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Pe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Pe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Pe){this._isDeleted=Pe}checkDestroyed(){if(this.isDeleted)throw Xn.create("app-deleted",{appName:this._name})}}const en="9.14.0";function ei(pt,Pe={}){let mt=pt;"object"!=typeof Pe&&(Pe={name:Pe});const Tt=Object.assign({name:an,automaticDataCollectionEnabled:!1},Pe),Rt=Tt.name;if("string"!=typeof Rt||!Rt)throw Xn.create("bad-app-name",{appName:String(Rt)});if(mt||(mt=(0,pe.aH)()),!mt)throw Xn.create("no-options");const _n=Rn.get(Rt);if(_n){if((0,pe.vZ)(mt,_n.options)&&(0,pe.vZ)(Tt,_n.config))return _n;throw Xn.create("duplicate-app",{appName:Rt})}const te=new L.H0(Rt);for(const ie of Fn.values())te.addComponent(ie);const Q=new Yr(mt,Tt,te);return Rn.set(Rt,Q),Q}function Ln(pt=an){const Pe=Rn.get(pt);if(!Pe&&pt===an)return ei();if(!Pe)throw Xn.create("no-app",{appName:pt});return Pe}function Wi(){return Array.from(Rn.values())}function Zn(pt){return nt.apply(this,arguments)}function nt(){return(nt=(0,s.Z)(function*(pt){const Pe=pt.name;Rn.has(Pe)&&(Rn.delete(Pe),yield Promise.all(pt.container.getProviders().map(mt=>mt.delete())),pt.isDeleted=!0)})).apply(this,arguments)}function bi(pt,Pe,mt){var Tt;let Rt=null!==(Tt=lt[pt])&&void 0!==Tt?Tt:pt;mt&&(Rt+=`-${mt}`);const _n=Rt.match(/\s|\//),te=Pe.match(/\s|\//);if(_n||te){const Q=[`Unable to register library "${Rt}" with version "${Pe}":`];return _n&&Q.push(`library name "${Rt}" contains illegal characters (whitespace or "/")`),_n&&te&&Q.push("and"),te&&Q.push(`version name "${Pe}" contains illegal characters (whitespace or "/")`),void ne.warn(Q.join(" "))}Bt(new L.wA(`${Rt}-version`,()=>({library:Rt,version:Pe}),"VERSION"))}function ti(pt,Pe){if(null!==pt&&"function"!=typeof pt)throw Xn.create("invalid-log-argument");(0,U.Am)(pt,Pe)}function dn(pt){(0,U.Ub)(pt)}const zn="firebase-heartbeat-store";let jn=null;function Gn(){return jn||(jn=(0,ye.X3)("firebase-heartbeat-database",1,{upgrade:(pt,Pe)=>{0===Pe&&pt.createObjectStore(zn)}}).catch(pt=>{throw Xn.create("idb-open",{originalErrorMessage:pt.message})})),jn}function Xe(){return(Xe=(0,s.Z)(function*(pt){var Pe;try{return(yield Gn()).transaction(zn).objectStore(zn).get(gi(pt))}catch(mt){if(mt instanceof pe.ZR)ne.warn(mt.message);else{const Tt=Xn.create("idb-get",{originalErrorMessage:null===(Pe=mt)||void 0===Pe?void 0:Pe.message});ne.warn(Tt.message)}}})).apply(this,arguments)}function qt(pt,Pe){return ur.apply(this,arguments)}function ur(){return(ur=(0,s.Z)(function*(pt,Pe){var mt;try{const Rt=(yield Gn()).transaction(zn,"readwrite");return yield Rt.objectStore(zn).put(Pe,gi(pt)),Rt.done}catch(Tt){if(Tt instanceof pe.ZR)ne.warn(Tt.message);else{const Rt=Xn.create("idb-set",{originalErrorMessage:null===(mt=Tt)||void 0===mt?void 0:mt.message});ne.warn(Rt.message)}}})).apply(this,arguments)}function gi(pt){return`${pt.name}!${pt.options.appId}`}class mi{constructor(Pe){this.container=Pe,this._heartbeatsCache=null;const mt=this.container.getProvider("app").getImmediate();this._storage=new gn(mt),this._heartbeatsCachePromise=this._storage.read().then(Tt=>(this._heartbeatsCache=Tt,Tt))}triggerHeartbeat(){var Pe=this;return(0,s.Z)(function*(){const Tt=Pe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Rt=Jt();if(null===Pe._heartbeatsCache&&(Pe._heartbeatsCache=yield Pe._heartbeatsCachePromise),Pe._heartbeatsCache.lastSentHeartbeatDate!==Rt&&!Pe._heartbeatsCache.heartbeats.some(_n=>_n.date===Rt))return Pe._heartbeatsCache.heartbeats.push({date:Rt,agent:Tt}),Pe._heartbeatsCache.heartbeats=Pe._heartbeatsCache.heartbeats.filter(_n=>{const te=new Date(_n.date).valueOf();return Date.now()-te<=2592e6}),Pe._storage.overwrite(Pe._heartbeatsCache)})()}getHeartbeatsHeader(){var Pe=this;return(0,s.Z)(function*(){if(null===Pe._heartbeatsCache&&(yield Pe._heartbeatsCachePromise),null===Pe._heartbeatsCache||0===Pe._heartbeatsCache.heartbeats.length)return"";const mt=Jt(),{heartbeatsToSend:Tt,unsentEntries:Rt}=function gr(pt,Pe=1024){const mt=[];let Tt=pt.slice();for(const Rt of pt){const _n=mt.find(te=>te.agent===Rt.agent);if(_n){if(_n.dates.push(Rt.date),Ni(mt)>Pe){_n.dates.pop();break}}else if(mt.push({agent:Rt.agent,dates:[Rt.date]}),Ni(mt)>Pe){mt.pop();break}Tt=Tt.slice(1)}return{heartbeatsToSend:mt,unsentEntries:Tt}}(Pe._heartbeatsCache.heartbeats),_n=(0,pe.L)(JSON.stringify({version:2,heartbeats:Tt}));return Pe._heartbeatsCache.lastSentHeartbeatDate=mt,Rt.length>0?(Pe._heartbeatsCache.heartbeats=Rt,yield Pe._storage.overwrite(Pe._heartbeatsCache)):(Pe._heartbeatsCache.heartbeats=[],Pe._storage.overwrite(Pe._heartbeatsCache)),_n})()}}function Jt(){return(new Date).toISOString().substring(0,10)}class gn{constructor(Pe){this.app=Pe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,pe.hl)()&&(0,pe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Pe=this;return(0,s.Z)(function*(){return(yield Pe._canUseIndexedDBPromise)&&(yield function St(pt){return Xe.apply(this,arguments)}(Pe.app))||{heartbeats:[]}})()}overwrite(Pe){var mt=this;return(0,s.Z)(function*(){var Tt;if(yield mt._canUseIndexedDBPromise){const _n=yield mt.read();return qt(mt.app,{lastSentHeartbeatDate:null!==(Tt=Pe.lastSentHeartbeatDate)&&void 0!==Tt?Tt:_n.lastSentHeartbeatDate,heartbeats:Pe.heartbeats})}})()}add(Pe){var mt=this;return(0,s.Z)(function*(){var Tt;if(yield mt._canUseIndexedDBPromise){const _n=yield mt.read();return qt(mt.app,{lastSentHeartbeatDate:null!==(Tt=Pe.lastSentHeartbeatDate)&&void 0!==Tt?Tt:_n.lastSentHeartbeatDate,heartbeats:[..._n.heartbeats,...Pe.heartbeats]})}})()}}function Ni(pt){return(0,pe.L)(JSON.stringify({version:2,heartbeats:pt})).length}!function Qn(pt){Bt(new L.wA("platform-logger",Pe=>new De(Pe),"PRIVATE")),Bt(new L.wA("heartbeat",Pe=>new mi(Pe),"PRIVATE")),bi(ve,"0.8.4",pt),bi(ve,"0.8.4","esm2017"),bi("fire-js","")}("")},4859:(It,_e,j)=>{"use strict";j.d(_e,{H0:()=>ve,wA:()=>U,zt:()=>ye});var s=j(5861),L=j(2090);class U{constructor(ne,ee,oe){this.name=ne,this.instanceFactory=ee,this.type=oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ne){return this.instantiationMode=ne,this}setMultipleInstances(ne){return this.multipleInstances=ne,this}setServiceProps(ne){return this.serviceProps=ne,this}setInstanceCreatedCallback(ne){return this.onInstanceCreated=ne,this}}const pe="[DEFAULT]";class ye{constructor(ne,ee){this.name=ne,this.container=ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ne){const ee=this.normalizeInstanceIdentifier(ne);if(!this.instancesDeferred.has(ee)){const oe=new L.BH;if(this.instancesDeferred.set(ee,oe),this.isInitialized(ee)||this.shouldAutoInitialize())try{const Je=this.getOrInitializeService({instanceIdentifier:ee});Je&&oe.resolve(Je)}catch{}}return this.instancesDeferred.get(ee).promise}getImmediate(ne){var ee;const oe=this.normalizeInstanceIdentifier(ne?.identifier),Je=null!==(ee=ne?.optional)&&void 0!==ee&&ee;if(!this.isInitialized(oe)&&!this.shouldAutoInitialize()){if(Je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:oe})}catch(Ve){if(Je)return null;throw Ve}}getComponent(){return this.component}setComponent(ne){if(ne.name!==this.name)throw Error(`Mismatching Component ${ne.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ne,this.shouldAutoInitialize()){if(function ae(Se){return"EAGER"===Se.instantiationMode}(ne))try{this.getOrInitializeService({instanceIdentifier:pe})}catch{}for(const[ee,oe]of this.instancesDeferred.entries()){const Je=this.normalizeInstanceIdentifier(ee);try{const Ve=this.getOrInitializeService({instanceIdentifier:Je});oe.resolve(Ve)}catch{}}}}clearInstance(ne=pe){this.instancesDeferred.delete(ne),this.instancesOptions.delete(ne),this.instances.delete(ne)}delete(){var ne=this;return(0,s.Z)(function*(){const ee=Array.from(ne.instances.values());yield Promise.all([...ee.filter(oe=>"INTERNAL"in oe).map(oe=>oe.INTERNAL.delete()),...ee.filter(oe=>"_delete"in oe).map(oe=>oe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ne=pe){return this.instances.has(ne)}getOptions(ne=pe){return this.instancesOptions.get(ne)||{}}initialize(ne={}){const{options:ee={}}=ne,oe=this.normalizeInstanceIdentifier(ne.instanceIdentifier);if(this.isInitialized(oe))throw Error(`${this.name}(${oe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Je=this.getOrInitializeService({instanceIdentifier:oe,options:ee});for(const[Ve,Oe]of this.instancesDeferred.entries())oe===this.normalizeInstanceIdentifier(Ve)&&Oe.resolve(Je);return Je}onInit(ne,ee){var oe;const Je=this.normalizeInstanceIdentifier(ee),Ve=null!==(oe=this.onInitCallbacks.get(Je))&&void 0!==oe?oe:new Set;Ve.add(ne),this.onInitCallbacks.set(Je,Ve);const Oe=this.instances.get(Je);return Oe&&ne(Oe,Je),()=>{Ve.delete(ne)}}invokeOnInitCallbacks(ne,ee){const oe=this.onInitCallbacks.get(ee);if(oe)for(const Je of oe)try{Je(ne,ee)}catch{}}getOrInitializeService({instanceIdentifier:ne,options:ee={}}){let oe=this.instances.get(ne);if(!oe&&this.component&&(oe=this.component.instanceFactory(this.container,{instanceIdentifier:(Se=ne,Se===pe?void 0:Se),options:ee}),this.instances.set(ne,oe),this.instancesOptions.set(ne,ee),this.invokeOnInitCallbacks(oe,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,oe)}catch{}var Se;return oe||null}normalizeInstanceIdentifier(ne=pe){return this.component?this.component.multipleInstances?ne:pe:ne}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ve{constructor(ne){this.name=ne,this.providers=new Map}addComponent(ne){const ee=this.getProvider(ne.name);if(ee.isComponentSet())throw new Error(`Component ${ne.name} has already been registered with ${this.name}`);ee.setComponent(ne)}addOrOverwriteComponent(ne){this.getProvider(ne.name).isComponentSet()&&this.providers.delete(ne.name),this.addComponent(ne)}getProvider(ne){if(this.providers.has(ne))return this.providers.get(ne);const ee=new ye(ne,this);return this.providers.set(ne,ee),ee}getProviders(){return Array.from(this.providers.values())}}},1877:(It,_e,j)=>{"use strict";j.d(_e,{Am:()=>Se,Ub:()=>ve,Yd:()=>ae,in:()=>L});const s=[];var L=(()=>{return(ne=L||(L={}))[ne.DEBUG=0]="DEBUG",ne[ne.VERBOSE=1]="VERBOSE",ne[ne.INFO=2]="INFO",ne[ne.WARN=3]="WARN",ne[ne.ERROR=4]="ERROR",ne[ne.SILENT=5]="SILENT",L;var ne})();const U={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},pe=L.INFO,ye={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},De=(ne,ee,...oe)=>{if(ee<ne.logLevel)return;const Je=(new Date).toISOString(),Ve=ye[ee];if(!Ve)throw new Error(`Attempted to log a message with an invalid logType (value: ${ee})`);console[Ve](`[${Je}]  ${ne.name}:`,...oe)};class ae{constructor(ee){this.name=ee,this._logLevel=pe,this._logHandler=De,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(ee){if(!(ee in L))throw new TypeError(`Invalid value "${ee}" assigned to \`logLevel\``);this._logLevel=ee}setLogLevel(ee){this._logLevel="string"==typeof ee?U[ee]:ee}get logHandler(){return this._logHandler}set logHandler(ee){if("function"!=typeof ee)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ee}get userLogHandler(){return this._userLogHandler}set userLogHandler(ee){this._userLogHandler=ee}debug(...ee){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...ee),this._logHandler(this,L.DEBUG,...ee)}log(...ee){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...ee),this._logHandler(this,L.VERBOSE,...ee)}info(...ee){this._userLogHandler&&this._userLogHandler(this,L.INFO,...ee),this._logHandler(this,L.INFO,...ee)}warn(...ee){this._userLogHandler&&this._userLogHandler(this,L.WARN,...ee),this._logHandler(this,L.WARN,...ee)}error(...ee){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...ee),this._logHandler(this,L.ERROR,...ee)}}function ve(ne){s.forEach(ee=>{ee.setLogLevel(ne)})}function Se(ne,ee){for(const oe of s){let Je=null;ee&&ee.level&&(Je=U[ee.level]),oe.userLogHandler=null===ne?null:(Ve,Oe,...rt)=>{const Me=rt.map(be=>{if(null==be)return null;if("string"==typeof be)return be;if("number"==typeof be||"boolean"==typeof be)return be.toString();if(be instanceof Error)return be.message;try{return JSON.stringify(be)}catch{return null}}).filter(be=>be).join(" ");Oe>=(Je??Ve.logLevel)&&ne({level:L[Oe].toLowerCase(),message:Me,args:rt,type:Ve.name})}}}},8766:(It,_e,j)=>{"use strict";j.d(_e,{Lj:()=>je,X3:()=>ut});var s=j(5861);let U,pe;const ae=new WeakMap,ve=new WeakMap,Se=new WeakMap,ne=new WeakMap,ee=new WeakMap;let Ve={get(Ae,Ee,re){if(Ae instanceof IDBTransaction){if("done"===Ee)return ve.get(Ae);if("objectStoreNames"===Ee)return Ae.objectStoreNames||Se.get(Ae);if("store"===Ee)return re.objectStoreNames[1]?void 0:re.objectStore(re.objectStoreNames[0])}return be(Ae[Ee])},set:(Ae,Ee,re)=>(Ae[Ee]=re,!0),has:(Ae,Ee)=>Ae instanceof IDBTransaction&&("done"===Ee||"store"===Ee)||Ee in Ae};function Me(Ae){return"function"==typeof Ae?function rt(Ae){return Ae!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function De(){return pe||(pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ae)?function(...Ee){return Ae.apply(Ze(this),Ee),be(ae.get(this))}:function(...Ee){return be(Ae.apply(Ze(this),Ee))}:function(Ee,...re){const ce=Ae.call(Ze(this),Ee,...re);return Se.set(ce,Ee.sort?Ee.sort():[Ee]),be(ce)}}(Ae):(Ae instanceof IDBTransaction&&function Je(Ae){if(ve.has(Ae))return;const Ee=new Promise((re,ce)=>{const we=()=>{Ae.removeEventListener("complete",fe),Ae.removeEventListener("error",We),Ae.removeEventListener("abort",We)},fe=()=>{re(),we()},We=()=>{ce(Ae.error||new DOMException("AbortError","AbortError")),we()};Ae.addEventListener("complete",fe),Ae.addEventListener("error",We),Ae.addEventListener("abort",We)});ve.set(Ae,Ee)}(Ae),((Ae,Ee)=>Ee.some(re=>Ae instanceof re))(Ae,function ye(){return U||(U=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ae,Ve):Ae)}function be(Ae){if(Ae instanceof IDBRequest)return function oe(Ae){const Ee=new Promise((re,ce)=>{const we=()=>{Ae.removeEventListener("success",fe),Ae.removeEventListener("error",We)},fe=()=>{re(be(Ae.result)),we()},We=()=>{ce(Ae.error),we()};Ae.addEventListener("success",fe),Ae.addEventListener("error",We)});return Ee.then(re=>{re instanceof IDBCursor&&ae.set(re,Ae)}).catch(()=>{}),ee.set(Ee,Ae),Ee}(Ae);if(ne.has(Ae))return ne.get(Ae);const Ee=Me(Ae);return Ee!==Ae&&(ne.set(Ae,Ee),ee.set(Ee,Ae)),Ee}const Ze=Ae=>ee.get(Ae);function ut(Ae,Ee,{blocked:re,upgrade:ce,blocking:we,terminated:fe}={}){const We=indexedDB.open(Ae,Ee),Qe=be(We);return ce&&We.addEventListener("upgradeneeded",Ct=>{ce(be(We.result),Ct.oldVersion,Ct.newVersion,be(We.transaction))}),re&&We.addEventListener("blocked",()=>re()),Qe.then(Ct=>{fe&&Ct.addEventListener("close",()=>fe()),we&&Ct.addEventListener("versionchange",()=>we())}).catch(()=>{}),Qe}function je(Ae,{blocked:Ee}={}){const re=indexedDB.deleteDatabase(Ae);return Ee&&re.addEventListener("blocked",()=>Ee()),be(re).then(()=>{})}const Ue=["get","getKey","getAll","getAllKeys","count"],ke=["put","add","delete","clear"],st=new Map;function de(Ae,Ee){if(!(Ae instanceof IDBDatabase)||Ee in Ae||"string"!=typeof Ee)return;if(st.get(Ee))return st.get(Ee);const re=Ee.replace(/FromIndex$/,""),ce=Ee!==re,we=ke.includes(re);if(!(re in(ce?IDBIndex:IDBObjectStore).prototype)||!we&&!Ue.includes(re))return;const fe=function(){var We=(0,s.Z)(function*(Qe,...Ct){const An=this.transaction(Qe,we?"readwrite":"readonly");let an=An.store;return ce&&(an=an.index(Ct.shift())),(yield Promise.all([an[re](...Ct),we&&An.done]))[0]});return function(Ct){return We.apply(this,arguments)}}();return st.set(Ee,fe),fe}!function Oe(Ae){Ve=Ae(Ve)}(Ae=>({...Ae,get:(Ee,re,ce)=>de(Ee,re)||Ae.get(Ee,re,ce),has:(Ee,re)=>!!de(Ee,re)||Ae.has(Ee,re)}))},5861:(It,_e,j)=>{"use strict";function s(U,pe,ye,De,ae,ve,Se){try{var ne=U[ve](Se),ee=ne.value}catch(oe){return void ye(oe)}ne.done?pe(ee):Promise.resolve(ee).then(De,ae)}function L(U){return function(){var pe=this,ye=arguments;return new Promise(function(De,ae){var ve=U.apply(pe,ye);function Se(ee){s(ve,De,ae,Se,ne,"next",ee)}function ne(ee){s(ve,De,ae,Se,ne,"throw",ee)}Se(void 0)})}}j.d(_e,{Z:()=>L})}},It=>{It(It.s=3243)}]);